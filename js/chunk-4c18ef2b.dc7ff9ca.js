(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c18ef2b"],{"00af":function(e,t,i){"use strict";i("fde7")},"072c":function(e,t,i){"use strict";i("1162")},"0a03":function(e,t,i){"use strict";i("76fb")},1162:function(e,t,i){},"1fcc":function(e,t,i){},"4c3c":function(e,t,i){"use strict";i("4e82");t["a"]={data:function(){return{sortConfig:{sortMethod:function(e){var t=e.data,i=e.sortList,a=i[0],s=a.property,n=a.order,r=[];return r="desc"===n?t.sort((function(e,t){var i=e[s],a=t[s];if(isNaN(i)&&!isNaN(Date.parse(i))&&isNaN(a)&&!isNaN(Date.parse(a)))return Date.parse(a)-Date.parse(i);if(i=parseFloat(i),a=parseFloat(a),isNaN(i)||isNaN(a)){var n=t[s]+"";return n.localeCompare(e[s])}return a-i})):"asc"===n?t.sort((function(e,t){var i=e[s],a=t[s];if(isNaN(i)&&!isNaN(Date.parse(i))&&isNaN(a)&&!isNaN(Date.parse(a)))return Date.parse(i)-Date.parse(a);if(i=parseFloat(e[s]),a=parseFloat(t[s]),isNaN(i)||isNaN(a)){var n=e[s]+"";return n.localeCompare(t[s])}return i-a})):t.sort(),r}}}}}},5103:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));i("99af"),i("14d9"),i("b0c0"),i("d3b7"),i("159b");var a=i("c276"),s=i("6e52"),n=i("5101"),r=i("a47e"),l=i("0d33"),o=i("7fa8"),c=function(e,t,i,n){var r=s["a"].lastPositions,l=r[e.deviceid],o=Object(a["q"])(l,e,t),c=Object(a["eb"])(e,t,l,i);c&&(c=" ["+c+"]");var d=e.hasFunctions.isHasVideo,u={deviceid:e.deviceid,name:e.devicename+c,devicename:e.devicename,icon:o,id:e.deviceid,hasFunctions:e.hasFunctions,isOnline:t,nodeType:d?s["a"].NodeType_Device_Video:s["a"].NodeType_Device_Normal,checked:void 0!==n&&n,isStared:1==e.stared,loginname:e.loginname?e.loginname:"",remark:e.remark?e.remark:"",remark2:e.remark2?e.remark2:"",simiccid:e.simiccid?e.simiccid:"",simnum:e.simnum?e.simnum:""};return u},d=function(e,t){var i={name:r["a"].t("common.empty"),children:[],open:!0,icon:l,nodeType:s["a"].NodeType_User};if(e){var o=e.username,d=e.subusers;i.name=o,i.username=o;var m=Object(a["n"])(e.groups),p=Object(a["D"])(m,e.groups,d),f=null;null!=m&&(f=e.groups[m]);var v=h(e.groups,o,p,t);if(null!=o&&null!=d&&d.length>0){var b=u(d,t);i.children=v.concat(b)}else i.children=v;Object(a["Fb"])(i.children);var g=0,y=0;if(0==p&&f&&f.devices.length){var x=n["a"].getCurrentUTC(),C=s["a"].lastPositions;f.devices.forEach((function(e){if(e){var s=Object(a["E"])(C[e.deviceid],x);s&&y++,g++;var n=!!t[e.deviceid],r=c(e,s,x,n);i.children.push(r)}})),Object(a["Eb"])(i.children)}if(i.children)for(var $=0;$<i.children.length;++$){var w=i.children[$];void 0!=w.totalCount&&(g+=w.totalCount,y+=w.onlineCount)}i.totalCount=g,i.name+="("+y+"/"+g+")"}return i},u=function e(t,i){var r=[];if(null!=t&&t.length>0)for(var o,d,u,m,p,f,v,b,g,y,x,C,$,w=function(){if(o=t[D],d=o.username,u=o.subusers,m=o.showname,p=0,f={name:m||d,username:d,showname:m,icon:l,id:d+"_"+D,nodeType:s["a"].NodeType_User},v=Object(a["n"])(o.groups),b=Object(a["D"])(v,o.groups,u),g=null,null!=v&&(g=o.groups[v]),y=h(o.groups,d,b,i),y.forEach((function(e){p+=e.onlineCount})),null!=d&&null!=u&&u.length>0?(x=e(u,i),x.forEach((function(e){p+=e.onlineCount})),x=y.concat(x),f.children=x):f.children=y,Object(a["Fb"])(f.children),0==b&&g&&g.devices.length){var w=n["a"].getCurrentUTC(),k=s["a"].lastPositions;g.devices.forEach((function(e){if(e){var t=Object(a["E"])(k[e.deviceid],w);t&&p++;var s=!!i[e.deviceid],n=c(e,t,w,s);f.children.push(n)}})),Object(a["Eb"])(f.children)}if(C=0,f.children)for($=0;$<f.children.length;++$){var T=f.children[$];void 0!=T.totalCount?C+=T.totalCount:C++}f.totalCount=C,f.onlineCount=p,f.name+="("+p+"/"+C+")",r.push(f)},D=0;D<t.length;++D)w();return r},h=function(e,t,i,l){var d=r["a"].t("common.defaultGroup"),u=[],h=s["a"].lastPositions;if(e)for(var m=n["a"].getCurrentUTC(),p=0;p<e.length;++p){var f=e[p],v=void 0===f.shared?0:f.shared,b=f.groupid>0;if(i||b){var g=b?f.groupname:d,y={groupid:f.groupid,name:g,groupname:g,icon:o,id:t+"_"+f.groupid,username:t,nodeType:s["a"].NodeType_Group},x=0;f.devices&&(y.totalCount=f.devices.length,y.children=[],f.devices.forEach((function(e){if(e){var t=Object(a["E"])(h[e.deviceid],m);t&&x++;var i=!!l[e.deviceid],s=c(e,t,m,i);y.children.push(s)}})),Object(a["Eb"])(y.children)),y.onlineCount=x,y.name=g+"("+x+"/"+f.devices.length+")",y.label+="(".concat(y.children.length,")"),1!==v&&u.push(y)}}return u}},"5bca":function(e,t,i){"use strict";var a=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.$t("bgManage.importDeviceID")+"/SIM/ICCID",visible:e.value,center:"",width:"560px","append-to-body":"","close-on-click-modal":!1},on:{close:e.handleClose}},[t("TextareaIds",{ref:"textareaIds",on:{"on-change":e.onChange}}),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8,offset:8}},[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},on:{click:e.handleClick}},[e._v(e._s(e.$t("common.determine")))])],1)],1)],1)},s=[],n=i("5530"),r=i("2f62"),l=i("9c0e1"),o=i("201d"),c={name:"ImportDeviceidsDialog",props:{value:{type:Boolean,default:!1}},data:function(){return{loading:!1}},components:{TextareaIds:l["a"],LabelWrap:o["a"]},computed:Object(n["a"])({},Object(r["b"])(["isZh"])),methods:{handleClick:function(){this.loading=!0,this.$refs.textareaIds.immediatelyMatching(),this.loading=!1,this.$emit("on-import",this.deviceids),this.handleClose()},handleClose:function(){this.$emit("input",!1)},onChange:function(e){this.deviceids=e,this.loading=!1}},mounted:function(){this.deviceids=[]}},d=c,u=i("2877"),h=Object(u["a"])(d,a,s,!1,null,null,null);t["a"]=h.exports},"76fb":function(e,t,i){},"79b2":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"notify-list"},[t("div",{staticClass:"notify-list-content",style:{zIndex:0==e.alldevices?100:1}},[t("div",{staticClass:"batch-manage full"},[t("div",{staticClass:"batch-manage-left"},[t("div",{staticClass:"batch-manage-inner full"},[t("div",{staticClass:"batch-manage-inner-title"},[t("i",{staticClass:"circle"}),t("b",{domProps:{textContent:e._s(e.$t("common.selectDevice"))}}),t("span")]),t("div",{staticClass:"batch-manage-inner-content"},[t("SearchDeviceZtree",{ref:"ztree",on:{onTreeCheck:e.onTreeCheck}})],1)])]),t("div",{staticClass:"batch-manage-right"},[t("div",{staticClass:"batch-manage-inner-title"},[t("i",{staticClass:"circle"}),t("b",{domProps:{textContent:e._s(e.$t("bgManage.selectedDevice"))}}),t("b",{domProps:{textContent:e._s(e.selectList.length)}}),t("div",{staticClass:"batch-manage-btns"},[t("span",{staticStyle:{padding:"0px 1px"}}),t("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.alldevices,expression:"alldevices==0"}],attrs:{type:"primary",size:"mini"},on:{click:e.localQuery}},[e._v(e._s(e.$t("reportForm.notifyedDevice")))]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.alldevices,expression:"alldevices==0"}],attrs:{type:"primary",size:"mini"},on:{click:function(t){e.importDialog=!0}}},[e._v(e._s(e.$t("common.importQuery")))]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.alldevices,expression:"alldevices==0"}],attrs:{type:"primary",size:"mini",loading:e.setloading},on:{click:e.batchSetting}},[e._v(e._s(e.$t("device.open")))]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.alldevices,expression:"alldevices==0"}],attrs:{type:"danger",size:"mini",loading:e.cancelloading},on:{click:e.cancelSetting}},[e._v(e._s(e.$t("device.close")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:0==e.alldevices,expression:"alldevices==0"}],staticStyle:{padding:"0px 1px"}}),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleSelectAlarm}},[e._v(e._s(e.$t("reportForm.phone_sms_email")))]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleClickSetOfflineDelay}},[e._v(e._s(e.$t("bgManage.setOfflineDelay")))])],1)]),t("div",{staticClass:"batch-manage-inner-content"},[t("vxe-table",{ref:"xTable",staticClass:"mytable-scrollbar",attrs:{"menu-config":e.tableMenu,"sort-config":e.sortConfig,border:"","auto-resize":"",resizable:"","show-overflow":"","highlight-hover-row":"",size:"mini",height:"auto",data:e.totalList},on:{"menu-click":e.handleClickTableMenu,"checkbox-all":e.selectAllEvent,"checkbox-change":e.selectChangeEvent,"cell-dblclick":e.handleDblClick}},[t("vxe-table-column",{attrs:{type:"checkbox",width:"50"}}),t("vxe-table-column",{attrs:{type:"seq",width:"60",title:e.$t("reportForm.index")}}),t("vxe-table-column",{attrs:{field:"notifyOpen",width:"100",sortable:"",title:e.$t("reportForm.openNotify")}}),t("vxe-table-column",{attrs:{field:"devicename",sortable:"",title:e.$t("alarm.devName")}}),t("vxe-table-column",{attrs:{field:"deviceid",sortable:"",title:e.$t("alarm.devNum")}}),t("vxe-table-column",{attrs:{field:"offlinedelay",width:"200",sortable:"",title:e.$t("bgManage.setOfflineDelay")+"("+e.$t("monitor.minute")+")"}}),t("vxe-table-column",{attrs:{field:"creater",sortable:"",title:e.$t("reportForm.creater")}}),t("vxe-table-column",{attrs:{field:"groupname",sortable:"",title:e.$t("reportForm.groupName")}})],1)],1)]),t("AddedServiceDialog",{model:{value:e.addedServiceDialog,callback:function(t){e.addedServiceDialog=t},expression:"addedServiceDialog"}}),t("ImportDeviceidsDialog",{on:{"on-import":e.onImportDevice},model:{value:e.importDialog,callback:function(t){e.importDialog=t},expression:"importDialog"}}),t("OfflineDelayDialog",{ref:"offlineDelay",on:{onSetMileage:e.onSetOfflineDelay},model:{value:e.setOfflineDelayDialog,callback:function(t){e.setOfflineDelayDialog=t},expression:"setOfflineDelayDialog"}})],1)])])},s=[],n=i("5530"),r=(i("99af"),i("caad"),i("d81d"),i("14d9"),i("a434"),i("d3b7"),i("2532"),i("159b"),i("4795"),i("6e52")),l=i("7e15"),o=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.$t("reportForm.valueAddedServiceSettings"),center:"",visible:e.value,width:"720px","close-on-click-modal":!1,"append-to-body":""},on:{close:e.handleClose}},[t("div",{staticClass:"added-service"},[t("el-tabs",{staticClass:"oil-marking-tabs",attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e.isHasTel?t("el-tab-pane",{attrs:{label:e.$t("reportForm.telNotify"),name:"0"}}):e._e(),e.isHasSms?t("el-tab-pane",{attrs:{label:e.$t("reportForm.smsNotify"),name:"1"}}):e._e(),e.isHasEmail?t("el-tab-pane",{attrs:{label:e.$t("reportForm.emailNotify"),name:"2"}}):e._e()],1),t("div",{staticClass:"charge-tips"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"left"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{domProps:{innerHTML:e._s(e.chargeTips)}})]),t("el-button",[e._v(e._s(e.$t("reportForm.expenseStandards")))])],1)],1),t("div",{staticClass:"added-service-content"},[t("div",[t("PhoneAlarm",{directives:[{name:"show",rawName:"v-show",value:0==e.activeName,expression:"activeName == 0"}],ref:"service1",attrs:{serviceType:"phone",costpoints:e.telnotifyprice}}),t("PhoneAlarm",{directives:[{name:"show",rawName:"v-show",value:1==e.activeName,expression:"activeName == 1"}],ref:"service2",attrs:{serviceType:"sms",costpoints:e.smsnotifyprice}}),t("PhoneAlarm",{directives:[{name:"show",rawName:"v-show",value:2==e.activeName,expression:"activeName == 2"}],ref:"service3",attrs:{serviceType:"email",costpoints:e.emailnotifyprice}})],1)]),t("div",{staticStyle:{"text-align":"center",padding:"20px 0px"}},[t("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("common.determine")))])],1)],1)])},c=[],d=(i("c975"),i("a9e3"),i("2f62")),u=function(){var e=this,t=e._self._c;return t("div",{staticClass:"phone-alarm"},[t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("LabelWrap",{attrs:{label:e.$t("reportForm.serviceSwitch")}},[t("div",{staticStyle:{padding:"5px 0px 0px 10px"}},[t("el-radio",{attrs:{label:1},model:{value:e.switcher,callback:function(t){e.switcher=t},expression:"switcher"}},[e._v(e._s(e.$t("reportForm.open")))]),t("el-radio",{attrs:{label:0},model:{value:e.switcher,callback:function(t){e.switcher=t},expression:"switcher"}},[e._v(e._s(e.$t("reportForm.close")))])],1)])],1),t("el-col",{attrs:{span:5}},[t("LabelWrap",{attrs:{label:e.$t("reportForm.includeSub")}},[t("div",{staticStyle:{padding:"5px 0px 0px 10px"}},[t("el-checkbox",{model:{value:e.includesub,callback:function(t){e.includesub=t},expression:"includesub"}})],1)])],1),t("el-col",{directives:[{name:"show",rawName:"v-show",value:e.userType<2,expression:"userType < 2"}],attrs:{span:11}},[t("el-row",[t("el-col",{attrs:{span:17}},[t("LabelWrap",{attrs:{label:e.$t("reportForm.subPrice")}},[t("el-input",{model:{value:e.salepoints,callback:function(t){e.salepoints=t},expression:"salepoints"}})],1)],1),t("el-col",{attrs:{span:7}},[t("div",{staticStyle:{"border-top":"1px solid #DCDFE6","border-right":"1px solid #DCDFE6","border-bottom":"1px solid #DCDFE6",height:"34px","text-align":"center","line-height":"32px","font-size":"12px","background-color":"#FAFAFA"}},[e._v(" "+e._s(e.$t("common.cost")+" "+e.costpoints)+" ")])])],1)],1)],1),"email"==e.serviceType?t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("EmailInput",{attrs:{label:e.$t("reportForm.emailNum")+"1",placeholder:e.$t("bgManage.pleaseEnterEmail")},model:{value:e.emailAddress,callback:function(t){e.emailAddress=t},expression:"emailAddress"}})],1),t("el-col",{attrs:{span:8}},[t("EmailInput",{attrs:{label:e.$t("reportForm.emailNum")+"2",placeholder:e.$t("bgManage.pleaseEnterEmail")},model:{value:e.emailAddress2,callback:function(t){e.emailAddress2=t},expression:"emailAddress2"}})],1),t("el-col",{attrs:{span:8}},[t("EmailInput",{attrs:{label:e.$t("reportForm.emailNum")+"3",placeholder:e.$t("bgManage.pleaseEnterEmail")},model:{value:e.emailAddress3,callback:function(t){e.emailAddress3=t},expression:"emailAddress3"}})],1)],1):t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("LabelWrap",{attrs:{label:e.$t("reportForm.receivePhone")+"1"}},[t("el-input",{attrs:{clearable:"",placeholder:e.$t("bgManage.pleaseEnterPhone")},model:{value:e.phonenum,callback:function(t){e.phonenum=t},expression:"phonenum"}})],1)],1),t("el-col",{attrs:{span:8}},[t("LabelWrap",{attrs:{label:e.$t("reportForm.receivePhone")+"2"}},[t("el-input",{attrs:{clearable:"",placeholder:e.$t("bgManage.pleaseEnterPhone")},model:{value:e.phonenum2,callback:function(t){e.phonenum2=t},expression:"phonenum2"}})],1)],1),t("el-col",{attrs:{span:8}},[t("LabelWrap",{attrs:{label:e.$t("reportForm.receivePhone")+"3"}},[t("el-input",{attrs:{clearable:"",placeholder:e.$t("bgManage.pleaseEnterPhone")},model:{value:e.phonenum3,callback:function(t){e.phonenum3=t},expression:"phonenum3"}})],1)],1)],1),t("div",{staticClass:"phone-alarm-select"},[t("div",{staticClass:"phone-alarm-select-search"},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("el-input",{attrs:{"prefix-icon":"el-icon-search",clearable:""},on:{clear:e.handleClear},model:{value:e.sosoValue,callback:function(t){e.sosoValue=t},expression:"sosoValue"}})],1),t("el-col",{attrs:{span:3}},[t("div",{staticStyle:{padding:"5px 0px 0px 6px"}},[t("el-checkbox",{on:{change:e.onChangeAll},model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}},[e._v(" "+e._s(e.$t("common.selectAll")))])],1)]),t("el-col",{attrs:{span:3}},[t("div",{staticStyle:{"text-align":"center",height:"32px","line-height":"32px"}},[e._v(" "+e._s(e.$t("reportForm.selectedAlarm")+e.selectAlarmLength)+" ")])]),t("el-col",{attrs:{span:10}},[t("LabelWrap",{attrs:{label:e.$t("reportForm.notifyInterval")}},[t("el-select",{model:{value:e.notifyintervalminutes,callback:function(t){e.notifyintervalminutes=t},expression:"notifyintervalminutes"}},[t("el-option",{attrs:{label:e.$t("reportForm.notifyInterval5Tip"),value:5}}),t("el-option",{attrs:{label:e.$t("reportForm.notifyInterval15Tip"),value:15}}),t("el-option",{attrs:{label:e.$t("reportForm.notifyInterval30Tip"),value:30}}),t("el-option",{attrs:{label:e.$t("reportForm.notifyInterval60Tip"),value:60}}),t("el-option",{attrs:{label:e.$t("reportForm.notifyInterval1DayTip"),value:1440}})],1)],1)],1)],1)],1),t("div",{staticClass:"phone-alarm-select-checkboxs"},[t("el-scrollbar",{staticStyle:{height:"100%"}},[t("div",{staticClass:"checkboxs-wrap"},e._l(e.copyAlarmTypeList,(function(i,a){return t("div",{directives:[{name:"show",rawName:"v-show",value:i.show,expression:"item.show"}],key:a},[t("el-checkbox",{on:{change:e.onCheckboxChange},model:{value:e.checkboxObj["alarm"+i.index],callback:function(t){e.$set(e.checkboxObj,"alarm"+i.index,t)},expression:"checkboxObj['alarm' +  item.index]"}},[e._v(" "+e._s(i.alarmname))])],1)})),0)])],1)])],1)},h=[],m=i("201d"),p=function(){var e=this,t=e._self._c;return t("LabelWrap",{attrs:{label:e.label}},[t("el-input",{attrs:{value:e.value,clearable:"",placeholder:e.placeholder},on:{input:e.onInput,blur:e.onBlur,focus:e.onFocus}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.value&&e.showTip,expression:"value && showTip"}],staticClass:"input-tip"},[e._v(" "+e._s(e.value)+" ")])],1)},f=[],v={name:"EmailInput",props:{value:{type:String,default:""},label:{type:String,default:""},placeholder:{type:String,default:""}},data:function(){return{showTip:!1}},components:{LabelWrap:m["a"]},mounted:function(){var e=this;this.$nextTick((function(){e.inputText=e.value}))},methods:{onInput:function(e){this.$emit("input",e)},onBlur:function(){this.showTip=!1},onFocus:function(){this.showTip=!0}}},b=v,g=i("2877"),y=Object(g["a"])(b,p,f,!1,null,null,null),x=y.exports,C={name:"PhoneAlarm",props:{serviceType:{type:String,default:"phone"},costpoints:{type:Number||String,default:0}},data:function(){return{switcher:0,notifyintervalminutes:0,phonenum:"",phonenum2:"",phonenum3:"",emailAddress:"",emailAddress2:"",emailAddress3:"",includesub:!1,selectAlarmLength:0,copyAlarmTypeList:[],forcealarm:"0000000000000000000000000000000000000000000000000000000000000000000000",sosoValue:"",isSelectAll:!1,checkboxObj:{},salepoints:""}},components:{LabelWrap:m["a"],EmailInput:x},computed:Object(n["a"])(Object(n["a"])({},Object(d["b"])(["alarmTypeList","userType","isZh"])),{},{typeStr:function(){var e="";switch(this.serviceType){case"phone":e=this.isZh?"电话":"Phone";break;case"sms":e=this.isZh?"短信":"SMS";break;case"email":e=this.isZh?"邮箱":"E-mail";break}return e}}),watch:{sosoValue:function(e){0==e.length?this.copyAlarmTypeList.forEach((function(e){e.show=!0})):(e=e.toLowerCase(),this.copyAlarmTypeList.forEach((function(t){var i=t.alarmname.toLowerCase();-1!=i.indexOf(e)?t.show=!0:t.show=!1})))}},mounted:function(){this.setCopyAlarmTypeList()},methods:{handleClear:function(){this.sosoValue=""},onCheckboxChange:function(){this.checkingSelectState()},onChangeAll:function(e){var t=0,i=this.checkboxObj;for(var a in i)i[a]=e,t++;this.selectAlarmLength=e?t:0},checkingSelectState:function(){var e=this.checkboxObj,t=!0,i=0;for(var a in e){var s=e[a];0==s&&(t=!1),s&&i++}this.isSelectAll=t,this.selectAlarmLength=i},setCopyAlarmTypeList:function(){var e=this,t=[],i=0;this.alarmTypeList.forEach((function(a,s){t.push(Object(n["a"])({},a));var r="1"==e.forcealarm.charAt(s);r&&i++,e.$set(e.checkboxObj,"alarm"+a.index,r)})),this.isSelectAll=this.alarmTypeList.length==i,this.selectAlarmLength=i,this.copyAlarmTypeList=t},setPhoneAlarmData:function(e){this.switcher=e.telswitcher,this.phonenum=e.telnum,this.phonenum2=e.telnum2,this.phonenum3=e.telnum3,this.salepoints=e.telsalepoints,this.includesub=1==e.telincludesub,this.notifyintervalminutes=e.telnotifyintervalminutes?Number(e.telnotifyintervalminutes):15;var t=e.telneedalarmstr;t&&(this.forcealarm=t,this.setCopyAlarmTypeList())},setSmsAlarmData:function(e){this.switcher=e.smsswitcher,this.phonenum=e.smsnum,this.phonenum2=e.smsnum2,this.phonenum3=e.smsnum3,this.salepoints=e.smssalepoints,this.includesub=1==e.smsincludesub,this.notifyintervalminutes=e.smsnotifyintervalminutes?Number(e.smsnotifyintervalminutes):15;var t=e.smsneedalarmstr;t&&(this.forcealarm=t,this.setCopyAlarmTypeList())},setEmailAlarmData:function(e){this.switcher=e.emailswitcher,this.emailAddress=e.emailaddress,this.emailAddress2=e.emailaddress2,this.emailAddress3=e.emailaddress3,this.salepoints=e.emailsalepoints,this.includesub=1==e.emailincludesub,this.notifyintervalminutes=e.emailnotifyintervalminutes?Number(e.emailnotifyintervalminutes):15;var t=e.emailneedalarmstr;t&&(this.forcealarm=t,this.setCopyAlarmTypeList())},getForceAlarmData:function(){for(var e="",t=this.alarmTypeList.length,i=0;i<t;i++){var a=this.checkboxObj["alarm"+(i+1)];e+=a?"1":"0"}return e},setServiceData:function(e){var t=this.serviceType;switch(t){case"phone":this.setPhoneAlarmData(e);break;case"sms":this.setSmsAlarmData(e);break;case"email":this.setEmailAlarmData(e);break}},getServiceData:function(){var e=this.serviceType,t={};switch(e){case"phone":t.telswitcher=this.switcher,t.telnum=this.phonenum,t.telnum2=this.phonenum2,t.telnum3=this.phonenum3,t.telincludesub=this.includesub?1:0,t.telneedalarmstr=this.getForceAlarmData(),t.telsalepoints=isNaN(this.salepoints)?0:Number(this.salepoints),t.telnotifyintervalminutes=this.notifyintervalminutes;break;case"sms":t.smsswitcher=this.switcher,t.smsnum=this.phonenum,t.smsnum2=this.phonenum2,t.smsnum3=this.phonenum3,t.smsincludesub=this.includesub?1:0,t.smsneedalarmstr=this.getForceAlarmData(),t.smssalepoints=isNaN(this.salepoints)?0:Number(this.salepoints),t.smsnotifyintervalminutes=this.notifyintervalminutes;break;case"email":t.emailswitcher=this.switcher,t.emailaddress=this.emailAddress,t.emailaddress2=this.emailAddress2,t.emailaddress3=this.emailAddress3,t.emailincludesub=this.includesub?1:0,t.emailneedalarmstr=this.getForceAlarmData(),t.emailsalepoints=isNaN(this.salepoints)?0:Number(this.salepoints),t.emailnotifyintervalminutes=this.notifyintervalminutes;break}return t.telneedalarmlong=-1,t.smsneedalarmlong=-1,t.emailneedalarmlong=-1,t}}},$=C,w=(i("00af"),Object(g["a"])($,u,h,!1,null,null,null)),D=w.exports,k=i("1c31"),T={name:"AddedServiceDialog",props:{value:{type:Boolean,default:!1},tableList:{type:Array,default:function(){return[]}}},data:function(){return{activeName:0,loading:!1,chargeTips:"",telnotifyprice:0,smsnotifyprice:0,emailnotifyprice:0}},components:{PhoneAlarm:D},computed:Object(n["a"])(Object(n["a"])({},Object(d["b"])(["isZh","userName","userType","permissionList","alarmTypeList"])),{},{isHasTel:function(){return-1!=this.permissionList.indexOf("report-addvalues-telnotify")},isHasSms:function(){return-1!=this.permissionList.indexOf("report-addvalues-smsnotify")},isHasEmail:function(){return-1!=this.permissionList.indexOf("report-addvalues-emailnotify")}}),mounted:function(){var e=this;this.$nextTick((function(){e.isHasTel?e.activeName=0:e.isHasSms?e.activeName=1:e.isHasEmail&&(e.activeName=2)}))},watch:{value:function(e){var t=this;e?this.queryAddValueNotify():setTimeout((function(){t.alarmTypeList.forEach((function(e){e.show=!0}))}),1e3)}},methods:{handleClose:function(){this.$emit("input",!1)},handleSubmit:function(){var e=this,t=this.$refs,i=t.service1.getServiceData(),a=t.service2.getServiceData(),s=t.service3.getServiceData();if(!isNaN(i.telsalepoints)&&Number(i.telsalepoints)<this.telnotifyprice)this.$XModal.message({message:this.$t("reportForm.phoneSaleLessThanCost"),status:"error",zIndex:9999});else if(!isNaN(a.smssalepoints)&&Number(a.smssalepoints)<this.smsnotifyprice)this.$XModal.message({message:this.$t("reportForm.smsSaleLessThanCost"),status:"error",zIndex:9999});else if(!isNaN(s.emailsalepoints)&&Number(s.emailsalepoints)<this.emailnotifyprice)this.$XModal.message({message:this.$t("reportForm.emailSaleLessThanCost"),status:"error",zIndex:9999});else{var r=this.$parent.addvaluenotify.alldevices,l=this.$i18n.locale,o=Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({username:this.userName},i),a),s),{},{alldevices:r,notifylanguage:l});this.loading=!0,Object(k["rb"])(o).then((function(t){var i=t.status,a=t.cause;e.loading=!1,0==i?(Object.assign(e.$parent.addvaluenotify,o),e.$XModal.message({message:e.$t("tips.setSucc"),status:"success",zIndex:9999})):e.$XModal.message({message:e.$t("tips.setFail")+" "+a,status:"error",zIndex:9999})})).catch((function(t){e.loading=!1}))}},queryAddValueNotify:function(){var e=this,t=this.$refs;Object(k["o"])({username:this.userName}).then((function(i){var a=i.status,s=i.addvaluenotify,n=i.emailnotifyprice,r=i.smsnotifyprice,l=i.telnotifyprice;0==a&&(t.service1.setServiceData(s),t.service2.setServiceData(s),t.service3.setServiceData(s),e.telnotifyprice=l,e.smsnotifyprice=r,e.emailnotifyprice=n,e.chargeTips="\n                            <div>".concat(e.$t("reportForm.phoneServiceCostTip",{jindou:l}),"</div>\n                            <div>").concat(e.$t("reportForm.smsServiceCostTip",{jindou:r}),"</div>\n                            <div>").concat(e.$t("reportForm.emailServiceCostTip",{jindou:n}),"</div>\n                        "))}))}}},O=T,_=(i("a324"),Object(g["a"])(O,o,c,!1,null,null,null)),N=_.exports,S=N,I=i("5bca"),L=i("d73c"),A=i("b562"),j=i("e285"),z=i("c276"),F=i("4c3c"),E=i("a05b"),M={name:"notifyList",data:function(){return{alldevices:0,importDialog:!1,setloading:!1,cancelloading:!1,addedServiceDialog:!1,setOfflineDelayDialog:!1,showDialog:!1,totalList:[],selectList:[]}},mixins:[F["a"],E["a"]],components:{SearchDeviceZtree:l["a"],AddedServiceDialog:S,ImportDeviceidsDialog:I["a"],OfflineDelayDialog:L["a"]},computed:Object(n["a"])({},Object(d["b"])(["alarmTypeList","userName"])),methods:{onSetOfflineDelay:function(e){var t=this,i=this.selectList;i.length>0&&(e.deviceids=i,Object(j["l"])(e).then((function(a){var s=a.total,n=a.success,l=a.fail,o=a.errorrecords;o=null==o?[]:o,t.totalList.forEach((function(t){var a=t.deviceid;i.includes(a)&&(r["a"].deviceInfos[a].offlinedelay=e.offlinedelay,t.offlinedelay=e.offlinedelay)})),s==n?t.$XModal.message({message:t.$t("device.actionSucc")+","+t.$t("bgManage.tower",{count:n}),status:"success",zIndex:9999}):t.$XModal.message({message:"".concat(t.$t("device.actionSucc"),":").concat(n,", ").concat(t.$t("device.actionFail"),":").concat(l),status:"error",zIndex:9999})})))},handleClickSetOfflineDelay:function(){var e=this;this.selectList.length?(this.setOfflineDelayDialog=!0,setTimeout((function(){var t=e.selectList[0],i=r["a"].deviceInfos[t].offlinedelay;e.$refs.offlineDelay.offlinedelay=i}),300)):this.$XModal.message({message:this.$t("tips.selectDevice"),status:"error",zIndex:9999})},onImportDevice:function(e){var t=this,i=[],a=r["a"].deviceInfos,s=Object(z["r"])(a),n=s.simMap,l=s.iccidMap;e.forEach((function(e){var s=Object(z["lb"])(a,n,l,e);s&&i.push({devicename:s.devicename,deviceid:s.deviceid,groupname:s.groupname,creater:s.creater,notifyOpen:1==s.notifyphonenumisopen?t.$t("header.yes"):t.$t("header.no"),offlinedelay:s.offlinedelay})})),this.totalList=i,this.selectList=i.map((function(e){return e.deviceid})),setTimeout((function(){t.$refs.xTable.setAllCheckboxRow(!0)}),100)},batchSetting:function(){var e=this,t=this.selectList,i={deviceids:t,action:"setnotify",notifyphonenumisopen:1};this.setloading=!0,Object(j["l"])(i).then((function(i){var a=i.success,s=i.total;if(e.setloading=!1,a==s){var n=r["a"].deviceInfos;t.forEach((function(e){n[e].notifyphonenumisopen=1})),e.updateTable(t),e.$XModal.message({message:e.$t("tips.setSucc"),status:"success",zIndex:9999})}else e.$XModal.message({message:e.$t("tips.setFail"),status:"error",zIndex:9999})}))},handleDblClick:function(e){e.row;this.showDialog=!0},selectAllEvent:function(e){e.checked;var t=e.records;this.selectList=t.map((function(e){return e.deviceid}))},selectChangeEvent:function(e){e.checked;var t=e.records;this.selectList=t.map((function(e){return e.deviceid}))},handleSelectAlarm:function(){var e=this;0==this.alarmTypeList.length?Object(A["L"])().then((function(t){if(0==t.status){var i=[],a=t.records;a.forEach((function(e,t){e.show=!0,e.index=t+1,i.push(e)})),e.$store.commit("setAlarmTypeList",i),e.addedServiceDialog=!0}})):this.addedServiceDialog=!0},cancelSetting:function(){var e=this,t=this.selectList,i={deviceids:t,action:"setnotify",notifyphonenumisopen:0};this.cancelloading=!0,Object(j["l"])(i).then((function(i){var a=i.success,s=i.total;if(e.cancelloading=!1,a==s){var n=r["a"].deviceInfos;t.forEach((function(e){n[e].notifyphonenumisopen=0})),e.updateTable(t),e.$XModal.message({message:e.$t("tips.closeSucc"),status:"success",zIndex:9999})}else e.$XModal.message({message:e.$t("tips.setFail"),status:"error",zIndex:9999})}))},clearTable:function(){this.totalList=[],this.selectList=[],this.$refs.ztree.refreshZtree()},noRepeat:function(e){for(var t=0;t<e.length-1;t++)for(var i=t+1;i<e.length;i++)e[t]===e[i]&&(e.splice(i,1),i--);return e},updateTable:function(e){var t=this,i=r["a"].deviceInfos;this.totalList.forEach((function(a){var s=a.deviceid,n=i[s];e.forEach((function(e){e==s&&(a.notifyOpen=1==n.notifyphonenumisopen?t.$t("header.yes"):t.$t("header.no"))}))}))},onTreeCheck:function(e){var t=this,i=[],a=r["a"].deviceInfos;e.forEach((function(e){var s=a[e];i.push({devicename:s.devicename,deviceid:s.deviceid,groupname:s.groupname,creater:s.creater,offlinedelay:s.offlinedelay,notifyOpen:1==s.notifyphonenumisopen?t.$t("header.yes"):t.$t("header.no")})})),this.totalList=i,this.selectList=i.map((function(e){return e.deviceid})),setTimeout((function(){t.$refs.xTable.setAllCheckboxRow(!0)}),100)},localQuery:function(){var e=this,t=r["a"].deviceInfos,i=[];for(var a in t){var s=t[a];s&&1==s.notifyphonenumisopen&&i.push({devicename:s.devicename,deviceid:s.deviceid,groupname:s.groupname,offlinedelay:s.offlinedelay,creater:s.creater,notifyOpen:this.$t("header.yes")})}this.totalList=i,this.selectList=i.map((function(e){return e.deviceid})),setTimeout((function(){e.$refs.xTable.setAllCheckboxRow(!0)}),100)}},watch:{alldevices:function(e,t){var i=this;null!==t&&(this.addvaluenotify.alldevices=e,Object(k["rb"])(this.addvaluenotify).then((function(t){var a=t.status,s=t.cause;0==a?1==e?i.$XModal.message({message:i.$t("tips.setSucc"),status:"success",zIndex:9999}):i.$XModal.message({message:i.$t("tips.selectDevice"),status:"success",zIndex:9999}):i.$XModal.message({message:i.$t("tips.setFail")+" "+s,status:"error",zIndex:9999})})))}},mounted:function(){var e=this;this.addvaluenotify={},Object(k["o"])({username:this.userName}).then((function(t){t.status;var i=t.addvaluenotify;e.addvaluenotify=i||{},e.alldevices=0}))}},P=M,Z=(i("072c"),Object(g["a"])(P,a,s,!1,null,null,null)),X=Z.exports;t["default"]=X},"7d2c":function(e,t,i){"use strict";i("be1c")},"7e15":function(e,t,i){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"device-ztree-search full"},[t("div",{staticClass:"device-ztree-search-wrap"},[t("div",{staticClass:"device-ztree-search-wrap-input",style:{padding:"8px 38px 0px 10px"}},[t("div",[t("el-input",{staticStyle:{width:"100%",height:"32px"},attrs:{placeholder:e.$t("bgManage.pleaseEnterUsernameOrGroupname"),clearable:""},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[t("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),t("div",{staticClass:"device-ztree-search-wrap-refresh",style:{right:"2px"},on:{click:e.refreshZtree}},[e.reloadLoading?t("i",{staticClass:"el-icon-loading",staticStyle:{"font-size":"18px"}}):t("i",{staticClass:"el-icon-refresh-right",staticStyle:{"font-size":"18px"}})])])]),t("div",{staticClass:"device-ztree-search-ztree"},[t("el-scrollbar",{staticStyle:{height:"100%"}},[t("ul",{staticClass:"ztree",attrs:{id:e.ztreeId}})])],1)])},s=[],n=i("5530"),r=(i("c975"),i("14d9"),i("b0c0"),i("b64b"),i("d3b7"),i("498a"),i("159b"),i("2f62")),l=i("c276"),o=i("5103"),c=i("cd6d"),d=i.n(c),u=i("6e52"),h=i("5101"),m=i("b562"),p=i("0d33"),f={name:"Temp",props:{showClear:{type:Boolean,default:!1}},data:function(){return{searchText:"",reloadLoading:!1}},watch:{isQueryInitData:function(e){e&&this.initZtree()},searchText:function(e){this.searchZtree(this,e.trim())}},computed:Object(n["a"])(Object(n["a"])({},Object(r["b"])(["isQueryInitData"])),{},{ztreeId:function(){return"ztreeEl_".concat(this._uid)}}),methods:{handleClear:function(){this.$parent.totalCount=0,this.$parent.tableList=[],this.$parent.totalList=[],this.$parent.cacheDeviceids=[]},refreshZtree:function(){var e=this;0==this.reloadLoading&&(this.reloadLoading=!0,Object(m["S"])().then((function(t){var i=t.rootuser;e.reloadLoading=!1,u["a"].deviceInfos={},u["a"].rootuser=i,u["a"].setDeviceInfos(i),e.ztreeIns.destroy(),e.initZtree(),e.searchText="",e.selectedDeviceIds={},e.handleClear(),e.$emit("onTreeCheck",[])})).catch((function(t){e.reloadLoading=!1})))},updateZtreeIns:function(){var e=Object.keys(this.selectedDeviceIds);this.ztreeIns.destroy(),this.initZtree();for(var t=this.ztreeIns,i=t.transformToArray(t.getNodes()),a=0;a<e.length;a++){var s=e[a];this.selectedDeviceIds[s]=!0;for(var n=0;n<i.length;n++){var r=i[n];if(r.deviceid==s){t.checkNode(r,!0);break}}}},updateNodes:function(e){var t=this.ztreeIns,i=t.getNodes(),a=u["a"].deviceInfos,s=u["a"].lastPositions,n=h["a"].getCurrentUTC();e.forEach((function(e){var r=a[e],o=s[e],c=Object(l["gb"])(i,e);c&&(c.name=Object(l["db"])(r,o?o.online:0,o,n),t.updateNode(c))}))},initZtree:function(){this.selectedDeviceIds={};var e=Object(o["a"])(u["a"].rootuser,this.selectedDeviceIds);this.treeNodes=e,this.ztreeIns=$.fn.zTree.init($("#".concat(this.ztreeId)),this.setting,this.treeNodes)},onTreeCheck:function(e,t,i){var a=[];this.changeSelectedDeviceIds([i]);var s=this.selectedDeviceIds;for(var n in s)s.hasOwnProperty(n)&&1==s[n]&&a.push(n);this.$emit("onTreeCheck",a)},changeSelectedDeviceIds:function(e){var t=this.selectedDeviceIds;function i(e){for(var a in e){var s=e[a];s.deviceid?s.checked?t[s.deviceid]=!0:delete t[s.deviceid]:s.children&&s.children.length>0&&i(s.children)}}i(e)},cancelCheckNode:function(e){var t=Object(l["gb"])(this.ztreeIns.getNodes(),e);null!=t&&this.ztreeIns.checkNode(t,!1,!0),delete this.selectedDeviceIds[e]},selectedCheckNodes:function(e){var t=this;this.selectedDeviceIds={},this.ztreeIns.checkAllNodes(),e.forEach((function(e){t.selectedDeviceIds[e]=!0;var i=Object(l["gb"])(t.ztreeIns.getNodes(),e);null!=i&&t.ztreeIns.checkNode(i,!0,!0)})),this.$emit("onTreeCheck",e)},zTreeOnClick:function(e,t,i){this.ztreeIns.checkNode(i,!0,!0),this.onTreeCheck(e,t,i)},searchZtree:Object(l["e"])((function(e,t){if(e.ztreeIns.destroy(),0==t.length){var i=Object(o["a"])(u["a"].rootuser,e.selectedDeviceIds);e.ztreeIns=$.fn.zTree.init($("#".concat(e.ztreeId)),e.setting,i)}else{var a=e.variableDeepSearch(e.treeNodes.children,t),s=[{name:u["a"].rootuser.username,children:a,open:!0,icon:p,username:u["a"].rootuser.username,nodeType:u["a"].NodeType_User}];e.ztreeIns=$.fn.zTree.init($("#".concat(e.ztreeId)),e.setting,s)}}),1e3),variableDeepSearch:function(e,t){t=t.toLowerCase();for(var i=[],a=this,s=this.selectedDeviceIds,n=0;n<e.length;n++){var r=null,l=e[n];if(null!=l){var o=!1;if((-1!=l.name.toLowerCase().indexOf(t)||l.username&&-1!=l.username.toLowerCase().indexOf(t)||l.deviceid&&-1!=l.deviceid.toLowerCase().indexOf(t)||l.loginname&&-1!=l.loginname.toLowerCase().indexOf(t)||l.remark&&-1!=l.remark.toLowerCase().indexOf(t)||l.remark2&&-1!=l.remark2.toLowerCase().indexOf(t)||l.simiccid&&-1!=l.simiccid.toLowerCase().indexOf(t)||l.simnum&&-1!=l.simnum.toLowerCase().indexOf(t))&&(r=d()(l),r.open=!1,o=!0),0==o&&l.children&&l.children.length>0){var c=a.variableDeepSearch(l.children,t);c&&c.length>0&&(r=d()(l),r.children=c,r.open=!0,o=!0)}1==o&&(void 0!=r.deviceid&&1==s[r.deviceid]&&(r.checked=!0),i.push(r))}}return i},addDiyDom:function(e,t){if(t.nodeType==u["a"].NodeType_Device_Video){var i=document.getElementById("".concat(t.tId,"_switch"));t.isLastNode?i.className="button  switch bottom_docu":i.className="button  switch center_docu",i.onclick=null}}},created:function(){this.setting={view:{dblClickExpand:!1,addDiyDom:this.addDiyDom},check:{enable:!0,chkStyle:"checkbox",radioType:"all"},callback:{onCheck:this.onTreeCheck,onClick:this.zTreeOnClick}}},destroyed:function(){this.treeNodes=null,this.ztreeIns&&this.ztreeIns.destroy(),this.ztreeIns=null,this.selectedDeviceIds=null},mounted:function(){this.isQueryInitData&&this.initZtree()}},v=f,b=(i("0a03"),i("2877")),g=Object(b["a"])(v,a,s,!1,null,null,null);t["a"]=g.exports},"9c0e1":function(e,t,i){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"textarea-ids"},[t("el-row",{attrs:{gutter:10}},[t("el-col",{staticClass:"textarea-ids-red-star",attrs:{span:1}},[e._v("*")]),t("el-col",{attrs:{span:11}},[t("span",[e._v(" "+e._s(e.$t("common.deviceids")))]),e.showTips?e._e():t("span",{attrs:{span:""}},[e._v("/SIM/ICCID")]),e.showTips?t("el-tooltip",{attrs:{placement:"top",effect:"light"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",[e._v(e._s(e.$t("tips.addNewDeviceTip1")))]),t("div",[e._v(e._s(e.$t("tips.addNewDeviceTip2")))]),t("div",[e._v(e._s(e.$t("tips.addNewDeviceTip3")))]),t("div",[e._v(e._s(e.$t("tips.addNewDeviceTip4")))])]),t("i",{staticClass:"el-icon-warning-outline new-add-tips-icon",staticStyle:{position:"relative",top:"-1px"}})]):e._e(),t("div",{staticClass:"tips_clear noselect"},[t("div",{staticClass:"small-clear",on:{click:e.handleClear}},[e._v(e._s(e.$t("tips.clear")))])])],1),t("el-col",{attrs:{span:11}},[t("span",[e._v(e._s(e.$t("reportForm.result")))])])],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:11,offset:1}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:10},rows:10,placeholder:e.textPlaceholder},on:{input:e.onChange},model:{value:e.ids,callback:function(t){e.ids=t},expression:"ids"}})],1),t("el-col",{class:[e.isOk?"correct":"error"],attrs:{span:11}},[t("el-input",{attrs:{type:"textarea",readonly:!0,disabled:"",autosize:{minRows:10,maxRows:10},rows:10},model:{value:e.errorTips,callback:function(t){e.errorTips=t},expression:"errorTips"}})],1)],1)],1)},s=[],n=(i("99af"),i("c975"),i("a15b"),i("14d9"),i("d3b7"),i("ac1f"),i("5319"),i("498a"),i("159b"),i("4795"),i("c276")),r={name:"Temp",props:{showTips:{type:Boolean,default:!1},textPlaceholder:{type:String,default:function(){return this.$t("tips.textareaids")}}},data:function(){return{ids:"",isOk:!1,isMatchingCompletado:!0,errorTips:""}},methods:{handleClear:function(){this.ids="",this.errorTips="",this.isOk=!1,this.isMatchingCompletado=!0,this.$emit("on-change",[])},onChange:function(e){if(""==e)return this.errorTips="",this.isOk=!1,void this.$emit("on-change",[]);e=e.replace(/\s+/g,"\n");var t=/[0-9A-Za-z]/g.exec(e);if(t){this.isMatchingCompletado=!1;var i=t.input;this.matchingDeviceIds(this,i)}else this.errorTips=this.$t("tips.deviceIdTips")},submitFailTips:function(e){var t=this,i="";e.forEach((function(e){var a=e.deviceid,s=e.cause,n=e.status,r=e.creater,l="";l=1==n?null!=r&&r.length>0?t.$t("tips.occupiedUser")+r:t.$t("tips.occupiedOtherUser"):s,i+="".concat(a,":").concat(l,"\n")})),this.errorTips=i,this.isOk=!1},immediatelyMatching:function(){var e=this,t=this.ids;if(e.isMatchingCompletado=!0,t&&t.length>0){var i=e.filtered(t),a=i.length;e.errorTips=e.$t("missing.totalNumber")+" : "+a,e.isOk=!0,e.ids=i.join("\n"),e.$emit("on-change",i)}else e.errorTips=e.$t("missing.adjustDeviceidLength"),e.isOk=!1,e.$emit("on-change",[]);setTimeout((function(){e.isMatchingCompletado=!1}),2e3)},matchingDeviceIds:Object(n["e"])((function(e,t){if(0==e.isMatchingCompletado)if(e.isMatchingCompletado=!0,t&&t.length>0){var i=e.filtered(t),a=i.length;e.errorTips=e.$t("missing.totalNumber")+" : "+a,e.isOk=!0,e.ids=i.join("\n"),console.log("newArr",i),e.$emit("on-change",i)}else e.errorTips=e.$t("missing.adjustDeviceidLength"),e.isOk=!1,e.$emit("on-change",[])}),2e3),filtered:function(e){function t(e){for(var t=[],i=0;i<e.length;i++)-1==t.indexOf(e[i])&&t.push(e[i]);return t}var i=[];return e.split("\n").forEach((function(e){e=e.trim(),e&&i.push(e)})),t(i)}},mounted:function(){}},l=r,o=(i("7d2c"),i("2877")),c=Object(o["a"])(l,a,s,!1,null,null,null);t["a"]=c.exports},a324:function(e,t,i){"use strict";i("1fcc")},be1c:function(e,t,i){},d73c:function(e,t,i){"use strict";var a=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.$t("bgManage.setOfflineDelay"),visible:e.value,center:"",width:"290px","append-to-body":"","close-on-click-modal":!1},on:{close:e.handleClose}},[t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:20}},[t("LabelWrap",{attrs:{label:e.$t("reportForm.offlineDuration")}},[t("el-input-number",{staticStyle:{width:"100%"},attrs:{min:2,max:99999999999},model:{value:e.offlinedelay,callback:function(t){e.offlinedelay=e._n(t)},expression:"offlinedelay"}})],1)],1),t("el-col",{attrs:{span:4}},[t("div",{staticStyle:{"line-height":"34px",height:"34px","text-align":"center"}},[e._v(e._s(e.$t("monitor.minute")))])])],1),t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:24}},[t("el-button-group",[t("el-button",{staticStyle:{width:"68px"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.setOfflineDelay(2)}}},[e._v("2"+e._s(e.$t("monitor.minute")))]),t("el-button",{staticStyle:{width:"68px"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.setOfflineDelay(10)}}},[e._v("10"+e._s(e.$t("monitor.minute")))]),t("el-button",{staticStyle:{width:"68px"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.setOfflineDelay(60)}}},[e._v("1"+e._s(e.$t("monitor.hour")))]),t("el-button",{staticStyle:{width:"65px"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.setOfflineDelay(720)}}},[e._v("12"+e._s(e.$t("monitor.hour")))])],1)],1)],1),t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:24}},[t("el-button-group",[t("el-button",{staticStyle:{width:"69.36px"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.setOfflineDelay(1440)}}},[e._v("1"+e._s(e.$t("reportForm.d")))]),t("el-button",{staticStyle:{width:"69.36px"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.setOfflineDelay(4320)}}},[e._v("3"+e._s(e.$t("reportForm.d")))]),t("el-button",{staticStyle:{width:"62.69px"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.setOfflineDelay(10080)}}},[e._v("7"+e._s(e.$t("reportForm.d")))]),t("el-button",{staticStyle:{width:"69.39px"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.setOfflineDelay(44640)}}},[e._v("31"+e._s(e.$t("reportForm.d")))])],1)],1)],1),t("el-row",{staticClass:"margin_b10"},[t("el-col",{staticStyle:{"text-align":"center","padding-top":"10px"},attrs:{span:24}},[t("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:e.handleClickDetermine}},[e._v(e._s(e.$t("common.determine")))])],1)],1)],1)},s=[],n=i("201d"),r={name:"OfflineDelayDialog",props:{value:{type:Boolean,default:!1}},components:{LabelWrap:n["a"]},data:function(){return{offlinedelay:2}},methods:{handleClose:function(){this.$emit("input",!1)},handleClickDetermine:function(){var e={action:"setofflinedelay",offlinedelay:this.offlinedelay};this.$emit("onSetMileage",e),this.handleClose()},setOfflineDelay:function(e){this.offlinedelay=e}}},l=r,o=i("2877"),c=Object(o["a"])(l,a,s,!1,null,null,null);t["a"]=c.exports},fde7:function(e,t,i){}}]);