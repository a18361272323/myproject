(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72fdd18b"],{1078:function(e,t,i){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{ref:"wraper",class:e.wraperClasses,on:{mouseup:e.handleMouseup,mousemove:e.handleMousemove,mouseleave:e.handleMouseout}},[t("div",{class:"".concat(e.prefix,"-container")},[t("div",{class:"".concat(e.prefix,"-top-area-oil"),style:{height:"move"==e.verticalMode?e.leftSize:"100%"}},[e._t("top")],2),e._t("trigger",(function(){return[t("div",{ref:"trigger",class:"".concat(e.prefix,"-trigger-oil"),style:e.verticalTriggerStyle},[t("div",{class:"".concat(e.prefix,"-trigger-oil-wrap"),attrs:{unselectable:"on"},on:{mousedown:e.handleMousedown}})])]})),t("div",{class:"".concat(e.prefix,"-bottom-area"),style:{height:"move"==e.verticalMode?e.rightSize:"100%"}},[e._t("bottom")],2)],2)])},s=[],a=(i("c975"),i("a9e3"),function(e,t){return t.indexOf(e)>=0}),n={name:"MySplitPane",props:{value:{type:[Number,String],default:50},horizontalModeShowLeft:{type:Boolean,default:!0},verticalMode:{type:String,default:"move"},direction:{type:String,default:"horizontal",validator:function(e){return a(e,["vertical","horizontal"])}},min:{type:[Number,String],default:3},max:{type:[Number,String],default:97},maxRight:{type:Boolean,default:!1},right:{type:Boolean,default:!1},triggerStyle:{type:Object,default:function(){return{height:"4px",background:"#ffffff"}}}},data:function(){return{prefix:"split-pane",canMove:!1,triggerOffset:50,triggerOldOffset:50,offset:{},atMin:!1,atMax:!1,directionMark:0}},computed:{wraperClasses:function(){return[this.prefix,"vertical"===this.direction?"".concat(this.prefix,"-vertical"):"".concat(this.prefix,"-horizontal")]},leftSize:function(){return this.right?"".concat(100-this.triggerOffset,"%"):"".concat(this.triggerOffset,"%")},rightSize:function(){return this.right?"".concat(this.triggerOffset,"%"):"".concat(100-this.triggerOffset,"%")},triggerLeft:function(){return this.right?"".concat(100-this.triggerOffset,"%"):"".concat(this.triggerOffset,"%")},minTransed:function(){return this.transValue(this.min)},maxTransed:function(){var e=this.right?100-this.transValue(this.max):this.transValue(this.max);return this.maxRight?100-e:e},horizontalTriggerStyle:function(){return Object.assign({left:this.triggerLeft,borderTop:"1px solid #E2E3E5"},this.triggerStyle)},verticalTriggerStyle:function(){return Object.assign({top:this.triggerLeft},this.triggerStyle)}},methods:{handleMouseup:function(e){1==this.canMove&&(this.canMove=!1,this.$emit("on-resizing-end",e))},transValue:function(e){return"number"===typeof e?e:Math.floor(parseFloat(e)/this.$refs.wraper.offsetWidth*1e4)/100},handleMousedown:function(e){this.canMove=!0,this.triggerOldOffset=this.triggerOffset,this.offset={x:e.pageX,y:e.pageY},this.$emit("on-resizing-start",e),e.preventDefault()},handleMouseout:function(){this.canMove=!1},handleMousemove:function(e){if(this.canMove){var t,i=0;if("horizontal"===this.direction?(i=Math.floor((e.clientX-this.offset.x)/this.$refs.wraper.offsetWidth*1e4)/100,t=this.triggerOldOffset+(this.right?-i:i)):(i=Math.floor((e.clientY-this.offset.y)/this.$refs.wraper.offsetHeight*1e4)/100,t=this.triggerOldOffset+(this.right?-i:i)),this.right){var r=100-t;r<=this.minTransed?this.triggerOffset=100-Math.max(r,this.minTransed):this.triggerOffset=100-Math.min(r,this.maxTransed)}else t<=this.minTransed?this.triggerOffset=Math.max(t,this.minTransed):this.triggerOffset=Math.min(t,this.maxTransed);e.atMin=100-t<=this.minTransed,e.atMax=100-t>=this.maxTransed,e.pageX>this.directionMark?e.direction=1:e.direction=0,this.directionMark=e.pageX,this.$emit("input",this.triggerOffset),this.$emit("on-resizing",e)}},setTriggerOffset:function(e){var t=this;this.$nextTick((function(){t.triggerOffset="number"===typeof e?e:Math.floor(parseInt(e)/t.$refs.wraper.offsetWidth*1e4)/100,t.$emit("input",t.triggerOffset)}))}},watch:{value:function(e){var t=this;this.$nextTick((function(){t.triggerOffset="number"===typeof e?e:Math.floor(parseInt(e)/t.$refs.wraper.offsetWidth*1e4)/100}))}},mounted:function(){var e=this;void 0!==this.value&&(this.$nextTick((function(){e.triggerOffset="number"===typeof e.value?e.value:Math.floor(parseInt(e.value)/e.$refs.wraper.offsetWidth*1e4)/100})),this.triggerOffset="number"===typeof this.value?this.value:Math.floor(parseInt(this.value)/this.$refs.wraper.offsetWidth*1e4)/100)}},o=n,c=(i("acd3"),i("2877")),l=Object(c["a"])(o,r,s,!1,null,null,null),d=l.exports;t["a"]=d},"26c6":function(e,t,i){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multi-choice single-choice-vehicle",style:{width:e.width}},[e.showLabel?t("div",{staticClass:"multi-choice-label"},[e._v(" "+e._s(e.$t("common.selectDevice"))+" ")]):e._e(),t("div",{staticClass:"multi-choice-input"},[t("ZtreeDeviceDropdown",{attrs:{placeholder:e.placeholder,disableShare:e.disableShare,isQueryInitData:e.isQueryInitData},model:{value:e.deviceid,callback:function(t){e.deviceid=t},expression:"deviceid"}})],1)])},s=[],a=i("5530"),n=i("2f62"),o=i("2df7"),c={props:{value:{type:String,default:""},width:{type:String,default:"230px"},showLabel:{type:Boolean,default:!1},disableShare:{type:Boolean,default:!1},placeholder:{type:String,default:""}},name:"SingleChoiceVehicle",data:function(){return{deviceid:""}},watch:{value:function(e){e&&(this.deviceid=e)},deviceid:function(e){this.$emit("input",e)}},computed:Object(a["a"])({},Object(n["b"])(["isQueryInitData"])),components:{ZtreeDeviceDropdown:o["a"]},methods:{},mounted:function(){this.value&&(this.deviceid=this.value)}},l=c,d=(i("facb"),i("2877")),h=Object(d["a"])(l,r,s,!1,null,null,null);t["a"]=h.exports},"271ae":function(e,t,i){},"2ddc":function(e,t,i){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multi-choice",style:e.warpStyle},[t("div",{staticClass:"multi-choice-input"},["daterange"==e.dateType?t("div",[t("el-date-picker",{attrs:{type:e.dateType,"picker-options":e.pickerOptions,"range-separator":"-",align:"center","unlink-panels":"",clearable:!1,"start-placeholder":e.$t("device.driverinitialdate"),"end-placeholder":e.$t("device.drivereffectivedate")},on:{change:e.onChange},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1):e._e(),"date"==e.dateType?t("div",[t("el-date-picker",{attrs:{type:"date","picker-options":e.datePickerOptions},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1):e._e(),"datetimerange"==e.dateType?t("div",{staticClass:"datetimerange"},[t("el-date-picker",{attrs:{type:e.dateType,"range-separator":"-","picker-options":e.pickerOptionsTime,align:"center","unlink-panels":"",clearable:!1,"start-placeholder":e.$t("device.driverinitialdate"),"end-placeholder":e.$t("device.drivereffectivedate"),"default-time":["00:00:00","23:59:59"]},on:{change:e.onChange},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1):e._e(),"month"==e.dateType?t("div",[t("el-date-picker",{attrs:{type:"month"},model:{value:e.month,callback:function(t){e.month=t},expression:"month"}})],1):e._e()])])},s=[],a=(i("99af"),i("5101")),n=i("5867"),o={name:"SelectDate",props:{value:{type:Array|Date,default:function(){return[]}},dateType:{type:String,default:"daterange"},label:{type:String,default:function(){return this.$t("common.selectTime")}}},computed:{isDaterange:function(){return"daterange"==this.dateType},warpStyle:function(){var e=200;switch(this.dateType){case"date":e=120;break;case"daterange":e=230;break;case"datetimerange":e=310;break}return{width:"".concat(e,"px")}}},mixins:[n["a"]],data:function(){var e=864e5;return{dateRange:[],date:new Date,month:new Date,pickerOptions:{shortcuts:[{text:this.$t("reportForm.toDay"),onClick:function(e){var t=new Date;e.$emit("pick",[t,t])}},{text:this.$t("reportForm.yesterDay"),onClick:function(t){var i=new Date;i.setTime(i.getTime()-e),t.$emit("pick",[i,i])}},{text:this.$t("missing.theWeek"),onClick:function(t){var i=new Date,r=new Date,s=i.getDay();i.setTime(i.getTime()-e*(s-1)),r.setTime(i.getTime()+6*e),t.$emit("pick",[i,r])}},{text:this.$t("missing.lastWeek"),onClick:function(t){var i=new Date,r=new Date,s=i.getDay(),a=i.getTime()-e*(s-1);i.setTime(a-7*e),r.setTime(a-e),t.$emit("pick",[i,r])}},{text:this.$t("missing.thisMonth"),onClick:function(e){var t=new Date,i=t.getFullYear(),r=t.getMonth()+1,s=new Date("".concat(i,"-").concat(r,"-01")),a=new Date("".concat(i,"-").concat(r,"-01 00:00:00"));a.setMonth(a.getMonth()+1),a=new Date(a.getTime()-1e3),e.$emit("pick",[s,a])}},{text:this.$t("missing.lastMonth"),onClick:function(e){var t=new Date;t.setMonth(t.getMonth()-1);var i=t.getFullYear(),r=t.getMonth()+1,s=new Date(new Date(i,r,1)-1).getDate(),a=new Date("".concat(i,"-").concat(r,"-01")),n=new Date("".concat(i,"-").concat(r,"-").concat(s));e.$emit("pick",[a,n])}}]},pickerOptionsTime:{shortcuts:[{text:this.$t("reportForm.toDay"),onClick:function(e){var t=new Date(a["a"].format(new Date,"yyyy-MM-dd")+" 00:00:00"),i=new Date(a["a"].format(new Date,"yyyy-MM-dd")+" 23:59:59");e.$emit("pick",[t,i])}},{text:this.$t("reportForm.yesterDay"),onClick:function(t){var i=new Date;i.setTime(i.getTime()-e),t.$emit("pick",[new Date(a["a"].format(i,"yyyy-MM-dd")+" 00:00:00"),new Date(a["a"].format(i,"yyyy-MM-dd")+" 23:59:59")])}},{text:this.$t("missing.theWeek"),onClick:function(t){var i=new Date,r=new Date,s=i.getDay();i.setTime(i.getTime()-e*(s-1)),r.setTime(i.getTime()+6*e),t.$emit("pick",[new Date(a["a"].format(i,"yyyy-MM-dd")+" 00:00:00"),new Date(a["a"].format(r,"yyyy-MM-dd")+" 23:59:59")])}},{text:this.$t("missing.lastWeek"),onClick:function(t){var i=new Date,r=new Date,s=i.getDay(),n=i.getTime()-e*(s-1);i.setTime(n-7*e),r.setTime(n-e),t.$emit("pick",[new Date(a["a"].format(i,"yyyy-MM-dd")+" 00:00:00"),new Date(a["a"].format(r,"yyyy-MM-dd")+" 23:59:59")])}},{text:this.$t("missing.thisMonth"),onClick:function(e){var t=new Date,i=t.getFullYear(),r=t.getMonth()+1,s=new Date("".concat(i,"-").concat(r,"-01")),n=new Date("".concat(i,"-").concat(r,"-01 00:00:00"));n.setMonth(n.getMonth()+1),n=new Date(n.getTime()-1e3),e.$emit("pick",[new Date(a["a"].format(s,"yyyy-MM-dd")+" 00:00:00"),new Date(a["a"].format(n,"yyyy-MM-dd")+" 23:59:59")])}},{text:this.$t("missing.lastMonth"),onClick:function(e){var t=new Date;t.setMonth(t.getMonth()-1);var i=t.getFullYear(),r=t.getMonth()+1,s=new Date(new Date(i,r,1)-1).getDate(),n=new Date("".concat(i,"-").concat(r,"-01")),o=new Date("".concat(i,"-").concat(r,"-").concat(s));e.$emit("pick",[new Date(a["a"].format(n,"yyyy-MM-dd")+" 00:00:00"),new Date(a["a"].format(o,"yyyy-MM-dd")+" 23:59:59")])}}]}}},watch:{dateRange:function(e){null==e?this.$emit("input",[]):this.$emit("input",e)},value:function(e){this.dateRange=e},date:function(e){this.$emit("input",e)},month:function(e){this.$emit("input",e)}},methods:{onChange:function(e){this.$emit("input",e)}},mounted:function(){"date"==this.dateType?this.date=this.value:"month"==this.dateType?this.month=this.value:this.dateRange=this.value}},c=o,l=(i("e716"),i("2877")),d=Object(l["a"])(c,r,s,!1,null,"5dbb8594",null);t["a"]=d.exports},"2df7":function(e,t,i){"use strict";i("498a");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ztree-device"},[t("el-popover",{attrs:{placement:"bottom",width:"320",trigger:"manual","append-to-body":!0,"popper-options":{boundariesElement:"body",gpuAcceleration:!0,positionFixed:!0,preventOverflow:!0}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClickOutside,expression:"handleClickOutside"}],staticClass:"ztree-drapdown",staticStyle:{height:"360px",width:"100%",overflow:"hidden"}},[t("el-scrollbar",{staticStyle:{height:"100%"}},[t("ul",{staticClass:"ztree",attrs:{id:e.ztreeId}})])],1),t("el-input",{attrs:{slot:"reference",placeholder:e.placeholder,"prefix-icon":"el-icon-search"},on:{input:e.onChange},nativeOn:{click:function(t){return e.handleClickInput.apply(null,arguments)}},slot:"reference",model:{value:e.textVal,callback:function(t){e.textVal="string"===typeof t?t.trim():t},expression:"textVal"}},[t("span",{staticClass:"el-input__suffix-inner",staticStyle:{cursor:"pointer"},attrs:{slot:"suffix"},on:{click:e.clearText},slot:"suffix"},[t("i",{staticClass:"el-input__icon el-icon-circle-close"})])])],1)],1)},s=[],a=i("5530"),n=(i("99af"),i("4de4"),i("c975"),i("d81d"),i("14d9"),i("b0c0"),i("d3b7"),i("159b"),i("4795"),i("cd6d")),o=i.n(n),c=i("6e52"),l=i("c276"),d=i("9169"),h=i("2f62"),u=i("0d33"),p=i("7fa8"),f={name:"ZtreeDeviceDropdown",props:{value:{type:String,default:""},isCheck:{type:Boolean,default:!1},isClickAll:{type:Boolean,default:!1},disableShare:{type:Boolean,default:!1},selectDeviceIds:{type:Array,default:function(){return[]}},isQueryInitData:{type:Boolean,default:!1},placeholder:{type:String,default:""}},directives:{Clickoutside:d["a"]},computed:Object(a["a"])(Object(a["a"])({},Object(h["b"])(["isZh"])),{},{ztreeId:function(){return"ztreeEl_".concat(this._uid)}}),data:function(){return{textVal:"",show:!1}},watch:{textVal:function(e){this.isClickAll?this.$emit("input",e):0==this.isCheck?e||this.$emit("input",""):e||this.$emit("onTreeCheck",[])},isQueryInitData:function(e){var t=this;this.$nextTick((function(){t.init()}))}},created:function(){this.ztreeIns=null,this.setting={view:{addDiyDom:this.addDiyDom,dblClickExpand:!1},check:{enable:!0,chkStyle:this.isCheck?"checkbox":"radio",radioType:"all"},callback:{onCheck:this.onTreeCheck,onClick:this.zTreeOnClick}}},mounted:function(){var e=this;this.$nextTick((function(){e.init()}))},destroyed:function(){this.ztreeIns&&this.ztreeIns.destroy()},methods:{init:function(){var e=this;if(this.isQueryInitData&&null==this.ztreeIns)if(this.initZtree(),0==this.isCheck){if(this.value){var t=c["a"].deviceInfos[this.value].devicename;this.textVal=t;var i=Object(l["hb"])(this.ztreeIns.getNodes(),this.value);i?this.ztreeIns.checkNode(i):console.log("ZtreeDeviceDropdown 没找到node this.textVal = ",this.textVal)}}else if(this.selectDeviceIds.length>0){var r=this.ztreeIns.getNodes();this.selectDeviceIds.forEach((function(t){var i=Object(l["hb"])(r,t);i&&e.ztreeIns.checkNode(i,!0)})),this.isZh?this.textVal="已选中".concat(this.selectDeviceIds.length,"个单位"):this.textVal="".concat(this.selectDeviceIds.length," is selected"),this.$emit("onTreeCheck",this.selectDeviceIds)}},handleClickInput:function(){var e=this;if(this.show=!0,0==this.isCheck){var t=c["a"].deviceInfos[this.value],i=t?t.devicename:null;if(i&&(this.textVal=i,this.ztreeIns&&this.ztreeIns.getNodes)){var r=Object(l["hb"])(this.ztreeIns.getNodes(),this.value);r&&setTimeout((function(){e.ztreeIns.selectNode(r)}),30)}}},clearText:function(){this.textVal="",this.ztreeIns&&(this.ztreeIns.destroy(),this.ztreeIns=null),this.treeNodeChildren.length&&(this.treeNodeChildren[0].open=!0),this.ztreeIns=$.fn.zTree.init($("#".concat(this.ztreeId)),this.setting,this.treeNodeChildren),this.isCheck?this.$emit("onTreeCheck",[]):this.$emit("input","")},handleClickOutside:function(){this.show=!1},searchDevice:Object(l["e"])((function(e,t){if(0==e.show&&(e.show=!0),e.ztreeIns.destroy(),0==t.length)e.treeNodeChildren.length&&(e.treeNodeChildren[0].open=!0),e.ztreeIns=$.fn.zTree.init($("#".concat(e.ztreeId)),e.setting,e.treeNodeChildren);else{t=t.trim();var i=e.variableDeepSearch(e.treeNodeChildren,t,0);e.ztreeIns=$.fn.zTree.init($("#".concat(e.ztreeId)),e.setting,i)}}),300),variableDeepSearch:function(e,t,i){t=t.toLowerCase();for(var r=[],s=this,a=0;a<e.length;a++){var n=null,c=e[a];if(null!=c){var l=!1;if((-1!=c.name.toLowerCase().indexOf(t)||c.showname&&-1!=c.showname.toLowerCase().indexOf(t)||c.deviceid&&-1!=c.deviceid.toLowerCase().indexOf(t)||c.simiccid&&-1!=c.simiccid.toLowerCase().indexOf(t)||c.loginname&&-1!=c.loginname.toLowerCase().indexOf(t)||c.remark&&-1!=c.remark.toLowerCase().indexOf(t)||c.remark2&&-1!=c.remark2.toLowerCase().indexOf(t)||c.simiccid&&-1!=c.simiccid.toLowerCase().indexOf(t)||c.simnum&&-1!=c.simnum.toLowerCase().indexOf(t))&&(n=c,n.open=!1,l=!0),0==l&&c.children&&c.children.length>0){var d=s.variableDeepSearch(c.children,t,i);d&&d.length>0&&(n=o()(c),n.children=d,n.open=!0,l=!0)}if(1==l&&(i++,r.push(n),i>1e3))break}}return r},onChange:function(e){this.searchDevice(this,e)},getCheckedDeviceIds:function(){var e=this.ztreeIns.getCheckedNodes(),t=[];return e.forEach((function(e){var i=e.deviceid;void 0!=i&&t.push(i)})),t},initZtree:function(){var e=this.castUsersTreeToDevicesTree(c["a"].rootuser);this.isCheck?this.treeNodeChildren=[e]:e.children&&e.children.length?this.treeNodeChildren=e.children:this.treeNodeChildren=[],this.ztreeIns=$.fn.zTree.init($("#".concat(this.ztreeId)),this.setting,this.treeNodeChildren)},addDiyDom:function(e,t){var i=$("#"+t.tId+"_check"),r=$("#"+t.tId+"_ico");r.remove(),i.before(r)},selectNode:function(e){var t=this;if(0==this.isCheck){var i=c["a"].deviceInfos[e],r=i?i.devicename:null;if(r&&(this.textVal=r,this.$emit("input",e),this.ztreeIns&&this.ztreeIns.getNodes)){var s=Object(l["hb"])(this.ztreeIns.getNodes(),this.value);s&&setTimeout((function(){t.ztreeIns.selectNode(s)}),30)}}},onTreeCheck:function(e,t,i){var r=this.ztreeIns.getCheckedNodes();if(this.isClickAll){var s=i.nodeType;if(s==c["a"].NodeType_User)this.textVal=i.username,this.$emit("input",this.textVal);else if(s==c["a"].NodeType_Group)this.textVal=i.groupname,this.$emit("input",this.textVal);else{var a=i.deviceid,n=c["a"].deviceInfos[a].devicename;this.textVal=n,this.$emit("input",a)}}else if(0==r.length)this.textVal="";else if(this.isCheck){var o=r.filter((function(e){return void 0==e.children})).map((function(e){return e.deviceid}));this.isZh?this.textVal="已选中".concat(o.length,"个单位"):this.textVal="".concat(o.length," is selected"),this.$emit("onTreeCheck",o)}else if(i.deviceid){var l=i.deviceid,d=c["a"].deviceInfos[l].devicename;this.textVal=d,this.$emit("input",l),this.show=!1}},zTreeOnClick:function(e,t,i){$("#"+i.tId+"_switch").click(),i.nodeType!=c["a"].NodeType_Device_Normal&&i.nodeType!=c["a"].NodeType_Device_Video||(this.ztreeIns.checkNode(i,!i.checked,!0),this.onTreeCheck(e,t,i))},castUsersTreeToDevicesTree:function(e){var t=this,i={name:"空",children:[],open:!0,icon:u,nodeType:c["a"].NodeType_User,nocheck:!this.isCheck};if(e){var r=e.username,s=e.subusers;i.name=r,i.username=r,i.id=r;var a=Object(l["o"])(e.groups),n=Object(l["E"])(a,e.groups,s),o=null;null!=a&&(o=e.groups[a]);var d=this.getDeviceListGroups(e.groups,r,n);if(null!=r&&null!=s&&s.length>0){var h=this.doCastUsersTreeToDevicesTree(s);i.children=d.concat(h)}else i.children=d;i.children.forEach((function(e){e.nocheck=!t.isCheck})),Object(l["Gb"])(i.children);var p=0,f=0;if(0==n&&o&&o.devices.length){var m=this.$dateformat.getCurrentUTC(),v=c["a"].lastPositions;o.devices.forEach((function(e){if(e){p++;var t=Object(l["F"])(v[e.deviceid],m);t&&f++;var r=Object(l["t"])(e,t,m);i.children.push(r)}})),Object(l["Fb"])(i.children)}if(i.children)for(var g=0;g<i.children.length;++g){var b=i.children[g];void 0!=b.totalCount&&(p+=b.totalCount,f+=b.onlineCount)}i.totalCount=p,i.name+="("+f+"/"+p+")"}return i},doCastUsersTreeToDevicesTree:function(e){var t=this,i=[];if(null!=e&&e.length>0)for(var r,s,a,n,o,d,h,p,f,m,v,g,b,y=function(){if(r=e[x],s=r.username,a=r.subusers,n=r.showname,o=0,d={name:n||s,username:s,showname:n,icon:u,nodeType:c["a"].NodeType_User},h=Object(l["o"])(r.groups),p=Object(l["E"])(h,i.groups,a),f=null,null!=h&&(f=r.groups[h]),m=t.getDeviceListGroups(r.groups,s,p),m.forEach((function(e){o+=e.onlineCount})),null!=s&&null!=a&&a.length>0?(v=t.doCastUsersTreeToDevicesTree(a),v.forEach((function(e){o+=e.onlineCount})),v=m.concat(v),d.children=v):d.children=m,Object(l["Gb"])(d.children),d.children.forEach((function(e){e.nocheck=!t.isCheck})),0==p&&f&&f.devices.length){var y=t.$dateformat.getCurrentUTC(),w=c["a"].lastPositions;f.devices.forEach((function(e){if(e){var t=Object(l["F"])(w[e.deviceid],y);t&&o++;var i=Object(l["t"])(e,t,y);d.children.push(i)}})),Object(l["Fb"])(d.children)}if(g=0,d.children)for(b=0;b<d.children.length;++b){var C=d.children[b];void 0!=C.totalCount?g+=C.totalCount:g++}d.totalCount=g,d.onlineCount=o,d.name+="("+o+"/"+g+")",i.push(d)},x=0;x<e.length;++x)y();return i},getDeviceListGroups:function(e,t,i){var r=[],s=c["a"].lastPositions,a=this.$t("common.defaultGroup");if(e)for(var n=this.$dateformat.getCurrentUTC(),o=0;o<e.length;++o){var d=e[o],h=(void 0===d.shared||d.shared,d.groupid>0);if(i||h){var u=h?d.groupname:a,f=__pinyin.get(u),m=f.l,v=f.p,g={groupid:d.groupid,name:u,label:u,groupname:u,icon:p,username:t,nodeType:c["a"].NodeType_Group,l:m,p:v,status:""},b=0;if(d.devices&&(g.totalCount=d.devices.length,g.children=[],d.devices.forEach((function(e){if(e){var t=Object(l["F"])(s[e.deviceid],n);t&&b++;var i=Object(l["t"])(e,t,n);g.children.push(i)}})),Object(l["Fb"])(g.children)),g.onlineCount=b,g.name+="("+b+"/"+d.devices.length+")",g.label+="(".concat(g.children.length,")"),h){if(this.disableShare&&1==d.shared)continue;r.push(g)}else g.children.length&&r.push(g)}}return r}}},m=f,v=(i("eca4"),i("2877")),g=Object(v["a"])(m,r,s,!1,null,"98b76e1e",null),b=g.exports;t["a"]=b},3218:function(e,t,i){"use strict";i.r(t);i("498a");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"report-form full message-report"},[t("div",{staticClass:"report-form-inner"},[t("div",{staticClass:"report-form-inner-header",staticStyle:{height:"35px"}},[t("div",{staticClass:"f_left"},[t("SingleChoiceVehicle",{attrs:{placeholder:this.$t("tips.selectSingleDevice"),width:"230px"},model:{value:e.deviceid,callback:function(t){e.deviceid=t},expression:"deviceid"}})],1),t("div",{staticClass:"f_left"},[t("SelectDate",{attrs:{dateType:"date"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),t("div",{staticClass:"f_left"},[t("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleQuery}},[e._v(e._s(e.$t("common.query")))])],1),t("div",{staticClass:"f_left",staticStyle:{width:"240px"}},[t("LabelWrap",{attrs:{label:e.$t("reportForm.searchContent")}},[t("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:e.$t("reportForm.pleaseEnterSearchContent"),clearable:""},model:{value:e.filterText,callback:function(t){e.filterText="string"===typeof t?t.trim():t},expression:"filterText"}})],1)],1),t("div",{staticClass:"f_left"},[t("el-button",{attrs:{type:"primary"},on:{click:e.filterTypeDesc}},[e._v(e._s(e.$t("common.filter")))])],1),t("div",{staticClass:"f_left"},[t("el-button",{attrs:{type:"primary",loading:e.exportLoading1},on:{click:e.exportData}},[e._v(e._s(e.$t("common.export")))])],1)]),t("div",{staticClass:"report-form-inner-content",staticStyle:{top:"45px"}},[t("split-pane",{style:{height:"100%"},attrs:{direction:"vertical",showBtn:!1,min:25,max:75},on:{"on-resizing-end":e.onResizingEnd},model:{value:e.triggerOffsetV,callback:function(t){e.triggerOffsetV=t},expression:"triggerOffsetV"}},[t("div",{staticStyle:{height:"100%"},attrs:{slot:"top"},slot:"top"},[t("div",{staticClass:"message-report-tabs"},[t("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:e.$t("reportForm.timeChart"),name:"tabTotal"}}),t("el-tab-pane",{attrs:{label:e.$t("reportForm.uploadStatistics"),name:"details"}})],1),t("div",{staticClass:"tableTitle"},[t("b",{domProps:{textContent:e._s(e.tableTitle)}}),e._v("("+e._s(e.messageList.length)+") "+e._s(e.$t("missing.exceptionPoint"))+":"+e._s(e.exceptionCount)+" "+e._s(e.$t("reportForm.reissue"))+":"+e._s(e.reissuesCount)+" ")])],1),t("div",{staticClass:"message-report-charts"},[t("div",{style:e.ecahts1Style},[t("TimeEchart",{ref:"echartIns"})],1),t("div",{style:e.ecahts2Style},[t("TypeEchart",{ref:"typeEchart"})],1)])]),t("div",{staticStyle:{height:"100%"},attrs:{slot:"bottom"},slot:"bottom"},[t("vxe-table",{ref:"xTable",staticClass:"mytable-scrollbar",attrs:{"menu-config":e.tableMenu,border:"",resizable:"","show-overflow":"","auto-resize":"","row-class-name":e.rowClassName,"highlight-current-row":"",size:"mini",height:"auto","sort-config":e.sortConfig,data:e.messageList},on:{"menu-click":e.handleClickTableMenu,"cell-click":e.cellclick,"cell-dblclick":e.cellDblclick}},[t("vxe-table-column",{attrs:{field:"sn",title:e.$t("reportForm.sn"),width:"70",sortable:""}}),t("vxe-table-column",{attrs:{field:"messageType",title:e.$t("reportForm.messageType"),width:"100",sortable:""}}),t("vxe-table-column",{attrs:{field:"typedescr",title:e.$t("reportForm.typeDescr"),width:"100",sortable:""}}),t("vxe-table-column",{attrs:{field:"strstatus",title:e.$t("reportForm.strstatus"),width:"100",sortable:""}}),t("vxe-table-column",{attrs:{field:"stralarm",title:e.$t("reportForm.alarm")+(e.alarmCount?"(".concat(e.alarmCount,")"):""),width:"100",sortable:""}}),t("vxe-table-column",{attrs:{field:"exception",title:e.$t("missing.exception")+(e.exceptionCount?"(".concat(e.exceptionCount,")"):""),width:"100",sortable:""}}),t("vxe-table-column",{attrs:{field:"reissueStr",title:e.$t("reportForm.reissue")+(e.reissuesCount?"(".concat(e.reissuesCount,")"):""),width:"100",sortable:""}}),t("vxe-table-column",{attrs:{field:"updatetimeStr",title:e.$t("reportForm.updatetimeStr"),width:"150",sortable:""}}),t("vxe-table-column",{attrs:{field:"arrivedtimeStr",title:e.$t("reportForm.arrivedtimeStr"),width:"150",sortable:""}}),t("vxe-table-column",{attrs:{field:"gotsrc",title:e.$t("reportForm.gotsrc"),width:"130",sortable:""}}),t("vxe-table-column",{attrs:{field:"gpsvalidnum",title:e.$t("reportForm.GPSNumber"),width:"130",sortable:""}}),t("vxe-table-column",{attrs:{field:"reportmodeStr",title:e.$t("reportForm.reportmodeStr"),width:"110"}}),t("vxe-table-column",{attrs:{field:"status",title:e.$t("reportForm.status"),width:"80"}}),t("vxe-table-column",{attrs:{field:"callat",title:e.$t("reportForm.callat"),width:"100"}}),t("vxe-table-column",{attrs:{field:"callon",title:e.$t("reportForm.callon"),width:"100"}}),t("vxe-table-column",{attrs:{field:"radius",title:e.$t("reportForm.radius"),width:"80"}}),t("vxe-table-column",{attrs:{field:"speed",sortable:"",title:e.$t("reportForm.speed"),width:"100"}}),t("vxe-table-column",{attrs:{field:"recorderspeed",title:e.$t("reportForm.recorderspeedStr"),width:"120"}}),t("vxe-table-column",{attrs:{field:"totaldistance",title:e.$t("reportForm.totalMileage"),width:"100"}}),t("vxe-table-column",{attrs:{field:"altitude",title:e.$t("reportForm.altitude"),width:"100"}}),t("vxe-table-column",{attrs:{field:"course",title:e.$t("reportForm.course"),width:"100"}}),t("vxe-table-column",{attrs:{field:"rxlevel",title:e.$t("reportForm.rxlevel"),width:"100",sortable:""}})],1)],1)])],1),t("transition",{attrs:{name:"el-zoom-in-bottom"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"transition-box"},[t("el-card",[t("div",{staticStyle:{position:"absolute",right:"10px",top:"0px"}},[t("i",{staticClass:"el-icon-close",staticStyle:{float:"right",padding:"3px 0","font-size":"20px",cursor:"pointer"},on:{click:function(t){e.show=!1}}})]),t("div",{staticStyle:{margin:"10px 0px","white-space":"normal","word-break":"break-all",height:"210px","overflow-y":"auto","font-size":"12px"},domProps:{textContent:e._s(e.messageBody)}}),t("div",{staticStyle:{"text-align":"center"}},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleRefresh}},[e._v(e._s(e.$t("monitor.refreshLocation")))])],1)])],1)])],1)])},s=[],a=i("5530"),n=(i("c975"),i("14d9"),i("4e82"),i("e9c4"),i("a9e3"),i("b680"),i("d3b7"),i("25f0"),i("159b"),i("4795"),i("2f62")),o=i("d03a"),c=i("d462"),l=i("1c31"),d=i("7cf8"),h=i("5101"),u=i("c276"),p=i("eb10"),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"full",attrs:{id:e.chartId}})},m=[],v=(i("07ac"),i("43c8")),g=i.n(v),b={name:"TypeEchart",computed:{chartId:function(){return"chart_".concat(this._uid)}},methods:{initChart:function(){this.chartsIns=g.a.init(document.getElementById(this.chartId)),this.chartsIns.setOption(this.getChartsOption([]),!0)},resize:function(){this.chartsIns.resize()},updateChartsOption:function(e){var t={},i=this.$parent.$parent.padPreZero;e.forEach((function(e){var r=null,s=(e.status,e.messagetype),a="0x"+i(parseInt(e.messagetype,10).toString(16),4);if(512==s){r=a+"-1("+e.typedescr+")"}else r=a+"("+e.typedescr+")";void 0==t[r]?t[r]={name:r,value:1}:t[r].value++})),this.chartsIns.setOption(this.getChartsOption(Object.values(t)),!0)},getChartsOption:function(e){return{tooltip:{trigger:"item"},legend:{orient:"vertical",left:"right"},grid:{top:5,left:20,right:5,bottom:5},series:[{type:"pie",radius:"70%",data:e,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))}},y=b,x=i("2877"),w=Object(x["a"])(y,f,m,!1,null,null,null),C=w.exports,k=i("1078"),$=i("201d"),T=i("6e52"),O=i("a05b"),D={name:"messageReport",data:function(){return{activeName:"tabTotal",triggerOffsetV:45,show:!1,loading:!1,exportLoading1:!1,deviceid:"",exceptionCount:0,reissuesCount:0,alarmCount:0,date:new Date,messageList:[],messageBody:"",tableTitle:"",filterText:"",sortConfig:{sortMethod:function(e){var t=e.data,i=e.sortList,r=i[0],s=r.property,a=r.order,n=[];return n="desc"===a?"sn"==s?t.sort((function(e,t){return t.sn-e.sn})):"reissueStr"==s?t.sort((function(e,t){return t.reissue-e.reissue})):"gpsvalidnum"==s?t.sort((function(e,t){return t.gpsvalidnum-e.gpsvalidnum})):"exception"==s?t.sort((function(e,t){var i=e.arrivedtime-e.updatetime,r=t.arrivedtime-t.updatetime;return r-i})):"updatetimeStr"==s?t.sort((function(e,t){return t.updatetime-e.updatetime})):"arrivedtimeStr"==s?t.sort((function(e,t){return t.arrivedtime-e.arrivedtime})):t.sort((function(e,t){var i=t[s]+"";return i.localeCompare(e[s])})):"asc"===a?"sn"==s?t.sort((function(e,t){return e.sn-t.sn})):"reissueStr"==s?t.sort((function(e,t){return e.reissue-t.reissue})):"gpsvalidnum"==s?t.sort((function(e,t){return e.gpsvalidnum-t.gpsvalidnum})):"exception"==s?t.sort((function(e,t){var i=e.arrivedtime-e.updatetime,r=t.arrivedtime-t.updatetime;return i-r})):"updatetimeStr"==s?t.sort((function(e,t){return e.updatetime-t.updatetime})):"arrivedtimeStr"==s?t.sort((function(e,t){return e.arrivedtime-t.arrivedtime})):t.sort((function(e,t){var i=e[s]+"";return i.localeCompare(t[s])})):t.sort(),n}}}},mixins:[O["a"]],components:{SingleChoiceVehicle:o["a"],SelectDate:c["a"],TimeEchart:p["a"],TypeEchart:C,SplitPane:k["a"],LabelWrap:$["a"]},computed:Object(a["a"])(Object(a["a"])({},Object(n["b"])(["isZh","singleDeviceid"])),{},{ecahts1Style:function(){return{zIndex:"tabTotal"==this.activeName?999:1}},ecahts2Style:function(){return{zIndex:"details"==this.activeName?999:1}}}),watch:{date:function(){this.loading||this.handleQuery()},deviceid:function(e){this.setSingleDeviceid(e)}},methods:Object(a["a"])(Object(a["a"])({},Object(n["c"])(["setSingleDeviceid"])),{},{rowClassName:function(e){var t=e.row;e.rowIndex;return t.isException?"row-low-yellow":""},onResizingEnd:function(){this.$refs.echartIns.resize(),this.$refs.typeEchart.resize()},scrollToRow:function(e){var t=this.messageList[this.messageList.length-1-e];this.$refs.xTable.setCurrentRow(t),this.$refs.xTable.scrollToRow(t)},handleRefresh:function(){var e=this,t=this.row,i={deviceid:this.deviceid,updatetime:t.updatetime,trackid:t.trackid};Object(d["bb"])(i).then((function(r){var s=r.status,a=(r.cause,r.track);0==s&&(a.deviceid=i.deviceid,a.reissueStr=0==a.reissue?"":e.$t("header.yes"),a.messageType=e.getMessageType(a.messagetype),a.reportmodeStr=e.getReportModeStr(a.reportmode),a.updatetimeStr=h["a"].longToLocalDateTimeStr(a.updatetime),a.arrivedtimeStr=h["a"].longToLocalDateTimeStr(a.arrivedtime),a.gpsvalidnum<0&&(a.gpsvalidnum=""),a.updatetimeStr=h["a"].longToLocalDateTimeStr(a.updatetime),"zh"!==e.$i18n.locale&&(a.typedescr=Object(u["O"])(a.messagetype),"en"==e.$i18n.locale?(item.strstatus=item.strstatusen?item.strstatusen:"",item.stralarm=item.stralarmen?item.stralarmen:""):(item.strstatus=item.strstatusen?Object(u["z"])(item.strstatusen):"",item.stralarm=item.stralarmen?Object(u["Pb"])(item.stralarmen):"")),Object.assign(t,a),e.messageBody=JSON.stringify(a)),e.$XModal.message({message:e.$t("monitor.refreshLocationSucc"),status:"success",zIndex:9999})}))},filterTypeDesc:function(){var e=this.filterText.trim();if(e){e=e.toLowerCase();for(var t=[],i=0;i<this.cachedata.length;i++){var r=this.cachedata[i];(r.typedescr&&-1!=r.typedescr.toLowerCase().indexOf(e)||r.strstatus&&-1!=r.strstatus.toLowerCase().indexOf(e)||r.stralarm&&-1!=r.stralarm.toLowerCase().indexOf(e)||r.messageType&&-1!=r.messageType.toLowerCase().indexOf(e)||r.reissueStr&&-1!=r.reissueStr.toLowerCase().indexOf(e)||r.gotsrc&&-1!=r.gotsrc.toLowerCase().indexOf(e))&&t.push(r)}this.messageList=t}else this.messageList=this.cachedata},cellclick:function(e){var t=this,i=e.row,r=e.rowIndex;if(this.show){this.row=i;var s={deviceid:this.deviceid,updatetime:i.updatetime,trackid:i.trackid};Object(l["u"])(s).then((function(e){t.messageBody=JSON.stringify(e.track),t.show=!0}))}var a=i.updatetimeStr;this.$refs.echartIns.chartsIns.setOption({xAxis:{axisPointer:{value:a}}});var n=this.messageList.length-r-1;n>0&&this.$refs.echartIns.chartsIns.dispatchAction({type:"showTip",seriesIndex:2,dataIndex:n})},cellDblclick:function(e){var t=this,i=e.row;this.row=i;var r={deviceid:this.deviceid,updatetime:i.updatetime,trackid:i.trackid};Object(l["u"])(r).then((function(e){t.messageBody=JSON.stringify(e.track),t.show=!0}))},handleQuery:function(){var e=this,t=this.deviceid;if(""!=t){this.cachedata=[];var i=h["a"].format(this.date,"yyyy-MM-dd"),r={deviceid:t,lbs:1,timezone:h["a"].getOffset(),interval:-1,begintime:"".concat(i," 00:00:00"),endtime:"".concat(i," 23:59:59")},s=this.$refs.echartIns,a=this.$refs.typeEchart;this.loading=!0,this.tableTitle=T["a"].getDeviceNameByDeviceId(t)+"-"+t,Object(l["t"])(r).then((function(t){var r=t.records;e.queryDateRange=i,e.loading=!1;var n=[],o=0,c=0,l=0;r&&(r.sort((function(e,t){return t.updatetime-e.updatetime})),r.forEach((function(t){var i=t.arrivedtime-t.updatetime;t.isException=i>6e5,t.isException?(o++,t.exception=e.$t("missing.exception")):t.exception="",1==t.reissue&&c++,t.gotsrc=Object(u["C"])(t),t.reissueStr=0==t.reissue?"":e.$t("header.yes"),t.totaldistance=t.totaldistance/1e3,t.messageType=e.getMessageType(t.messagetype),t.reportmodeStr=e.getReportModeStr(t.reportmode),t.updatetimeStr=h["a"].longToLocalDateTimeStr(t.updatetime),t.arrivedtimeStr=h["a"].longToLocalDateTimeStr(t.arrivedtime),t.gpsvalidnum<0&&(t.gpsvalidnum=""),t.speed=Number((t.speed/1e3).toFixed(0)),t.stralarmen&&l++,"zh"!==e.$i18n.locale&&(t.typedescr=Object(u["O"])(t.messagetype),"en"==e.$i18n.locale?(t.strstatus=t.strstatusen?t.strstatusen:"",t.stralarm=t.stralarmen?t.stralarmen:""):(t.strstatus=t.strstatusen?Object(u["z"])(t.strstatusen):"",t.stralarm=t.stralarmen?Object(u["Pb"])(t.stralarmen):""))})),n=r),s.updateChartsOption(n),a.updateChartsOption(n),e.cachedata=n,e.messageList=n,n.length>0&&setTimeout((function(){e.$refs.xTable.scrollToRow(n[0])}),300),e.exceptionCount=o,e.reissuesCount=c,e.alarmCount=l}))}else this.$XModal.message({message:this.$t("tips.selectDevice"),status:"error",zIndex:9999})},exportData:function(){if(this.messageList.length){var e=[[this.$t("reportForm.sn"),this.$t("reportForm.messageType"),this.$t("reportForm.typeDescr"),this.$t("reportForm.status"),this.$t("reportForm.strstatus"),this.$t("reportForm.alarm"),this.$t("reportForm.updatetimeStr"),this.$t("reportForm.arrivedtimeStr"),this.$t("reportForm.GPSNumber"),this.$t("reportForm.reportmodeStr"),this.$t("reportForm.reissue"),this.$t("reportForm.callat"),this.$t("reportForm.callon"),this.$t("reportForm.radius"),this.$t("reportForm.speed"),this.$t("reportForm.recorderspeedStr"),this.$t("reportForm.totalMileage"),this.$t("reportForm.altitude"),this.$t("reportForm.course"),this.$t("reportForm.gotsrc"),this.$t("reportForm.rxlevel")]];this.messageList.forEach((function(t,i){var r=[];r.push(t.sn),r.push(t.messageType),r.push(t.typedescr),r.push(t.status),r.push(t.strstatus),r.push(t.stralarm),r.push(t.updatetimeStr),r.push(t.arrivedtimeStr),r.push(t.gpsvalidnum),r.push(t.reportmodeStr),r.push(t.reissueStr),r.push(t.callat),r.push(t.callon),r.push(t.radius),r.push(t.speed),r.push(t.recorderspeed),r.push(t.totaldistance),r.push(t.altitude),r.push(t.course),r.push(t.gotsrc),r.push(t.rxlevel),e.push(r)}));var t={title:this.$t("reportForm.messageReport")+" - "+this.deviceid,data:e,dateRange:this.queryDateRange};this.exportLoading1=!0,new ExcelCls(t).exportExcel(this)}},getMessageType:function(e){var t=e,i=null,r="0x"+this.padPreZero(parseInt(e,10).toString(16),4);if(512==t){var s=4==(4&status);i=s?r+"-1("+e+")":r+"-0("+e+")"}else i=r+"("+e+")";return i},padPreZero:function(e,t){var i=e,r=e.toString().length;if(r<t)for(var s=t-r,a=0;a<s;a++)i="0"+i;return i},getReportModeStr:function(e){var t="0x"+e.toString(16);switch(e){case 0:t+="定时上报";break;case 1:t+="定距上报";break;case 2:t+="拐点上传";break;case 3:t+="ACC状态改变上传";break;case 4:t+="运动变静止最后一个点";break;case 5:t+="网络重连最后一个有效点";break;case 6:t+="星历更新强制上传 GPS点";break;case 7:t+="按键上传定位点";break;case 8:t+="开机上报位置信息";break;case 9:t+="未使用";break;case 10:t+="静止后上报最后的经纬度且时间更新";break;case 11:t+="WiFi解析经纬度上传包";break;case 12:t+="立即定位指令上报";break;case 13:t+="设备静止后上报最后的经纬度";break;case 14:t+="静止状态定时上传";break;case-1:t+="-1";break}return t}}),mounted:function(){this.singleDeviceid&&(this.deviceid=this.singleDeviceid)}},S=D,I=(i("9d20"),Object(x["a"])(S,r,s,!1,null,null,null)),M=I.exports;t["default"]=M},"5aff":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"h",(function(){return s})),i.d(t,"l",(function(){return a})),i.d(t,"k",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return c})),i.d(t,"e",(function(){return l})),i.d(t,"f",(function(){return d})),i.d(t,"g",(function(){return h})),i.d(t,"m",(function(){return u})),i.d(t,"i",(function(){return p})),i.d(t,"a",(function(){return f})),i.d(t,"j",(function(){return m}));var r="#2D9F28",s="#89C6F2",a="#FFC65E",n="red",o="#1EBEFF",c="#E505F7",l="#40A703",d="#F27908",h="#F180D1",u="#0F1F46",p="#000000",f={backgroundColor:"rgba(255,255,255,0.85)",borderColor:"transparent",textStyle:{fontSize:12,color:"#000"},padding:2},m=function(e,t,i,r,s){var a=e[0],n=s.contentSize,o=s.viewSize;return a+10>o[0]-n[0]?a=a-n[0]-10:a+=10,[a,"0%"]}},9758:function(e,t,i){},"9d20":function(e,t,i){"use strict";i("d2e3")},acd3:function(e,t,i){"use strict";i("9758")},b174:function(e,t,i){},d03a:function(e,t,i){"use strict";var r=i("26c6");t["a"]=r["a"]},d2e3:function(e,t,i){},d462:function(e,t,i){"use strict";var r=i("2ddc");t["a"]=r["a"]},e716:function(e,t,i){"use strict";i("271ae")},eb10:function(e,t,i){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{ref:"chartId",staticClass:"full"})},s=[],a=i("5530"),n=(i("3c65"),i("b0c0"),i("a9e3"),i("b680"),i("d3b7"),i("159b"),i("43c8")),o=i.n(n),c=i("2f62"),l=i("5aff"),d=i("c276"),h={name:"TimeEchart",computed:Object(a["a"])({},Object(c["b"])(["isZh"])),methods:{initChart:function(){var e=this;this.disMin=0,this.recvtime=[],this.speeds=[],this.mileages=[],this.status=[],this.chartsIns=o.a.init(this.$refs.chartId),this.chartsIns.setOption(this.getChartsOption(),!0),this.chartsIns.getZr().on("click",(function(t){var i=[t.offsetX,t.offsetY];if(e.chartsIns.containPixel("grid",i)&&e.recvtime.length){var r=e.chartsIns.convertFromPixel({seriesIndex:0},[t.offsetX,t.offsetY])[0];e.$parent.$parent.scrollToRow&&e.$parent.$parent.scrollToRow(r)}}))},updateChartsOption:function(e){var t=this.isZh,i=[],r=[],s=[],a=[],n=[],o=0;e.length>0&&(o=e[e.length-1].totaldistance),e.forEach((function(e){var c=Number((e.totaldistance-o).toFixed(2));i.unshift(e.updatetimeStr),r.unshift(Number(e.speed)),s.unshift(c),a.unshift(t?e.strstatus:e.strstatusen),n.unshift(0!=e.reissue?c:"")})),this.recvtime=i,this.speeds=r,this.mileages=s,this.status=a,this.reissues=n,this.chartsIns.setOption(this.getChartsOption(),!0),this.chartsIns.resize()},resize:function(){this.chartsIns.resize()},getChartsOption:function(){var e=this,t=this.$t("reportForm.speed"),i=this.$t("reportForm.mileage"),r=this.$t("reportForm.time"),s=this.$t("reportForm.status"),n=this.$t("reportForm.reissue"),o=this.$t("reportForm.weight");n=this.$t("reportForm.reissue");return{title:{text:r,x:"center",textStyle:{fontSize:12,fontWeight:"bolder",color:"#333"}},grid:{x:50,y:40,x2:50,y2:40,bottom:55},tooltip:Object(a["a"])(Object(a["a"])({trigger:"axis"},l["a"]),{},{formatter:function(s){var a="<div>".concat(s[0].name,"</div>");for(var c in s){var h=s[c].seriesName,u=s[c].value;h&&h!=r&&(h==i?a+=Object(d["i"])(l["b"],h,u,"km"):h==t?a+=Object(d["i"])(l["h"],h,u,"km/h"):h==o?a+=Object(d["i"])(l["m"],h,u,"Kg"):h==n?(u=""===u?e.$t("header.no"):e.$t("header.yes"),a+=Object(d["i"])("red",h,u,"")):a+=Object(d["i"])(l["m"],h,u,""))}return'<div style="width:230px">'.concat(a,"</div>")},position:l["j"]}),legend:{data:[t,i,n],x:"left"},toolbox:{show:!1,feature:{magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}},itemSize:14},xAxis:{type:"category",boundaryGap:!1,axisLine:{onZero:!1,show:!0},data:this.recvtime,axisPointer:{type:"line",value:"",snap:!1,lineStyle:{color:"#7581BD",width:2},handle:{show:!0,color:"transparent"}}},dataZoom:[{show:!0,realtime:!0,start:0,end:100,height:20,backgroundColor:"#EDEDED",fillerColor:"rgb(54, 72, 96,0.5)",bottom:10},{type:"inside",realtime:!0,start:0,end:100,height:20,bottom:0}],yAxis:[{name:t,type:"value",nameTextStyle:10,nameGap:5},{name:i,type:"value",nameTextStyle:10,nameGap:2,min:this.disMin,axisLabel:{formatter:"{value} km"},axisTick:{show:!1}}],series:[{name:r,type:"line",symbol:"none",yAxisIndex:1,color:"#F0805A",smooth:!0,data:this.recvtime},{name:t,type:"line",symbol:"none",yAxisIndex:0,smooth:!0,color:l["h"],data:this.speeds},{name:i,type:"line",symbol:"none",yAxisIndex:1,color:l["b"],smooth:!0,data:this.mileages},{smooth:!0,name:s,type:"line",symbol:"none",color:l["m"],data:this.status},{smooth:!0,name:n,type:"line",yAxisIndex:1,symbol:"none",color:"red",data:this.reissues}]}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))}},u=h,p=i("2877"),f=Object(p["a"])(u,r,s,!1,null,null,null);t["a"]=f.exports},ec11:function(e,t,i){},eca4:function(e,t,i){"use strict";i("b174")},facb:function(e,t,i){"use strict";i("ec11")}}]);