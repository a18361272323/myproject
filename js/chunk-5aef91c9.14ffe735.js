(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5aef91c9"],{1078:function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{ref:"wraper",class:t.wraperClasses,on:{mouseup:t.handleMouseup,mousemove:t.handleMousemove,mouseleave:t.handleMouseout}},[e("div",{class:"".concat(t.prefix,"-container")},[e("div",{class:"".concat(t.prefix,"-top-area-oil"),style:{height:"move"==t.verticalMode?t.leftSize:"100%"}},[t._t("top")],2),t._t("trigger",(function(){return[e("div",{ref:"trigger",class:"".concat(t.prefix,"-trigger-oil"),style:t.verticalTriggerStyle},[e("div",{class:"".concat(t.prefix,"-trigger-oil-wrap"),attrs:{unselectable:"on"},on:{mousedown:t.handleMousedown}})])]})),e("div",{class:"".concat(t.prefix,"-bottom-area"),style:{height:"move"==t.verticalMode?t.rightSize:"100%"}},[t._t("bottom")],2)],2)])},s=[],r=(i("c975"),i("a9e3"),function(t,e){return e.indexOf(t)>=0}),o={name:"MySplitPane",props:{value:{type:[Number,String],default:50},horizontalModeShowLeft:{type:Boolean,default:!0},verticalMode:{type:String,default:"move"},direction:{type:String,default:"horizontal",validator:function(t){return r(t,["vertical","horizontal"])}},min:{type:[Number,String],default:3},max:{type:[Number,String],default:97},maxRight:{type:Boolean,default:!1},right:{type:Boolean,default:!1},triggerStyle:{type:Object,default:function(){return{height:"4px",background:"#ffffff"}}}},data:function(){return{prefix:"split-pane",canMove:!1,triggerOffset:50,triggerOldOffset:50,offset:{},atMin:!1,atMax:!1,directionMark:0}},computed:{wraperClasses:function(){return[this.prefix,"vertical"===this.direction?"".concat(this.prefix,"-vertical"):"".concat(this.prefix,"-horizontal")]},leftSize:function(){return this.right?"".concat(100-this.triggerOffset,"%"):"".concat(this.triggerOffset,"%")},rightSize:function(){return this.right?"".concat(this.triggerOffset,"%"):"".concat(100-this.triggerOffset,"%")},triggerLeft:function(){return this.right?"".concat(100-this.triggerOffset,"%"):"".concat(this.triggerOffset,"%")},minTransed:function(){return this.transValue(this.min)},maxTransed:function(){var t=this.right?100-this.transValue(this.max):this.transValue(this.max);return this.maxRight?100-t:t},horizontalTriggerStyle:function(){return Object.assign({left:this.triggerLeft,borderTop:"1px solid #E2E3E5"},this.triggerStyle)},verticalTriggerStyle:function(){return Object.assign({top:this.triggerLeft},this.triggerStyle)}},methods:{handleMouseup:function(t){1==this.canMove&&(this.canMove=!1,this.$emit("on-resizing-end",t))},transValue:function(t){return"number"===typeof t?t:Math.floor(parseFloat(t)/this.$refs.wraper.offsetWidth*1e4)/100},handleMousedown:function(t){this.canMove=!0,this.triggerOldOffset=this.triggerOffset,this.offset={x:t.pageX,y:t.pageY},this.$emit("on-resizing-start",t),t.preventDefault()},handleMouseout:function(){this.canMove=!1},handleMousemove:function(t){if(this.canMove){var e,i=0;if("horizontal"===this.direction?(i=Math.floor((t.clientX-this.offset.x)/this.$refs.wraper.offsetWidth*1e4)/100,e=this.triggerOldOffset+(this.right?-i:i)):(i=Math.floor((t.clientY-this.offset.y)/this.$refs.wraper.offsetHeight*1e4)/100,e=this.triggerOldOffset+(this.right?-i:i)),this.right){var a=100-e;a<=this.minTransed?this.triggerOffset=100-Math.max(a,this.minTransed):this.triggerOffset=100-Math.min(a,this.maxTransed)}else e<=this.minTransed?this.triggerOffset=Math.max(e,this.minTransed):this.triggerOffset=Math.min(e,this.maxTransed);t.atMin=100-e<=this.minTransed,t.atMax=100-e>=this.maxTransed,t.pageX>this.directionMark?t.direction=1:t.direction=0,this.directionMark=t.pageX,this.$emit("input",this.triggerOffset),this.$emit("on-resizing",t)}},setTriggerOffset:function(t){var e=this;this.$nextTick((function(){e.triggerOffset="number"===typeof t?t:Math.floor(parseInt(t)/e.$refs.wraper.offsetWidth*1e4)/100,e.$emit("input",e.triggerOffset)}))}},watch:{value:function(t){var e=this;this.$nextTick((function(){e.triggerOffset="number"===typeof t?t:Math.floor(parseInt(t)/e.$refs.wraper.offsetWidth*1e4)/100}))}},mounted:function(){var t=this;void 0!==this.value&&(this.$nextTick((function(){t.triggerOffset="number"===typeof t.value?t.value:Math.floor(parseInt(t.value)/t.$refs.wraper.offsetWidth*1e4)/100})),this.triggerOffset="number"===typeof this.value?this.value:Math.floor(parseInt(this.value)/this.$refs.wraper.offsetWidth*1e4)/100)}},n=o,l=(i("acd3"),i("2877")),c=Object(l["a"])(n,a,s,!1,null,null,null),h=c.exports;e["a"]=h},"40ac":function(t,e,i){"use strict";i("6ffe")},"550c":function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"full",staticStyle:{position:"relative"}},[e("div",{staticClass:"full",attrs:{id:t.uid}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showMarkerTips&&t.markerTips,expression:"showMarkerTips && markerTips"}],staticClass:"oil-record-remark",style:t.markerTipsStyle,domProps:{textContent:t._s(t.markerTips)}})])},s=[],r=i("ade3"),o=i("5530"),n=(i("14d9"),i("b0c0"),i("a9e3"),i("b680"),i("d3b7"),i("159b"),i("43c8")),l=i.n(n),c=i("2f62"),h=i("5101"),d=i("c276"),m=i("5aff"),u={name:"Echart",props:{oilType:{type:Number,default:1},isMarking:{type:Boolean,default:!0},srcadSelectState:{type:Number,default:1}},data:function(){return{showMarkerTips:!1,offsetX:0,offsetY:0,markerTips:""}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["isZh"])),{},{uid:function(){return"echarts".concat(this._uid)},markerTipsStyle:function(){var t=this.elWidth;return t-this.offsetX>100?{top:this.offsetY-20+"px",left:this.offsetX+20+"px"}:{top:this.offsetY-20+"px",right:t-this.offsetX+20+"px"}}}),destroyed:function(){window.onresize=null},methods:{initChart:function(){var t=this;this.chartsIns=l.a.init(document.getElementById(this.uid)),this.chartsIns.setOption(this.getChartsOption(),!0),this.chartsIns.on("legendselectchanged",(function(e){t.selectedLegend=e.selected})),this.chartsIns.on("click",(function(e){if("markPoint"==e.componentType){var i=e.data.type,a=e.data.oilrecordid,s="prev"==i?t.oilRecords:t.oilRecords2,r=null;s.forEach((function(t){t.oilrecordid==a&&(r=t)})),null!==r&&(t.showMarkerTips&&(t.showMarkerTips=!1),t.$emit("onClickMarkPoint",{type:i,oilRecord:r}))}})),this.chartsIns.on("mousemove",(function(e){if("markPoint"==e.componentType){var i=e.data.oilrecordid,a=t.oilRecords,s=null,r=e.event.event,o=r.layerX,n=r.layerY;if(a.forEach((function(t){t.oilrecordid==i&&(s=t)})),null!==s){var l=$("#"+t.uid).width();t.elWidth=l,s.marker?t.markerTips=t.$t("reportForm.remarks")+":"+s.marker:t.markerTips="",t.offsetX=o,t.offsetY=n,0==t.showMarkerTips&&(t.showMarkerTips=!0)}}else t.showMarkerTips=!1})),this.chartsIns.getZr().on("mousemove",(function(e){var i=[e.offsetX,e.offsetY];t.chartsIns.containPixel("grid",i)&&t.showMarkerTips&&(t.showMarkerTips=!1)})),this.chartsIns.getZr().on("click",(function(e){var i=[e.offsetX,e.offsetY];if(t.chartsIns.containPixel("grid",i)){var a=t.chartsIns.convertFromPixel({seriesIndex:0},[e.offsetX,e.offsetY])[0],s=null,r=null;switch(t.oilType){case 1:s=t.oil1[a],r=Math.round(t.srcad0[a]*t.srcadratio);break;case 2:s=t.oil2[a],r=Math.round(t.srcad1[a]*t.srcadratio);break;case 3:s=t.oil3[a],r=Math.round(t.srcad2[a]*t.srcadratio);break;case 4:s=t.oil4[a],r=Math.round(t.srcad3[a]*t.srcadratio);break}t.isMarking&&r&&s?0==isNaN(r)&&0==isNaN(s)&&(t.$parent.$parent.height=r,t.$parent.$parent.volume=s):isNaN(r)||(1==t.srcadSelectState?t.$parent.$parent.startAd=r:t.$parent.$parent.endAd=r)}})),window.onresize=function(){t.chartsIns.resize()}},resize:function(){this.chartsIns.resize()},updatePrevChartsOption:function(t,e,i){var a=this;this.dateStr=t,this.oilRecords=e,this.showMarkerTips&&(this.showMarkerTips=!1);var s=[],r=[],o=[],n=[],l=[],c=[],m=[],u=[],f=[],p=[],g=[],b=[],y=[],v=[],O=[],k=[];this.srcadratio=Object(d["b"])(i);var $=0;i.forEach((function(t,e){var i=(t.speed/1e3).toFixed(2);0==e&&($=t.totaldistance),t.updatetimeStr=h["a"].longToLocalDateTimeNoYearStr(t.updatetime),s.push(t.totalad),r.push(t.totalnotrunningad),o.push(t.updatetimeStr),b.push(Number(i)),k.push(t.altitude),n.push(t.ad0),l.push(t.ad1),c.push(t.ad2),m.push(t.ad3),u.push(t.srcad0/a.srcadratio),f.push(t.srcad1/a.srcadratio),p.push(t.srcad2/a.srcadratio),g.push(t.srcad3/a.srcadratio),O.push(0==t.reissue?a.$t("header.no"):a.$t("header.yes")),v.push(a.isZh?t.strstatus:t.strstatusen),y.push(parseInt((t.totaldistance-$)/1e3))}));var x=Object(d["a"])(i,e,0,"prev"),S=Object(d["a"])(i,e,1,"prev"),M=Object(d["a"])(i,e,2,"prev"),T=Object(d["a"])(i,e,3,"prev"),j=Object(d["a"])(i,e,4,"prev"),D=Object(d["a"])(i,e,99,"prev");this.recvtime=o,this.totalad=s,this.notRunTotalad=r,this.speed=b,this.mileage=y,this.reissue=O,this.status=v,this.altitudes=k,this.oil1=n,this.oil2=l,this.oil3=c,this.oil4=m,this.srcad0=u,this.srcad1=f,this.srcad2=p,this.srcad3=g,this.markPointData=x,this.markPointDataOil1=S,this.markPointDataOil2=M,this.markPointDataOil3=T,this.markPointDataOil4=j,this.markPointDataOil99=D,this.chartsIns&&this.chartsIns.setOption(this.getChartsOption(),!0),this.chartsIns&&this.chartsIns.resize()},updateNextChartsOption:function(t,e,i){this.dateStr=t,this.oilRecords2=e;var a=[],s=[],r=[],o=[],n=[],l=[],c=[],m=[],u=[],f=[],p=[],g=[];i.forEach((function(t,e){var i=(t.speed/1e3).toFixed(2);t.updatetimeStr=h["a"].longToLocalDateTimeNoYearStr(t.updatetime),a.push(t.totalad),s.push(t.totalnotrunningad),r.push(t.updatetimeStr),g.push(Number(i)),o.push(t.ad0),n.push(t.ad1),l.push(t.ad2),c.push(t.ad3),m.push(t.srcad0),u.push(t.srcad1),f.push(t.srcad2),p.push(t.srcad3)}));var b=Object(d["a"])(i,e,0,"next"),y=Object(d["a"])(i,e,1,"next"),v=Object(d["a"])(i,e,2,"next"),O=Object(d["a"])(i,e,3,"next"),k=Object(d["a"])(i,e,4,"next"),$=Object(d["a"])(i,e,99,"next");this.totalad1=a,this.notRunTotalad1=s,this.oil11=o,this.oil21=n,this.oil31=l,this.oil41=c,this.srcad01=m,this.srcad11=u,this.srcad21=f,this.srcad31=p,this.markPointData1=b,this.markPointDataOil11=y,this.markPointDataOil12=v,this.markPointDataOil13=O,this.markPointDataOil14=k,this.markPointDataOil199=$,this.chartsIns&&this.chartsIns.setOption(this.getChartsOption(),!0),this.chartsIns&&this.chartsIns.resize()},getChartsOption:function(){var t=this.srcadratio,e=this.$t("bgManage.prev"),i=this.$t("bgManage.next"),a=this.$t("reportForm.time"),s=e+this.$t("reportForm.totalOil"),r=e+this.$t("reportForm.notRunTotalad"),n=this.$t("reportForm.speed"),l=this.$t("reportForm.mileage"),c=this.$t("reportForm.reissue"),h=this.$t("reportForm.altitude"),u=e+this.$t("reportForm.oil1"),f=e+this.$t("reportForm.oil2"),p=e+this.$t("reportForm.oil3"),g=e+this.$t("reportForm.oil4"),b=this.$t("reportForm.status"),y=this.$t("reportForm.srcad0"),v=this.$t("reportForm.srcad1"),O=this.$t("reportForm.srcad2"),k=this.$t("reportForm.srcad3"),$=i+this.$t("reportForm.totalOil"),x=i+this.$t("reportForm.notRunTotalad"),S=i+this.$t("reportForm.oil1"),M=i+this.$t("reportForm.oil2"),T=i+this.$t("reportForm.oil3"),j=i+this.$t("reportForm.oil4"),D="#05F790",P="#435D5A",w="#FCC40D",F="#B05432";return{title:{top:0,left:5,text:this.$t("bgManage.currentAdjustAfter"),textStyle:{fontSize:12}},grid:{top:80,left:60,right:60,bottom:44},tooltip:Object(o["a"])(Object(o["a"])({show:!0,trigger:"axis"},m["a"]),{},{formatter:function(e,i){var o="<div>".concat(e[0].name,"</div>");for(var c in e){var b=e[c].seriesName,C=e[c].value;b&&b!=a&&(o+=b==n?Object(d["i"])(m["h"],b,C,"km/h"):b==s?Object(d["i"])(m["k"],b,C,"L"):b==r?Object(d["i"])(m["c"],b,C,"L"):b==u?Object(d["i"])(m["d"],b,C,""):b==f?Object(d["i"])(m["e"],b,C,""):b==p?Object(d["i"])(m["f"],b,C,""):b==g?Object(d["i"])(m["g"],b,C,""):b==$?Object(d["i"])("#5316B4",b,C,"L"):b==x?Object(d["i"])("#E4582E",b,C,"L"):b==S?Object(d["i"])(D,b,C,""):b==M?Object(d["i"])(P,b,C,""):b==T?Object(d["i"])(w,b,C,""):b==j?Object(d["i"])(F,b,C,""):b==y||b==v||b==O||b==k?Object(d["i"])(m["i"],b,parseInt(Number(C)*t),""):b==h?Object(d["i"])(m["i"],b,C,"m"):b==l?Object(d["i"])(m["i"],b,C,"km"):Object(d["i"])(m["i"],b,C,""))}return'<div style="width:240px">'.concat(o,"</div>")}}),legend:{itemHeight:11,itemWidth:20,data:[s,r,u,f,p,g,y,v,O,k,$,x,S,M,T,j,n,l,h],width:this.isZh?900:1e3,left:100,selected:this.selectedLegend},toolbox:{show:!1,feature:{magicType:{show:!0,type:["line","bar"]},restore:{show:!1},saveAsImage:{show:!1}},itemSize:14},dataZoom:[{show:!0,realtime:!0,start:0,end:100,height:10,backgroundColor:"#E4E7ED",fillerColor:"rgb(54, 72, 96,0.2)",bottom:10},{type:"inside",realtime:!0,start:0,end:100,height:20,bottom:0}],xAxis:[{type:"category",boundaryGap:!1,axisLine:{onZero:!1},data:this.recvtime}],yAxis:[{name:this.dateStr,type:"value",offset:11,nameTextStyle:{fontSize:13,fontWeight:"bold"},axisLabel:{formatter:"{value} L"},nameGap:15},{name:"",type:"value",nameTextStyle:10,nameGap:2,axisLabel:{formatter:"{value} km"},axisTick:{show:!1}}],series:[{smooth:!0,name:s,type:"line",symbol:"none",color:m["k"],data:this.totalad,markPoint:{data:this.markPointData,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:r,type:"line",symbol:"none",color:m["c"],data:this.notRunTotalad,markPoint:{data:this.markPointDataOil99,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:u,type:"line",symbol:"none",color:m["d"],data:this.oil1,markPoint:{data:this.markPointDataOil1,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:n,type:"line",symbol:"none",color:m["h"],data:this.speed,yAxisIndex:1},{smooth:!0,name:l,type:"line",symbol:"none",color:m["b"],data:this.mileage,yAxisIndex:1},{smooth:!0,name:f,type:"line",symbol:"none",color:m["e"],data:this.oil2,markPoint:{data:this.markPointDataOil2,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:p,type:"line",symbol:"none",color:m["f"],data:this.oil3,markPoint:{data:this.markPointDataOil3,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:g,type:"line",symbol:"none",color:m["g"],data:this.oil4,markPoint:{data:this.markPointDataOil4,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:y,type:"line",symbol:"none",color:m["i"],data:this.srcad0},{smooth:!0,name:v,type:"line",symbol:"none",color:m["i"],data:this.srcad1},{smooth:!0,name:O,type:"line",symbol:"none",color:m["i"],data:this.srcad2},{smooth:!0,name:k,type:"line",symbol:"none",color:m["i"],data:this.srcad3},{smooth:!0,name:$,type:"line",symbol:"none",color:"#5316B4",data:this.totalad1,markPoint:{data:this.markPointData1,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:x,type:"line",symbol:"none",color:"#E4582E",data:this.notRunTotalad1,markPoint:{data:this.markPointDataOil199,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:S,type:"line",symbol:"none",color:D,data:this.oil11,markPoint:{data:this.markPointDataOil11,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:M,type:"line",symbol:"none",color:P,data:this.oil21,markPoint:{data:this.markPointDataOil12,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:T,type:"line",symbol:"none",color:w,data:this.oil31,markPoint:{data:this.markPointDataOil13,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:j,type:"line",symbol:"none",color:F,data:this.oil41,markPoint:{data:this.markPointDataOil14,symbolSize:36,symbolKeepAspect:!0}},{name:h,type:"line",symbol:"none",color:"#000",data:this.altitudes,smooth:!0},{name:b,type:"line",symbol:"none",color:"#000",data:this.status,smooth:!0},{name:c,type:"line",symbol:"none",color:"#000",data:this.reissue,smooth:!0}]}}},mounted:function(){var t,e=this;this.dateStr="";var i=this.$t("bgManage.prev"),a=this.$t("bgManage.next"),s=this.$t("reportForm.srcad0"),o=this.$t("reportForm.srcad1"),n=this.$t("reportForm.srcad2"),l=this.$t("reportForm.srcad3"),c=i+this.$t("reportForm.notRunTotalad"),h=a+this.$t("reportForm.notRunTotalad"),d=i+this.$t("reportForm.oil1"),m=a+this.$t("reportForm.oil1"),u=i+this.$t("reportForm.oil2"),f=i+this.$t("reportForm.oil3"),p=i+this.$t("reportForm.oil4"),g=a+this.$t("reportForm.oil2"),b=a+this.$t("reportForm.oil3"),y=a+this.$t("reportForm.oil4"),v=this.$t("reportForm.altitude");this.selectedLegend=(t={},Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(t,d,!1),s,!1),o,!1),n,!1),l,!1),c,!1),u,!1),f,!1),p,!1),h,!1),Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(t,m,!1),g,!1),b,!1),y,!1),v,!1)),this.recvtime=[],this.totalad=[],this.notRunTotalad=[],this.speed=[],this.mileage=[],this.altitudes=[],this.status=[],this.reissue=[],this.oil1=[],this.oil2=[],this.oil3=[],this.oil4=[],this.srcad0=[],this.srcad1=[],this.srcad2=[],this.srcad3=[],this.markPointData=[],this.markPointDataOil1=[],this.markPointDataOil2=[],this.markPointDataOil3=[],this.markPointDataOil4=[],this.markPointDataOil99=[],this.totalad1=[],this.notRunTotalad1=[],this.oil11=[],this.oil21=[],this.oil31=[],this.oil41=[],this.srcad01=[],this.srcad11=[],this.srcad21=[],this.srcad31=[],this.markPointData1=[],this.markPointDataOil11=[],this.markPointDataOil12=[],this.markPointDataOil13=[],this.markPointDataOil14=[],this.markPointDataOil199=[],this.$nextTick((function(){e.initChart()}))}},f=u,p=(i("e97f"),i("2877")),g=Object(p["a"])(f,a,s,!1,null,null,null);e["a"]=g.exports},"6ffe":function(t,e,i){},8871:function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"oil-marking-header"},[e("div",{staticClass:"oil-marking-header-ctrl"},[e("div",{staticClass:"f_left"},[e("SingleChoiceVehicle",{attrs:{disableShare:"",placeholder:this.$t("tips.selectSingleDevice"),width:"230px"},model:{value:t.deviceid,callback:function(e){t.deviceid=e},expression:"deviceid"}})],1),e("div",{staticClass:"f_left"},[e("SelectDate",{attrs:{dateType:"month",label:t.$t("tips.selectTime")},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1),e("div",{staticClass:"f_left"},[e("el-button",{staticStyle:{height:"34px"},attrs:{type:"primary",loading:t.loading},on:{click:t.handleQuery}},[t._v(t._s(t.$t("common.query")))])],1),e("div",{staticClass:"f_right"},[e("span",{staticStyle:{"background-color":"#31B16C"}}),e("b",[t._v(t._s(t.$t("reportForm.refuel"))+" ")]),e("span",{staticStyle:{"background-color":"#FF0000"}}),e("b",[t._v(t._s(t.$t("reportForm.leak")))]),e("span",{staticStyle:{"background-color":"#242424"}}),e("b",[t._v(t._s(t.$t("home.normal")))])])]),e("div",{staticClass:"oil-marking-header-table"},[e("div",{staticClass:"oil-marking-header-table-header"},[e("div",[t._v(t._s(t.$t("reportForm.date")))]),e("div",[t._v(t._s(t.$t("monitor.mileage")))]),e("div",[t._v(t._s(t.$t("reportForm.oil")))])]),e("div",{ref:"tableBody",staticClass:"oil-marking-header-table-body"},[e("div",{style:t.bodyStyle},t._l(t.dayList,(function(i,a){return e("div",{class:[i.color,i.selected?"selected-day":""],on:{click:function(e){return t.handleQueryOil(i)}}},[e("div",{staticClass:"font-color",staticStyle:{"font-size":"14px"},domProps:{textContent:t._s(i.day)}}),e("div",{staticClass:"font-color mileage-color",domProps:{textContent:t._s(i.mileage)}}),e("div",{staticClass:"oil-color",domProps:{textContent:t._s(i.oil)}})])})),0)])])])},s=[],r=i("5530"),o=(i("14d9"),i("4e82"),i("a9e3"),i("d3b7"),i("159b"),i("2ddc")),n=i("26c6"),l=i("1c31"),c=i("5101"),h=i("7cf8"),d=i("2f62"),m={name:"OilMarkingHeader",data:function(){return{loading:!1,deviceid:"",month:new Date,dayList:[],scrollWdith:0}},components:{SingleChoiceVehicle:n["a"],SelectDate:o["a"]},computed:Object(r["a"])(Object(r["a"])({},Object(d["b"])(["isZh","singleDeviceid"])),{},{bodyStyle:function(){return{}}}),watch:{deviceid:function(t){this.setSingleDeviceid(t),this.$emit("clearData",t),this.handleQuery()}},methods:Object(r["a"])(Object(r["a"])({},Object(d["c"])(["setSingleDeviceid"])),{},{handleQueryOil:function(t){var e=this;this.dayList.forEach((function(t){t.selected=!1})),t.selected=!0;var i=t.dateStr,a=t.deviceid;if(a||(a=this.deviceid),a)if(i)this.reportOilTime(t,a,i);else{var s=c["a"].format(this.month,"yyyy-MM"),r=s.split("-"),o={year:Number(r[0]),month:Number(r[1]),deviceids:[a],offset:c["a"].getOffset()};this.loading=!0,Object(l["bb"])(o).then((function(r){var o=r.devices;if(o){var n=o[0];e.dayList=e.getDayList(n.records),e.$emit("queryRefuelTicket",a),i=s+"-"+(t.day<10?"0"+t.day:t.day);var l=e.dayList[Number(t.day)-1];l.selected=!0,e.reportOilTime(l,a,i)}e.loading=!1})).catch((function(t){console.log(t),e.loading=!1}))}else this.$XModal.message({message:this.$t("tips.noData"),status:"error"})},reportOilTime:function(t,e,i){var a=this,s=this.$loading({lock:!0,text:this.$t("missing.loading"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),r=t.type,o={startday:i,endday:i,offset:c["a"].getOffset(),devices:[e],oilstate:99,oilindex:0};0==r?Object(l["fb"])(o).then((function(t){s.close();var e=[],r=t.records[0].records;a.$emit("queryDayRecords",{oilRecords:e,trackRecords:r,dateStr:i})})).catch((function(t){s.close()})):Object(h["db"])(o).then((function(t){var e=t.records[0].records;Object(l["fb"])(o).then((function(t){s.close();var r=t.records[0].records;r&&r.sort((function(t,e){return t.updatetime-e.updatetime})),a.$emit("queryDayRecords",{oilRecords:e,trackRecords:r,dateStr:i})})).catch((function(t){s.close()}))})).catch((function(t){s.close()}))},handleQuery:function(){var t=this,e=this.deviceid,i=c["a"].format(this.month,"yyyy-MM").split("-");if(e){var a={year:Number(i[0]),month:Number(i[1]),deviceids:[this.deviceid],offset:c["a"].getOffset()};this.loading=!0,Object(l["bb"])(a).then((function(i){var a=i.devices;if(a){var s=a[0];t.dayList=t.getDayList(s.records),t.$XModal.message({message:t.$t("bgManage.querySucceededPleaseSelectDatePreview"),status:"success"}),t.$emit("queryRefuelTicket",e)}t.loading=!1})).catch((function(e){t.loading=!1}))}else this.$XModal.message({message:this.$t("tips.selectDevice"),status:"error"})},getTheMonthDays:function(t){var e=t.getFullYear(),i=t.getMonth()+1;return new Date(new Date(e,i,1)-1).getDate()},getDayList:function(t){for(var e=[],i=this.getTheMonthDays(this.month),a=1;a<=i;a++){var s=t[a-1];if(s){var r=s.totaldistance/1e3,o=0,n=s.addoil/100,l=s.leakoil/100,c=0;n>0&&(c=1,o=Math.round(n)),l>0&&(c=-1,o=Math.round(l)),e.push({day:String(a),oil:o,mileage:parseInt(r),type:c,color:this.getBackgroundColor(c),dateStr:s.statisticsday,deviceid:s.deviceid,selected:!1})}else e.push({day:String(a),oil:"-",mileage:"-",color:this.getBackgroundColor(0),dateStr:null,selected:!1})}return e},getBackgroundColor:function(t){var e="";switch(t){case-1:e="leak";break;case 0:e="null_status";break;case 1:e="refuel";break}return[e]}}),mounted:function(){var t=this;this.singleDeviceid&&(this.deviceid=this.singleDeviceid),this.$nextTick((function(){t.dayList=t.getDayList([])}))}},u=m,f=(i("40ac"),i("2877")),p=Object(f["a"])(u,a,s,!1,null,null,null);e["a"]=p.exports},9758:function(t,e,i){},acd3:function(t,e,i){"use strict";i("9758")},c095:function(t,e,i){},e97f:function(t,e,i){"use strict";i("c095")}}]);