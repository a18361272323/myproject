(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef22a068"],{"0a30":function(e,t,a){},5450:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"device-types full"},[t("div",[t("div",{staticStyle:{float:"left"}},[t("el-select",{staticStyle:{width:"240px"},attrs:{filterable:"","filter-method":e.deviceTypeFilterMethod},model:{value:e.deviceType,callback:function(t){e.deviceType=t},expression:"deviceType"}},e._l(e.deviceTypes,(function(e,a){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("div",{staticStyle:{float:"left","margin-left":"10px"}},[t("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAddCmd}},[e._v(e._s(e.$t("systemManage.addCmd")))])],1),t("div",{staticStyle:{float:"left","margin-left":"10px"}},[t("el-select",{staticStyle:{width:"240px"},attrs:{filterable:"","filter-method":e.deviceTypeFilterMethod},model:{value:e.copyDeviceType,callback:function(t){e.copyDeviceType=t},expression:"copyDeviceType"}},e._l(e.deviceTypes,(function(e,a){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("div",{staticStyle:{float:"left","margin-left":"10px"}},[t("el-select",{staticStyle:{width:"240px"},attrs:{filterable:""},model:{value:e.copyCmdcode,callback:function(t){e.copyCmdcode=t},expression:"copyCmdcode"}},e._l(e.copyCmdsOption,(function(e,a){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("div",{staticStyle:{float:"left","margin-left":"10px"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.onCopyDirective}},[e._v(e._s(e.$t("bgManage.copy")))])],1)]),t("div",{staticClass:"device-types-table"},[t("vxe-table",{ref:"xTable",attrs:{border:"","edit-config":{trigger:"manual",mode:"row",showIcon:!1,autoClear:!1},resizable:"","show-overflow":"","highlight-hover-row":"",size:"mini",height:"auto",data:e.tableList},on:{"edit-closed":e.editClosed,"cell-click":e.cellclick,"cell-dblclick":e.handleClickRow}},[t("vxe-table-column",{attrs:{field:"cmdlevel",title:e.$t("common.sn"),width:"80","edit-render":{name:"$input",props:{type:"text"}}},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"edit-devicename",attrs:{title:e.$t("tips.clickToEdit")}},[t("span",{domProps:{textContent:e._s(a.row.cmdlevel)}}),t("i",{staticClass:"el-icon-edit"})])]}}])}),t("vxe-table-column",{attrs:{field:e.isZh?"cmdname":"cmdnameen",title:e.$t("monitor.cmdName")}}),t("vxe-table-column",{attrs:{field:e.isZh?"cmddescr":"cmddescren",title:e.$t("systemManage.cmdDesc")}}),t("vxe-table-column",{attrs:{field:"sync",title:e.$t("systemManage.isAsync"),formatter:e.formatRole}}),t("vxe-table-column",{attrs:{title:e.$t("reportForm.action"),width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEdit(a)}}},[e._v(e._s(e.$t("common.edit")))]),t("el-popconfirm",{attrs:{placement:"top",icon:"el-icon-info","icon-color":"red","confirm-button-text":e.$t("common.confirm"),"cancel-button-text":e.$t("common.cancel"),title:e.$t("tips.confirmDelete")},on:{confirm:function(t){return e.handleDelete(a)}}},[t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v(e._s(e.$t("common.delete")))])],1)]}}])})],1)],1),t("CmdInfo",{ref:"cmdInfo",attrs:{isEdit:e.isEdit,deviceTypeList:e.deviceTypeList,cmds:e.cmds},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}})],1)},l=[],i=a("5530"),c=(a("14d9"),a("4e82"),a("e9c4"),a("b64b"),a("d3b7"),a("159b"),a("b562")),r=a("2f62"),n=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.title,visible:e.value,center:"",width:"760px","append-to-body":"","close-on-click-modal":!1},on:{close:e.handleClose}},[t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:e.$t("home.types")}},[t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"",filterable:""},model:{value:e.deviceType,callback:function(t){e.deviceType=t},expression:"deviceType"}},e._l(e.deviceTypeList,(function(e,a){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:e.$t("systemManage.cmdType")}},[t("el-select",{staticStyle:{width:"100%"},attrs:{filterable:""},model:{value:e.cmdcode,callback:function(t){e.cmdcode=t},expression:"cmdcode"}},e._l(e.cmds,(function(e,a){return t("el-option",{key:e.cmdCode,attrs:{label:e.cmdName,value:e.cmdCode}})})),1)],1)],1)],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:e.$t("systemManage.cmdPwd")}},[t("el-input",{model:{value:e.cmdpwd,callback:function(t){e.cmdpwd=t},expression:"cmdpwd"}})],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:e.$t("systemManage.isAsync")}},[t("div",{staticStyle:{padding:"4px 0px 0px 10px"}},[t("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1)])],1)],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:24}},[t("LabelWrap",{staticClass:"admin-lanuage",attrs:{label:e.$t("systemManage.paramsType")}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.selectParamType,callback:function(t){e.selectParamType=t},expression:"selectParamType"}},[t("el-option",{attrs:{label:e.$t("systemManage.textInput"),value:"text"}}),t("el-option",{attrs:{label:e.$t("systemManage.dropdownSelect"),value:"list"}}),t("el-option",{attrs:{label:e.$t("systemManage.period"),value:"timeperiod"}}),t("el-option",{attrs:{label:e.$t("systemManage.alarmClock"),value:"remind"}}),t("el-option",{attrs:{label:e.$t("systemManage.time"),value:"time"}}),t("el-option",{attrs:{label:e.$t("systemManage.weekTime"),value:"weektime"}}),t("el-option",{attrs:{label:e.$t("systemManage.weekPeriod"),value:"weekperiod"}}),t("el-option",{attrs:{label:e.$t("systemManage.any"),value:"any"}})],1)],1)],1)],1),t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:22,offset:2}},[t("div",[t("el-radio",{staticStyle:{width:"80px"},attrs:{label:"zh"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.$t("systemManage.zh")))]),t("el-radio",{staticStyle:{width:"80px"},attrs:{label:"en"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.$t("systemManage.en")))]),t("el-radio",{staticStyle:{width:"80px"},attrs:{label:"tw"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.$t("systemManage.tw")))]),t("el-radio",{staticStyle:{width:"80px"},attrs:{label:"fr"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.$t("systemManage.fr")))]),t("el-radio",{staticStyle:{width:"80px"},attrs:{label:"es"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.$t("systemManage.es")))]),t("el-radio",{staticStyle:{width:"80px"},attrs:{label:"pt"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.$t("systemManage.pt")))]),t("el-radio",{staticStyle:{width:"80px"},attrs:{label:"ru"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.$t("systemManage.ru")))]),t("el-radio",{staticStyle:{width:"80px"},attrs:{label:"id"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.$t("systemManage.id")))]),t("el-radio",{staticStyle:{width:"80px"},attrs:{label:"tr"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.$t("systemManage.tr")))]),t("el-radio",{staticStyle:{width:"80px"},attrs:{label:"fa"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.$t("systemManage.fa")))]),t("el-radio",{staticStyle:{width:"80px"},attrs:{label:"ja"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.$t("systemManage.ja")))]),t("el-radio",{staticStyle:{width:"80px"},attrs:{label:"vi"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.$t("systemManage.vi")))]),t("el-radio",{staticStyle:{width:"80px"},attrs:{label:"ar"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.$t("systemManage.ar")))])],1)])],1),t("CmdParams",{ref:"cmdParams",attrs:{data:e.cmdParams,selectParamType:e.selectParamType},on:{onInput:e.onInputCmdParams}}),t("el-row",{staticStyle:{"margin-top":"10px"}},[t("el-col",{attrs:{span:8,offset:8}},[e.isEdit?t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.handleEdit}},[e._v(e._s(e.$t("common.determine")))]):t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("common.determine")))])],1),t("el-col",{staticStyle:{"padding-top":"2px","text-align":"right"},attrs:{span:8}},[t("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.copyCmdParams}},[e._v(e._s(e.$t("bgManage.copy")))])],1)],1)],1)},o=[],d=a("201d"),m=function(){var e=this,t=e._self._c;return t("div",[t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:e.$t("monitor.cmdName")}},[t("el-input",{on:{input:e.onInputName},model:{value:e.data.cmdname,callback:function(t){e.$set(e.data,"cmdname",t)},expression:"data.cmdname"}})],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:e.$t("systemManage.cmdDesc")}},[t("el-input",{on:{input:e.onInputDescr},model:{value:e.data.cmddescr,callback:function(t){e.$set(e.data,"cmddescr",t)},expression:"data.cmddescr"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:12}},[e._v(" "+e._s(e.$t("systemManage.params"))+" "),t("el-popover",{attrs:{placement:"top",width:"240",trigger:"click"}},[t("div",[t("h4",{staticStyle:{padding:"4px 0px 4px 10px",margin:"4px 0px","text-align":"center"}},[e._v(" Example")]),t("el-row",{attrs:{gutter:10}},[t("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:17}},[e._v(" 1. text ")]),t("el-col",{attrs:{span:6}},[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleInsert(1)}}},[e._v("插入")])],1)],1),t("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:10}},[t("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:17}},[e._v(" 2. list ")]),t("el-col",{attrs:{span:6}},[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleInsert(2)}}},[e._v("插入")])],1)],1),t("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:10}},[t("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:17}},[e._v(" 3. timeperiod ")]),t("el-col",{attrs:{span:6}},[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleInsert(3)}}},[e._v("插入")])],1)],1),t("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:10}},[t("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:17}},[e._v(" 4. time ")]),t("el-col",{attrs:{span:6}},[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleInsert(4)}}},[e._v("插入")])],1)],1),t("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:10}},[t("el-col",{staticStyle:{"line-height":"28px"},attrs:{span:17}},[e._v(" 5. checkbox ")]),t("el-col",{attrs:{span:6}},[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleInsert(5)}}},[e._v("插入")])],1)],1)],1),t("i",{staticClass:"el-icon-warning-outline new-add-tips-icon",staticStyle:{"font-size":"18px",cursor:"pointer",position:"relative",top:"2px",color:"#ecc849"},attrs:{slot:"reference"},slot:"reference"})])],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:12}},[e._v(e._s(e.$t("systemManage.preview")))])],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("el-input",{attrs:{type:"textarea",rows:"10"},on:{input:e.onInputParams},model:{value:e.data.params,callback:function(t){e.$set(e.data,"params",t)},expression:"data.params"}})],1),t("el-col",{attrs:{span:12}},[t("PreviewParams",{attrs:{selectParamType:e.selectParamType,previewObjList:e.previewObjList}})],1)],1)],1)},p=[],u=(a("d81d"),a("a9e3"),a("ac1f"),a("5319"),a("498a"),function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"207px"}},[t("el-scrollbar",{staticStyle:{height:"100%"}},["text"==e.selectParamType?t("div",e._l(e.previewObjList,(function(a){return t("el-row",{key:a.text,staticStyle:{margin:"5px 0"},attrs:{gutter:10}},[t("el-col",{staticStyle:{height:"100%","text-align":"right","line-height":"32px"},attrs:{span:9}},[e._v(" "+e._s(a.title)+" ")]),t("el-col",{attrs:{span:15}},[t("el-input",{model:{value:a.value,callback:function(t){e.$set(a,"value","string"===typeof t?t.trim():t)},expression:"item.value"}})],1)],1)})),1):e._e(),"list"==e.selectParamType?t("div",[t("div",[t("el-select",{model:{value:e.elSelect,callback:function(t){e.elSelect=t},expression:"elSelect"}},e._l(e.previewObjList,(function(e){return t("el-option",{key:e.type,attrs:{label:e.value,value:e.type}})})),1)],1)]):e._e(),"timeperiod"==e.selectParamType?t("div",[t("div",e._l(e.previewObjList,(function(a){return t("p",{key:a.type,staticStyle:{margin:"5px 0"}},[e._v(" "+e._s(a.title)+" :   "),t("el-time-picker",{attrs:{"is-range":"",format:"HH:mm","value-format":"HH:mm",type:"timerange",value:a.formatValue,placeholder:e.$t("systemManage.selectPeriod")}})],1)})),0)]):e._e(),"remind"==e.selectParamType?t("div",[t("div",[t("el-row",[t("el-col",{attrs:{span:16}},[t("el-time-picker",{attrs:{format:"HH:mm","value-format":"HH:mm",placeholder:e.$t("common.selectTime")}})],1),t("el-col",{staticStyle:{height:"100%","line-height":"32px"},attrs:{span:8}})],1),t("el-row",{staticStyle:{margin:"5px 0"}},[t("el-col",{attrs:{span:16}},[t("el-radio",{attrs:{label:"1"}},[t("span",[e._v(e._s(e.$t("systemManage.once")))])]),t("el-radio",{attrs:{label:"2"}},[t("span",[e._v(e._s(e.$t("systemManage.everyDay")))])]),t("el-radio",{attrs:{label:"3"}},[t("span",[e._v(e._s(e.$t("systemManage.weekly")))])])],1)],1),t("el-row",{staticStyle:{margin:"5px 0"}},[t("el-col",{attrs:{span:24}},[t("el-checkbox-group",{model:{value:e.checkboxs,callback:function(t){e.checkboxs=t},expression:"checkboxs"}},[t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.mon")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.mon")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.tue")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.tue")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.wed")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.wed")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.thu")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.thu")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.fri")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.fri")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.sat")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.sat")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.sun")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.sun")))])])],1)],1)],1)],1)]):e._e(),"time"==e.selectParamType?t("div",[t("div",e._l(e.previewObjList,(function(a,s){return t("p",{key:s,staticStyle:{margin:"5px 0"}},[e._v(" "+e._s(a.title)+" :   "),t("el-time-picker",{attrs:{format:"HH:mm","value-format":"HH:mm",type:"time",value:a.value,placeholder:e.$t("common.selectTime")}})],1)})),0)]):e._e(),"weektime"==e.selectParamType?t("div",e._l(e.previewObjList,(function(a,s){return t("p",{key:s,staticStyle:{margin:"5px 0"}},[t("el-row",{staticStyle:{margin:"5px 0"}},[t("el-col",{attrs:{span:24}},[e._v(" "+e._s(a.title)+"   "),t("el-time-picker",{attrs:{format:"HH:mm","value-format":"HH:mm",type:"time",placeholder:e.$t("common.selectTime")},model:{value:a.time,callback:function(t){e.$set(a,"time",t)},expression:"item.time"}})],1)],1),t("el-row",{staticStyle:{margin:"5px 0"}},[t("el-col",{attrs:{span:24}},[t("el-checkbox-group",{model:{value:a.weekselected,callback:function(t){e.$set(a,"weekselected",t)},expression:"item.weekselected"}},[t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.mon")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.mon")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.tue")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.tue")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.wed")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.wed")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.thu")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.thu")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.fri")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.fri")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.sat")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.sat")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.sun")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.sun")))])])],1)],1)],1)],1)})),0):e._e(),"weekperiod"==e.selectParamType?t("div",e._l(e.previewObjList,(function(a,s){return t("p",{key:s,staticStyle:{margin:"5px 0"}},["week"==a.type?t("el-row",{staticStyle:{margin:"10px 0"}},[t("el-col",{attrs:{span:24}},[t("el-checkbox-group",{model:{value:a.weekselected,callback:function(t){e.$set(a,"weekselected",t)},expression:"item.weekselected"}},[t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.mon")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.mon")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.tue")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.tue")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.wed")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.wed")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.thu")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.thu")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.fri")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.fri")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.sat")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.sat")))])]),t("el-checkbox",{attrs:{label:e.$t("el.datepicker.weeks.sun")}},[t("span",[e._v(e._s(e.$t("el.datepicker.weeks.sun")))])])],1)],1)],1):t("el-row",{key:s,staticStyle:{margin:"10px 0"}},[t("el-col",{attrs:{span:4}},[e._v(" "+e._s(a.title)+"   ")]),t("el-col",{attrs:{span:20}},[t("el-time-picker",{attrs:{"is-range":"",format:"HH:mm","value-format":"HH:mm",value:a.time,placeholder:e.$t("systemManage.selectPeriod")}})],1)],1)],1)})),0):e._e(),"any"==e.selectParamType?t("div",e._l(e.previewObjList,(function(a,s){return t("p",{key:s,staticStyle:{margin:"5px 0"}},["text"==a.type?t("el-row",{staticStyle:{margin:"5px 0"},attrs:{gutter:10}},[t("el-col",{staticStyle:{height:"100%","text-align":"right","line-height":"32px"},attrs:{span:7}},[e._v(" "+e._s(a.title)+" ")]),t("el-col",{attrs:{span:17}},[t("el-input",{model:{value:a.value,callback:function(t){e.$set(a,"value","string"===typeof t?t.trim():t)},expression:"item.value"}})],1)],1):e._e(),"list"==a.type?t("el-row",{staticStyle:{margin:"5px 0"},attrs:{gutter:10}},[t("el-col",{staticStyle:{height:"100%","text-align":"right","line-height":"32px"},attrs:{span:7}},[e._v(" "+e._s(a.title)+" ")]),t("el-col",{staticStyle:{position:"relative"},attrs:{span:17}},[t("el-select",{staticStyle:{width:"100%"},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}},e._l(a.label,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1):e._e(),"timeperiod"==a.type?t("el-row",{staticStyle:{margin:"5px 0"},attrs:{gutter:10}},[t("el-col",{staticStyle:{height:"100%","text-align":"right","line-height":"32px"},attrs:{span:7}},[e._v(" "+e._s(a.title)+" ")]),t("el-col",{attrs:{span:17}},[t("el-time-picker",{staticStyle:{width:"100%"},attrs:{"is-range":"",format:"HH:mm","value-format":"HH:mm",type:"time",placeholder:e.$t("common.selectTime")},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}})],1)],1):e._e(),"time"==a.type?t("el-row",{staticStyle:{margin:"5px 0"},attrs:{gutter:10}},[t("el-col",{staticStyle:{height:"100%","text-align":"right","line-height":"32px"},attrs:{span:7}},[e._v(" "+e._s(a.title)+" ")]),t("el-col",{attrs:{span:17}},[t("el-time-picker",{staticStyle:{width:"100%"},attrs:{format:"HH:mm","value-format":"HH:mm",type:"time",placeholder:e.$t("common.selectTime")},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}})],1)],1):e._e(),"checkbox"==a.type?t("el-row",{staticStyle:{margin:"5px 0"},attrs:{gutter:10}},[t("el-col",{staticStyle:{height:"100%","text-align":"right","line-height":"32px"},attrs:{span:7}},[e._v(" "+e._s(a.title)+" ")]),t("el-col",{attrs:{span:17}},[t("el-checkbox-group",{model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}},e._l(a.label,(function(a,s){return t("el-checkbox",{key:s,attrs:{label:a.value}},[t("span",[e._v(e._s(a.label))])])})),1)],1)],1):e._e()],1)})),0):e._e()])],1)}),h=[],v={props:{selectParamType:{type:String,default:""},previewObjList:{type:Array,default:function(){return[]}}},data:function(){return{elSelect:"",checkboxs:[]}}},y=v,b=a("2877"),f=Object(b["a"])(y,u,h,!1,null,null,null),k=f.exports,w={name:"CmdParams",props:{data:{type:Object,default:function(){return{cmdname:"",cmddescr:"",params:""}}},selectParamType:{type:String,default:"any"}},data:function(){return{previewObjList:[]}},components:{LabelWrap:d["a"],PreviewParams:k},watch:{selectParamType:function(){this.setPreviewObjList(this.data.params)}},methods:{onInputName:function(e){this.$emit("onInput",this.data)},onInputDescr:function(e){this.$emit("onInput",this.data)},onInputParams:function(e){this.setPreviewObjList(e),this.$emit("onInput",this.data)},handleInsert:function(e){var t=this.data.params;t&&0!=t.length?t+="\n":t="",1==e?t+='<param type="text" name="content" value="abcdef">PushText</param>':2==e?t+='<param type="list" name="select" label="Off,On" value="0">Switch Off/On</param>':3==e?t+='<param type="timeperiod" name="timeperiod1"  value="12:00-23:00">Call Time Period</param>':4==e?t+='<param type="time" name="time1"  value="12:00">Alarm Time</param>':5==e&&(t+='<param type="checkbox" name="checkbox1" label="一,二,三,四,五,六,七" value="1111100">Week Select</param>'),this.data.params=t,this.setPreviewObjList(t),this.$emit("onInput",this.data)},setPreviewObjList:function(e){var t=[];if(e&&(e=e.trim(),this.checkFormatCorrect(e))){var a="<params>"+e+"</params>",s=new DOMParser,l=s.parseFromString(a,"text/xml");t=this.parseXML(l)}this.previewObjList=t},parseXML:function(e){for(var t,a,s,l,i,c,r,n,o,d,m,p,u,h,v,y,b,f=this,k=this.selectParamType,w=[],g=e.children[0],x=g.children,$=function(){if(t=x[_],a=t.innerHTML,s=t.getAttribute("type"),l=t.getAttribute("value"),"any"==k){if(i=t.getAttribute("label"),r={type:s,title:a,label:"",value:""},"text"==s)r.value=l;else if("list"==s)c=i.split(",").map((function(e,t){return{label:e,value:t}})),r.value=Number(l),r.label=c;else if("timeperiod"==s)r.value=l.split("-");else if("time"==s)r.value=l;else if("checkbox"==s){c=i.split(",").map((function(e,t){return{label:e,value:t+1}}));var e=[];l.split("").forEach((function(t,a){1==t&&e.push(a+1)})),r.value=e,r.label=c}w.push(r)}else r=null,s&&("timeperiod"===k?(l=l||"00:00-24:00",b=l.split("-"),r={type:s,value:l,title:a,formatValue:b}):"weektime"===k?(b=l.split("-"),n=b[1],o=[],d=1==n.charAt(0)&&f.$t("el.datepicker.weeks.mon"),m=1==n.charAt(1)&&f.$t("el.datepicker.weeks.tue"),p=1==n.charAt(2)&&f.$t("el.datepicker.weeks.wed"),u=1==n.charAt(3)&&f.$t("el.datepicker.weeks.thu"),h=1==n.charAt(4)&&f.$t("el.datepicker.weeks.fri"),v=1==n.charAt(5)&&f.$t("el.datepicker.weeks.sat"),y=1==n.charAt(6)&&f.$t("el.datepicker.weeks.sun"),d&&o.push(d),m&&o.push(m),p&&o.push(p),u&&o.push(u),h&&o.push(h),v&&o.push(v),y&&o.push(y),r={type:s,time:b[0],weekselected:o,title:a}):"weekperiod"===k?"week"==s?(n=l,o=[],d=1==n.charAt(0)&&f.$t("el.datepicker.weeks.mon"),m=1==n.charAt(1)&&f.$t("el.datepicker.weeks.tue"),p=1==n.charAt(2)&&f.$t("el.datepicker.weeks.wed"),u=1==n.charAt(3)&&f.$t("el.datepicker.weeks.thu"),h=1==n.charAt(4)&&f.$t("el.datepicker.weeks.fri"),v=1==n.charAt(5)&&f.$t("el.datepicker.weeks.sat"),y=1==n.charAt(6)&&f.$t("el.datepicker.weeks.sun"),d&&o.push(d),m&&o.push(m),p&&o.push(p),u&&o.push(u),h&&o.push(h),v&&o.push(v),y&&o.push(y),r={type:s,weekselected:o,title:a}):(b=l.split("-"),r={type:s,time:b,title:a}):r={type:s,value:l,title:a},w.push(r))},_=0;_<x.length;_++)$();return w},checkFormatCorrect:function(e){return e&&(e=e.replace(/^<[\s\S]*>[\s\S]*<\/[\s\S]*>$/g,"")),""==e}}},g=w,x=Object(b["a"])(g,m,p,!1,null,null,null),$=x.exports,_={name:"CmdInfo",props:{value:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},cmds:{type:Array,default:function(){return[]}},deviceTypeList:{type:Array,default:function(){return[]}}},components:{LabelWrap:d["a"],CmdParams:$},data:function(){return{deviceType:1,cmdcode:"",checked:!1,cmdpwd:"",radio:"zh",selectParamType:"any",cmdParams:{cmdname:"",cmddescr:"",params:""}}},computed:{title:function(){return this.isEdit?this.$t("systemManage.editCmd"):this.$t("systemManage.addCmd")}},watch:{value:function(e){0==e?(this.cmdcode="",this.checked=!1,this.cmdpwd="",this.radio="zh",this.newRow=null,this.cmdParams.cmdname="",this.cmdParams.cmddescr="",this.cmdParams.params="",this.$refs.cmdParams.setPreviewObjList(this.cmdParams.params)):0==this.isEdit&&(this.newRow={cmdname:"",cmddescr:"",params:"",cmdnametw:"",cmddescrtw:"",paramstw:"",cmdnameen:"",cmddescren:"",paramsen:"",cmdnamefr:"",cmddescrfr:"",paramsfr:"",cmdnamees:"",cmddescres:"",paramses:"",cmdnamept:"",cmddescrpt:"",paramspt:"",cmdnameru:"",cmddescrru:"",paramsru:"",cmdnameid:"",cmddescrid:"",paramsid:"",cmdnametr:"",cmddescrtr:"",paramstr:"",cmdnamefa:"",cmddescrfa:"",paramsfa:"",cmdnameja:"",cmddescrja:"",paramsja:"",cmdnamevi:"",cmddescrvi:"",paramsvi:""}),this.deviceType=this.$parent.deviceType},radio:function(e){this.newRow&&this.setCmdParams(this.newRow,e)}},methods:{handleClose:function(){this.$emit("input",!1)},copyCmdParams:function(){this.cmdParams.cmdname=this.newRow.cmdnameen,this.cmdParams.cmddescr=this.newRow.cmddescren,this.cmdParams.params=this.newRow.paramsen,this.onInputCmdParams(this.cmdParams),this.$refs.cmdParams.setPreviewObjList(this.cmdParams.params)},onInputCmdParams:function(e){var t=this.newRow,a=this.radio;switch(a){case"zh":t.cmdname=e.cmdname?e.cmdname:"",t.cmddescr=e.cmddescr?e.cmddescr:"",t.params=e.params?e.params:"";break;default:var s="cmdname"+a,l="cmddescr"+a,i="params"+a;t[s]=e.cmdname?e.cmdname:"",t[l]=e.cmddescr?e.cmddescr:"",t[i]=e.params?e.params:"";break}},setCmdParams:function(e,t){var a=this,s=this.cmdParams;switch(t){case"zh":s.cmdname=e.cmdname?e.cmdname:"",s.cmddescr=e.cmddescr?e.cmddescr:"",s.params=e.params?e.params:"";break;default:var l="cmdname"+t,i="cmddescr"+t,c="params"+t;s.cmdname=e[l]?e[l]:"",s.cmddescr=e[i]?e[i]:"",s.params=e[c]?e[c]:"";break}this.$nextTick((function(){a.$refs.cmdParams.setPreviewObjList(s.params)}))},setTypeInfo:function(e){this.deviceType=e.devicetype,this.cmdpwd=e.cmdpwd,this.cmdcode=e.cmdcode,this.selectParamType=e.cmdtype,this.checked=1==e.sync,this.row=e,this.newRow=Object(i["a"])({},e),this.setCmdParams(this.newRow,this.radio)},handleEdit:function(){var e=this,t=this.row,a=this.newRow,s={devicetype:this.deviceType,cmdcode:this.cmdcode,cmdlevel:t.cmdlevel,sync:this.checked?1:0,cmdtype:this.selectParamType,cmdpwd:this.cmdpwd,predictcmdid:t.predictcmdid};Object.assign(a,s),Object(c["w"])(a).then((function(s){var l=s.status;0==l?(Object.assign(t,a),e.handleClose(),e.$XModal.message({message:e.$t("tips.editSucc"),status:"success",zIndex:9999})):e.$XModal.message({message:e.$t("tips.editFail"),status:"error",zIndex:9999})}))},handleAdd:function(){var e=this,t=this.cmdcode;if(""!==t){var a={devicetype:this.deviceType,cmdcode:this.cmdcode,sync:this.checked?1:0,params:this.params,paramsen:this.paramsen,cmdtype:this.selectParamType,cmdpwd:this.cmdpwd};Object.assign(a,this.newRow),console.log("addCmd"),console.log(a),Object(c["a"])(a).then((function(t){var s=t.status,l=t.predictcmdid;0==s?(e.handleClose(),a.cmdlevel=0,a.predictcmdid=l,e.$parent.tableList.push(a),e.$XModal.message({message:e.$t("tips.addSucc"),status:"success",zIndex:9999})):e.$XModal.message({message:e.$t("tips.addFail"),status:"error",zIndex:9999})}))}else this.$XModal.message({message:this.$t("systemManage.selectCmdType"),status:"error",zIndex:9999})}}},S=_,T=Object(b["a"])(S,n,o,!1,null,null,null),C=T.exports,P=a("c276"),M={name:"DeviceCmds",data:function(){return{deviceType:1,copyDeviceType:"",copyCmdcode:"",copyCmdsOption:[],cmds:[],tableList:[],deviceTypes:[],dialog:!1,isEdit:!1}},components:{CmdInfo:C,LabelWrap:d["a"]},computed:Object(i["a"])({},Object(r["b"])(["isQueryInitData","isZh","deviceTypeList"])),watch:{isQueryInitData:function(e){e&&this.init()},deviceType:function(e){var t=this.allCmd[e];this.tableList=t||[]},copyDeviceType:function(e){var t=this.$i18n.locale,a=this.allCmd[e],s=[],l="";a&&a.forEach((function(e,a){0==a&&(l=e.cmdcode);var i="";i="zh"==t?e.cmdname:e["cmdname"+t],s.push({label:i,value:e.cmdcode})})),this.copyCmdcode=l,this.copyCmdsOption=s}},methods:{deviceTypeFilterMethod:P["h"],cellclick:function(e){var t=e.column,a=e.row;"cmdlevel"==t.property?(this.isEdit=!0,this.$refs.xTable.setActiveRow(a)):(this.isEdit=!1,this.$refs.xTable.clearActived())},handleClickRow:function(e){"cmdlevel"!==e.column.property&&this.handleEdit(e)},editClosed:function(e){var t=e.row;this.editCmd(t)},onCopyDirective:function(){var e=this,t=null,a=this;if(""!==this.copyDeviceType&&""!==this.copyCmdcode){if(this.allCmd[this.copyDeviceType].forEach((function(e){e.cmdcode==a.copyCmdcode&&(t=e)})),t){var s=JSON.parse(JSON.stringify(t));s.devicetype=this.deviceType,s.cmdlevel=a.tableList.length+1,Object(c["a"])(s).then((function(t){var l=t.status,i=t.predictcmdid,c=t.cause;0==l?(s.predictcmdid=i,a.tableList||(a.tableList=[]),e.tableList.push(s),e.$XModal.message({message:e.$t("systemManage.copySucc"),status:"success",zIndex:9999})):e.$XModal.message({message:e.$t("systemManage.copyFail")+" : "+c,status:"error",zIndex:9999})}))}}else this.$XModal.message({message:this.$t("systemManage.selectCopyCmd"),status:"error",zIndex:9999})},handleAddCmd:function(){this.isEdit=!1,this.dialog=!0},formatRole:function(e){var t=e.row;return 0==t.sync?this.$t("systemManage.noAsync"):this.$t("systemManage.async")},queryAllCmd:function(){var e=this,t=this.allCmd,a=this.deviceType;Object(c["N"])().then((function(s){var l=s.records;if(l){for(var i in l.forEach((function(e){var a=e.devicetype;void 0==t[a]&&(t[a]=[]),t[a].push(e)})),t){var c=t[i];c.sort((function(e,t){return e.cmdlevel-t.cmdlevel}))}if(t[a]){var r=t[a];e.tableList=r||[]}}}))},listCmdAction:function(){var e=this;Object(c["H"])().then((function(t){var a=t.cmds;a&&(e.cmds=a)}))},editCmd:function(e){var t=this,a=JSON.parse(JSON.stringify(e));Object(c["w"])(a).then((function(e){var a=e.status;0==a?(t.tableList.sort((function(e,t){return e.cmdlevel-t.cmdlevel})),t.$XModal.message({message:t.$t("tips.editSucc"),status:"success",zIndex:9999})):t.$XModal.message({message:t.$t("tips.editSucc"),status:"success",zIndex:9999})}))},handleEdit:function(e){this.isEdit=!0,this.dialog=!0,this.$refs.cmdInfo.setTypeInfo(e.row)},handleDelete:function(e){var t=this,a=e.row,s=e.rowIndex,l={cmdcode:a.cmdcode,devicetype:a.devicetype};Object(c["n"])(l).then((function(e){var a=e.status;0==a?(t.$delete(t.tableList,s),t.$XModal.message({message:t.$t("tips.deleteSucc"),status:"success",zIndex:9999})):t.$XModal.message({message:t.$t("tips.deleteFail"),status:"error",zIndex:9999})}))},init:function(){var e=this;this.$nextTick((function(){e.deviceTypes=e.deviceTypeList,e.allCmd={},e.queryAllCmd(),e.listCmdAction()}))}},mounted:function(){this.isQueryInitData&&this.init()}},L=M,O=(a("bbe6"),Object(b["a"])(L,s,l,!1,null,null,null)),I=O.exports;t["default"]=I},bbe6:function(e,t,a){"use strict";a("0a30")}}]);