(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76742072"],{"0595":function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"quick-time-range"},[t("div",{staticClass:"quick-time-range-wrapper"},e._l(e.list,(function(a){return t("div",{key:a.type,style:{color:a.type==e.type?"#409EFF":""},on:{click:function(t){return e.selectDate(a.type)}}},[e._v(e._s(a.label))])})),0),t("div",{staticClass:"quick-time-range-space"}),t("div",{staticClass:"quick-time-range-btn",on:{click:function(t){e.isCollapse=!e.isCollapse}}},[e.isCollapse?t("i",{staticClass:"el-icon-arrow-right"}):t("i",{staticClass:"el-icon-arrow-left"})])])},i=[],r=a("5101"),s={name:"QuickTimeRange",props:{value:{type:Array,default:function(){return[]}},dateType:{type:String,default:"date"}},watch:{isCollapse:function(){this.setList()}},data:function(){return{isCollapse:!0,type:0,list:[]}},methods:{setList:function(){this.isCollapse?this.list=[{label:this.$t("reportForm.toDay"),type:0},{label:this.$t("reportForm.yesterDay"),type:1},{label:this.$t("reportForm.recent3Days"),type:3}]:this.list=[{label:this.$t("reportForm.recent7Days"),type:7},{label:this.$t("reportForm.recent10Days"),type:10},{label:this.$t("reportForm.recent30Days"),type:30}]},selectDate:function(e){var t="datetimerange"==this.dateType,a=[],n=new Date,i=new Date;switch(t&&(n=new Date(r["a"].format(new Date,"yyyy-MM-dd")+" 00:00:00"),i=new Date(r["a"].format(new Date,"yyyy-MM-dd")+" 23:59:59")),e){case 0:a=[new Date(r["a"].format(n,"yyyy-MM-dd")+" 00:00:00"),new Date(r["a"].format(i,"yyyy-MM-dd")+" 23:59:59")];break;case 1:n.setTime(n.getTime()-864e5),a=[n,i];break;case 3:n.setTime(n.getTime()-2592e5),a=[n,i];break;case 7:n.setTime(n.getTime()-6048e5),a=[n,i];break;case 10:n.setTime(n.getTime()-864e6),a=[n,i];break;case 30:n.setTime(n.getTime()-2592e6),a=[n,i];break}this.type=e,this.$emit("input",a)}},mounted:function(){var e=this;this.$nextTick((function(){e.setList()}))}},o=s,c=(a("c51d"),a("2877")),l=Object(c["a"])(o,n,i,!1,null,null,null);t["a"]=l.exports},"271ae":function(e,t,a){},"2ddc":function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multi-choice",style:e.warpStyle},[t("div",{staticClass:"multi-choice-input"},["daterange"==e.dateType?t("div",[t("el-date-picker",{attrs:{type:e.dateType,"picker-options":e.pickerOptions,"range-separator":"-",align:"center","unlink-panels":"",clearable:!1,"start-placeholder":e.$t("device.driverinitialdate"),"end-placeholder":e.$t("device.drivereffectivedate")},on:{change:e.onChange},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1):e._e(),"date"==e.dateType?t("div",[t("el-date-picker",{attrs:{type:"date","picker-options":e.datePickerOptions},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1):e._e(),"datetimerange"==e.dateType?t("div",{staticClass:"datetimerange"},[t("el-date-picker",{attrs:{type:e.dateType,"range-separator":"-","picker-options":e.pickerOptionsTime,align:"center","unlink-panels":"",clearable:!1,"start-placeholder":e.$t("device.driverinitialdate"),"end-placeholder":e.$t("device.drivereffectivedate"),"default-time":["00:00:00","23:59:59"]},on:{change:e.onChange},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1):e._e(),"month"==e.dateType?t("div",[t("el-date-picker",{attrs:{type:"month"},model:{value:e.month,callback:function(t){e.month=t},expression:"month"}})],1):e._e()])])},i=[],r=(a("99af"),a("5101")),s=a("5867"),o={name:"SelectDate",props:{value:{type:Array|Date,default:function(){return[]}},dateType:{type:String,default:"daterange"},label:{type:String,default:function(){return this.$t("common.selectTime")}}},computed:{isDaterange:function(){return"daterange"==this.dateType},warpStyle:function(){var e=200;switch(this.dateType){case"date":e=120;break;case"daterange":e=230;break;case"datetimerange":e=310;break}return{width:"".concat(e,"px")}}},mixins:[s["a"]],data:function(){var e=864e5;return{dateRange:[],date:new Date,month:new Date,pickerOptions:{shortcuts:[{text:this.$t("reportForm.toDay"),onClick:function(e){var t=new Date;e.$emit("pick",[t,t])}},{text:this.$t("reportForm.yesterDay"),onClick:function(t){var a=new Date;a.setTime(a.getTime()-e),t.$emit("pick",[a,a])}},{text:this.$t("missing.theWeek"),onClick:function(t){var a=new Date,n=new Date,i=a.getDay();a.setTime(a.getTime()-e*(i-1)),n.setTime(a.getTime()+6*e),t.$emit("pick",[a,n])}},{text:this.$t("missing.lastWeek"),onClick:function(t){var a=new Date,n=new Date,i=a.getDay(),r=a.getTime()-e*(i-1);a.setTime(r-7*e),n.setTime(r-e),t.$emit("pick",[a,n])}},{text:this.$t("missing.thisMonth"),onClick:function(e){var t=new Date,a=t.getFullYear(),n=t.getMonth()+1,i=new Date("".concat(a,"-").concat(n,"-01")),r=new Date("".concat(a,"-").concat(n,"-01 00:00:00"));r.setMonth(r.getMonth()+1),r=new Date(r.getTime()-1e3),e.$emit("pick",[i,r])}},{text:this.$t("missing.lastMonth"),onClick:function(e){var t=new Date;t.setMonth(t.getMonth()-1);var a=t.getFullYear(),n=t.getMonth()+1,i=new Date(new Date(a,n,1)-1).getDate(),r=new Date("".concat(a,"-").concat(n,"-01")),s=new Date("".concat(a,"-").concat(n,"-").concat(i));e.$emit("pick",[r,s])}}]},pickerOptionsTime:{shortcuts:[{text:this.$t("reportForm.toDay"),onClick:function(e){var t=new Date(r["a"].format(new Date,"yyyy-MM-dd")+" 00:00:00"),a=new Date(r["a"].format(new Date,"yyyy-MM-dd")+" 23:59:59");e.$emit("pick",[t,a])}},{text:this.$t("reportForm.yesterDay"),onClick:function(t){var a=new Date;a.setTime(a.getTime()-e),t.$emit("pick",[new Date(r["a"].format(a,"yyyy-MM-dd")+" 00:00:00"),new Date(r["a"].format(a,"yyyy-MM-dd")+" 23:59:59")])}},{text:this.$t("missing.theWeek"),onClick:function(t){var a=new Date,n=new Date,i=a.getDay();a.setTime(a.getTime()-e*(i-1)),n.setTime(a.getTime()+6*e),t.$emit("pick",[new Date(r["a"].format(a,"yyyy-MM-dd")+" 00:00:00"),new Date(r["a"].format(n,"yyyy-MM-dd")+" 23:59:59")])}},{text:this.$t("missing.lastWeek"),onClick:function(t){var a=new Date,n=new Date,i=a.getDay(),s=a.getTime()-e*(i-1);a.setTime(s-7*e),n.setTime(s-e),t.$emit("pick",[new Date(r["a"].format(a,"yyyy-MM-dd")+" 00:00:00"),new Date(r["a"].format(n,"yyyy-MM-dd")+" 23:59:59")])}},{text:this.$t("missing.thisMonth"),onClick:function(e){var t=new Date,a=t.getFullYear(),n=t.getMonth()+1,i=new Date("".concat(a,"-").concat(n,"-01")),s=new Date("".concat(a,"-").concat(n,"-01 00:00:00"));s.setMonth(s.getMonth()+1),s=new Date(s.getTime()-1e3),e.$emit("pick",[new Date(r["a"].format(i,"yyyy-MM-dd")+" 00:00:00"),new Date(r["a"].format(s,"yyyy-MM-dd")+" 23:59:59")])}},{text:this.$t("missing.lastMonth"),onClick:function(e){var t=new Date;t.setMonth(t.getMonth()-1);var a=t.getFullYear(),n=t.getMonth()+1,i=new Date(new Date(a,n,1)-1).getDate(),s=new Date("".concat(a,"-").concat(n,"-01")),o=new Date("".concat(a,"-").concat(n,"-").concat(i));e.$emit("pick",[new Date(r["a"].format(s,"yyyy-MM-dd")+" 00:00:00"),new Date(r["a"].format(o,"yyyy-MM-dd")+" 23:59:59")])}}]}}},watch:{dateRange:function(e){null==e?this.$emit("input",[]):this.$emit("input",e)},value:function(e){this.dateRange=e},date:function(e){this.$emit("input",e)},month:function(e){this.$emit("input",e)}},methods:{onChange:function(e){this.$emit("input",e)}},mounted:function(){"date"==this.dateType?this.date=this.value:"month"==this.dateType?this.month=this.value:this.dateRange=this.value}},c=o,l=(a("e716"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,"5dbb8594",null);t["a"]=u.exports},4486:function(e,t,a){"use strict";a("71ea")},"4c3c":function(e,t,a){"use strict";a("4e82");t["a"]={data:function(){return{sortConfig:{sortMethod:function(e){var t=e.data,a=e.sortList,n=a[0],i=n.property,r=n.order,s=[];return s="desc"===r?t.sort((function(e,t){var a=e[i],n=t[i];if(isNaN(a)&&!isNaN(Date.parse(a))&&isNaN(n)&&!isNaN(Date.parse(n)))return Date.parse(n)-Date.parse(a);if(a=parseFloat(a),n=parseFloat(n),isNaN(a)||isNaN(n)){var r=t[i]+"";return r.localeCompare(e[i])}return n-a})):"asc"===r?t.sort((function(e,t){var a=e[i],n=t[i];if(isNaN(a)&&!isNaN(Date.parse(a))&&isNaN(n)&&!isNaN(Date.parse(n)))return Date.parse(a)-Date.parse(n);if(a=parseFloat(e[i]),n=parseFloat(t[i]),isNaN(a)||isNaN(n)){var r=e[i]+"";return r.localeCompare(t[i])}return a-n})):t.sort(),s}}}}}},"57c9":function(e,t,a){"use strict";var n=a("0595");t["a"]=n["a"]},"58d7":function(e,t,a){},"71ea":function(e,t,a){},ab9a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"report-form full"},[t("div",{staticClass:"report-form-inner"},[t("el-scrollbar",{staticStyle:{width:"100%"}},[t("div",{staticClass:"report-form-inner-header",staticStyle:{height:"45px"}},[t("div",{staticClass:"f_left"},[t("SingleChoiceUser",{model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t("div",{staticClass:"f_left",staticStyle:{width:"90px"}},[t("el-select",{staticStyle:{width:"90px"},model:{value:e.queryType,callback:function(t){e.queryType=t},expression:"queryType"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("div",{staticClass:"f_left"},[t("SelectDate",{model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),t("div",{staticClass:"f_left"},[t("QuickTimeRange",{model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),t("div",{staticClass:"f_left"},[t("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleQuery}},[e._v(e._s(e.$t("common.query")))])],1),t("div",{staticClass:"f_left"},[t("el-button",{attrs:{type:"primary",loading:e.exportLoading1},on:{click:e.exportData}},[e._v(e._s(e.$t("common.export")))])],1)])]),t("div",{staticClass:"report-form-inner-content",staticStyle:{top:"49px"}},[t("vxe-table",{attrs:{"menu-config":e.tableMenu,border:"",resizable:"","auto-resize":"","show-overflow":"","highlight-hover-row":"",size:"mini",height:"auto",data:e.totalList},on:{"menu-click":e.handleClickTableMenu}},[t("vxe-table-column",{attrs:{sortable:"",type:"seq",width:"60",title:e.$t("reportForm.index")}}),t("vxe-table-column",{attrs:{sortable:"",field:"username",title:e.$t("reportForm.storeNumber")}}),t("vxe-table-column",{attrs:{sortable:"",field:"companyname",title:e.$t("reportForm.storeName")}}),t("vxe-table-column",{attrs:{sortable:"",field:"cardname",title:e.$t("reportForm.name")}}),t("vxe-table-column",{attrs:{sortable:"",field:"phone",title:e.$t("reportForm.contactPhone")}}),t("vxe-table-column",{attrs:{sortable:"",field:"companyaddr",title:e.$t("reportForm.address")}}),t("vxe-table-column",{attrs:{sortable:"",field:"totalinsurecount",title:e.$t("reportForm.cumulativeRecords")}}),t("vxe-table-column",{attrs:{sortable:"",field:"remaininsurecount",title:e.$t("reportForm.surplus")}}),t("vxe-table-column",{attrs:{sortable:"",field:"agentinsurecount",title:e.$t("reportForm.exFactory")}}),t("vxe-table-column",{attrs:{sortable:"",field:"individualinsurecount",title:e.$t("reportForm.buyOneself")}})],1)],1)],1)])},i=[],r=a("5530"),s=(a("99af"),a("14d9"),a("d3b7"),a("159b"),a("af94")),o=a("d462"),c=a("57c9"),l=a("1c31"),u=a("5101"),d=a("2f62"),p=a("4c3c"),m=a("a05b"),h={name:"insureSaleRecords",data:function(){return{loading:!1,exportLoading1:!1,username:"",queryType:"0",dateRange:[new Date,new Date],options:[],totalList:[]}},components:{SingleChoiceUser:s["a"],SelectDate:o["a"],QuickTimeRange:c["a"]},watch:{dateRange:function(){this.loading||this.handleQuery()}},mixins:[p["a"],m["a"]],computed:Object(r["a"])({},Object(d["b"])(["isZh"])),methods:{handleQuery:function(){var e=this,t=this.username;if(t){var a=this.dateRange,n=u["a"].format(a[0],"yyyy-MM-dd"),i=u["a"].format(a[1],"yyyy-MM-dd"),r={username:t,startday:n,endday:i,offset:u["a"].getOffset()};this.loading=!0,Object(l["P"])(r).then((function(t){var a=t.records;e.loading=!1,e.queryDetailDateRange="".concat(n," ").concat(i);var r=[];a&&("0"==e.queryType?a.forEach((function(e){r.push(e)})):a.forEach((function(e){0==e.agentinsurecount&&0==e.individualinsurecount&&0==e.remaininsurecount||r.push(item)}))),e.totalList=r}))}else this.totalList=[]},exportData:function(){if(this.totalList.length){var e=[[this.$t("reportForm.index"),this.$t("reportForm.storeNumber"),this.$t("reportForm.storeName"),this.$t("reportForm.name"),this.$t("reportForm.contactPhone"),this.$t("reportForm.address"),this.$t("reportForm.cumulativeRecords"),this.$t("reportForm.surplus"),this.$t("reportForm.exFactory"),this.$t("reportForm.buyOneself")]];this.totalList.forEach((function(t,a){var n=[];n.push(++a),n.push(t.username?t.username:""),n.push(t.companyname?t.companyname:""),n.push(t.cardname?t.cardname:""),n.push(t.phone?t.phone:""),n.push(t.companyaddr),n.push(t.totalinsurecount),n.push(t.remaininsurecount),n.push(t.agentinsurecount),n.push(t.individualinsurecount),e.push(n)}));var t={title:this.$t("reportForm.insureSaleRecords"),data:e,dateRange:this.queryDetailDateRange};this.exportLoading1=!0,new ExcelCls(t).exportExcel(this)}}},mounted:function(){var e=this;this.$nextTick((function(){e.options=[{label:e.$t("monitor.all"),value:"0"},{label:e.$t("missing.sold"),value:"1"}]}))}},f=h,y=(a("4486"),a("2877")),v=Object(y["a"])(f,n,i,!1,null,null,null),g=v.exports;t["default"]=g},af94:function(e,t,a){"use strict";var n=a("d575");t["a"]=n["a"]},c51d:function(e,t,a){"use strict";a("ecfc")},c6a1:function(e,t,a){"use strict";a("58d7")},d462:function(e,t,a){"use strict";var n=a("2ddc");t["a"]=n["a"]},d575:function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multi-choice single-choice-user"},[t("div",{staticClass:"multi-choice-label"},[e._v(" "+e._s(e.$t("reportForm.selectUser"))+" ")]),t("div",{staticClass:"multi-choice-input"},[t("ZtreeUserDropdown",{ref:"ztreeDropdown",attrs:{placeholder:e.userPlaceholder,isMounted:e.isMounted},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1)])},i=[],r=a("c7eb"),s=a("1da1"),o=a("5530"),c=a("2f62"),l=a("f514"),u=a("e285"),d={props:{value:{type:String,default:""},isMounted:{type:Boolean,default:!1}},name:"SingleChoiceUser",data:function(){return{username:"",userPlaceholder:this.$t("bgManage.pleaseEnterQueryUser")}},watch:{username:function(e){this.$emit("input",e)},isQueryInitData:function(){if(0==this.isMounted){var e=this.$store.state.user.userName;this.ininZtree(e,this)}}},computed:Object(o["a"])({},Object(c["b"])(["isQueryInitData"])),components:{ZtreeUserDropdown:l["a"]},methods:{ininZtree:function(){var e=Object(s["a"])(Object(r["a"])().mark((function e(t,a){var n,i,s;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["Tb"])(t,null);case 2:n=e.sent,i=n.status,s=n.rootuser,0==i&&a.$refs.ztreeDropdown.ininZtree(s);case 6:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},mounted:function(){var e=this;this.$nextTick((function(){if(e.isQueryInitData&&0==e.isMounted){var t=e.$store.state.user.userName;e.ininZtree(t,e)}}))}},p=d,m=(a("c6a1"),a("2877")),h=Object(m["a"])(p,n,i,!1,null,null,null);t["a"]=h.exports},e716:function(e,t,a){"use strict";a("271ae")},ecfc:function(e,t,a){}}]);