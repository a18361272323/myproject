(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08bcaa14"],{"2dd1":function(e,t,a){},8319:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"access-platform full"},[t("div",{staticClass:"access-platform-header"},[t("div",{staticClass:"f_left",staticStyle:{width:"210px"}},[t("LabelWrap",{attrs:{label:"车辆信息"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-search"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)],1),t("div",{staticClass:"f_left"},[t("el-button",{staticStyle:{width:"90px"},attrs:{type:"primary",loading:e.loading},on:{click:e.handleClickQuery}},[e._v(e._s(e.$t("common.query")))])],1),t("div",{staticClass:"f_right"},[t("el-button",{staticStyle:{width:"90px"},attrs:{type:"success"},on:{click:e.handleClickAdd}},[e._v(e._s(e.$t("common.add")))])],1)]),t("div",{staticClass:"access-platform-content",staticStyle:{top:"39px"}},[t("vxe-table",{attrs:{border:"","auto-resize":"",resizable:"","show-overflow":"",size:"mini",height:"auto",data:e.tableList}},[t("vxe-table-column",{attrs:{title:e.$t("reportForm.action"),width:"75"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{"padding-top":"7px"}},[t("span",{staticStyle:{padding:"0px 10px 0px 0px"}},[t("img",{staticStyle:{width:"20px",cursor:"pointer"},attrs:{src:e.editIcon},on:{click:function(t){return e.handleEdit(a)}}})]),t("el-popconfirm",{attrs:{placement:"top",icon:"el-icon-info","icon-color":"red","confirm-button-text":e.$t("common.confirm"),"cancel-button-text":e.$t("common.cancel"),title:"确定删除吗？"},on:{confirm:function(t){return e.handleDelete(a)}}},[t("span",{attrs:{slot:"reference"},slot:"reference"},[t("img",{staticStyle:{width:"20px",cursor:"pointer"},attrs:{src:e.deleteIcon}})])])],1)]}}])}),t("vxe-table-column",{attrs:{width:"90",field:"deviceid",title:"设备序号"}}),t("vxe-table-column",{attrs:{width:"100",field:"category",title:"企业类别",formatter:e.formatCategory}}),t("vxe-table-column",{attrs:{width:"140",field:"color",title:"颜色",formatter:e.formatColor}}),t("vxe-table-column",{attrs:{width:"140",field:"brand",title:"车辆厂牌"}}),t("vxe-table-column",{attrs:{width:"100",field:"type",title:"车辆类型"}}),t("vxe-table-column",{attrs:{width:"100",field:"model",title:"车辆型号"}}),t("vxe-table-column",{attrs:{width:"140",field:"engineNum",title:"车辆发动机号"}}),t("vxe-table-column",{attrs:{width:"120",field:"registrationDate",title:"行驶注册日期"}}),t("vxe-table-column",{attrs:{width:"100",field:"vim",title:"车辆VIN码"}}),t("vxe-table-column",{attrs:{width:"120",field:"ownerType",title:"车辆所有人类型"}}),t("vxe-table-column",{attrs:{width:"120",field:"ownerName",title:"车辆所有人名称"}}),t("vxe-table-column",{attrs:{width:"160",field:"ownerID",title:"车辆所有人身份证"}}),t("vxe-table-column",{attrs:{width:"120",field:"fuelType",title:"车辆燃料类型",formatter:e.formatRole}}),t("vxe-table-column",{attrs:{width:"120",field:"seatNum",title:"座位数"}}),t("vxe-table-column",{attrs:{width:"120",field:"length",title:"车辆长(毫米)"}}),t("vxe-table-column",{attrs:{width:"120",field:"width",title:"车辆宽(毫米)\t"}}),t("vxe-table-column",{attrs:{width:"100",field:"height",title:"车辆高(毫米)"}}),t("vxe-table-column",{attrs:{width:"100",field:"scope",title:"经营范围"}}),t("vxe-table-column",{attrs:{width:"100",field:"issuDate",title:"核发日期"}}),t("vxe-table-column",{attrs:{width:"100",field:"issuOrganization",title:"核发机关"}})],1)],1),t("el-dialog",{attrs:{title:e.titleDialog,center:"",visible:e.dialog,width:"580px","append-to-body":"","close-on-click-modal":!1},on:{close:function(t){e.dialog=!1}}},[t("div",{staticStyle:{padding:"10px 10px 10px 10px"}},[t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"选择企业"}},[t("el-select",{model:{value:e.enterId,callback:function(t){e.enterId=t},expression:"enterId"}},e._l(e.yongZhouEnters,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"设备序号"}},[t("el-input",{model:{value:e.deviceid,callback:function(t){e.deviceid=t},expression:"deviceid"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"车牌号码"}},[t("el-input",{model:{value:e.plateNum,callback:function(t){e.plateNum=t},expression:"plateNum"}})],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"运输许可证号"}},[t("el-input",{model:{value:e.roadTransportLicense,callback:function(t){e.roadTransportLicense=t},expression:"roadTransportLicense"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"社会信用代码"}},[t("el-input",{model:{value:e.identifier,callback:function(t){e.identifier=t},expression:"identifier"}})],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"车牌颜色"}},[t("el-select",{model:{value:e.color,callback:function(t){e.color=t},expression:"color"}},[t("el-option",{attrs:{label:"蓝色",value:1}}),t("el-option",{attrs:{label:"黄色",value:2}}),t("el-option",{attrs:{label:"黑色",value:3}}),t("el-option",{attrs:{label:"白色",value:4}}),t("el-option",{attrs:{label:"绿色",value:5}}),t("el-option",{attrs:{label:"其他",value:9}})],1)],1)],1)],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"车辆厂牌"}},[t("el-input",{model:{value:e.brand,callback:function(t){e.brand=t},expression:"brand"}})],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"车辆类型"}},[t("el-input",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"车辆型号"}},[t("el-input",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"车辆发动机号"}},[t("el-input",{model:{value:e.engineNum,callback:function(t){e.engineNum=t},expression:"engineNum"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"行驶注册日期"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":e.unicoPickerOptions,type:"date","value-format":"yyyy-MM-dd"},model:{value:e.registrationDate,callback:function(t){e.registrationDate=t},expression:"registrationDate"}})],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"车辆VIN码"}},[t("el-input",{model:{value:e.vim,callback:function(t){e.vim=t},expression:"vim"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"所有人类型"}},[t("el-input",{model:{value:e.ownerType,callback:function(t){e.ownerType=t},expression:"ownerType"}})],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"所有人名称"}},[t("el-input",{model:{value:e.ownerName,callback:function(t){e.ownerName=t},expression:"ownerName"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"身份证号"}},[t("el-input",{model:{value:e.ownerID,callback:function(t){e.ownerID=t},expression:"ownerID"}})],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"经营范围"}},[t("el-input",{model:{value:e.scope,callback:function(t){e.scope=t},expression:"scope"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"座位数"}},[t("el-input",{model:{value:e.seatNum,callback:function(t){e.seatNum=t},expression:"seatNum"}})],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"车辆长(毫米)"}},[t("el-input",{model:{value:e.length,callback:function(t){e.length=e._n(t)},expression:"length"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"车辆宽(毫米)"}},[t("el-input",{model:{value:e.width,callback:function(t){e.width=t},expression:"width"}})],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"车辆高(毫米)"}},[t("el-input",{model:{value:e.height,callback:function(t){e.height=e._n(t)},expression:"height"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"企业类别 "}},[t("el-select",{model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},[t("el-option",{attrs:{label:"巡游出租企业",value:1}}),t("el-option",{attrs:{label:"网约出租企业",value:2}}),t("el-option",{attrs:{label:"其他",value:0}})],1)],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"车辆燃料类型"}},[t("el-select",{model:{value:e.fuelType,callback:function(t){e.fuelType=t},expression:"fuelType"}},e._l(e.fuelTypeList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),t("el-row",{staticClass:"margin_b10",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"核发日期"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":e.unicoPickerOptions,type:"date","value-format":"yyyy-MM-dd"},model:{value:e.issuDate,callback:function(t){e.issuDate=t},expression:"issuDate"}})],1)],1),t("el-col",{attrs:{span:12}},[t("LabelWrap",{attrs:{label:"核发机关"}},[t("el-input",{model:{value:e.issuOrganization,callback:function(t){e.issuOrganization=t},expression:"issuOrganization"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10"},[e.isEdit?t("el-col",{attrs:{span:8,offset:8}},[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.onClickEdit}},[e._v(e._s(e.$t("common.determine")))])],1):t("el-col",{attrs:{span:8,offset:8}},[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.onClickAdd}},[e._v(e._s(e.$t("common.determine")))])],1)],1)],1)])],1)},l=[],s=a("5530"),r=(a("14d9"),a("d3b7"),a("159b"),a("2f62")),n=a("e285"),o=a("201d"),c=a("5101"),u=a("5867"),d=a("61fc"),p=a("e173"),h={name:"yongZhouVehicle",data:function(){return{editIcon:d,deleteIcon:p,isEdit:!1,loading:!1,searchText:"",tableList:[],yongZhouEnters:[],dialog:!1,enterId:"",deviceid:"",plateNum:"",roadTransportLicense:"",identifier:"",category:1,color:1,brand:"",type:"",model:"",engineNum:"",registrationDate:c["a"].format(new Date,"yyyy-MM-dd"),vim:"",ownerType:"",ownerName:"",ownerID:"",seatNum:"",length:"",width:"",height:"",scope:"",issuOrganization:"",issuDate:c["a"].format(new Date,"yyyy-MM-dd"),fuelType:"A",fuelTypeList:[{label:"汽油",value:"A"},{label:"柴油",value:"B"},{label:"电",value:"C"},{label:"混合油",value:"D"},{label:"天然气",value:"E"},{label:"液化石油气",value:"F"},{label:"甲醇",value:"L"},{label:"乙醇",value:"M"},{label:"太阳能",value:"N"},{label:"混合动力",value:"O"},{label:"无",value:"Y"},{label:"其他",value:"Z"}]}},mixins:[u["a"]],components:{LabelWrap:o["a"]},computed:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["userName","isQueryInitData"])),{},{titleDialog:function(){return this.isEdit?"编辑车辆信息":"新增车辆信息"}}),watch:{isQueryInitData:function(e){e&&this.queryRecords()}},methods:{formatCategory:function(e){var t=e.row.category,a="";switch(t){case 1:a="巡游出租企业";break;case 2:a="网约出租企业";break;case 3:a="其他";break;default:break}return a},formatColor:function(e){var t=e.row.color,a="";switch(t){case 1:a="蓝色";break;case 2:a="黄色";break;case 3:a="黑色";break;case 4:a="白色";break;case 5:a="绿色";break;case 9:a="其他";break;default:a="其他";break}return a},onClickEdit:function(){var e=this,t={enterId:this.enterId,deviceid:this.deviceid,plateNum:this.plateNum,roadTransportLicense:this.roadTransportLicense,identifier:this.identifier,category:this.category,color:this.color,brand:this.brand,type:this.type,model:this.model,engineNum:this.engineNum,registrationDate:this.registrationDate,vim:this.vim,ownerType:this.ownerType,ownerName:this.ownerName,ownerID:this.ownerID,seatNum:this.seatNum,length:this.length,width:this.width,height:this.height,scope:this.scope,issuOrganization:this.issuOrganization,issuDate:this.issuDate,vehicleId:this.row.vehicleId,creater:this.userName};Object(n["Y"])(t).then((function(a){var i=a.status,l=a.cause;if(0==i){for(var s in t)e.row[s]=t[s];e.$XModal.message({message:e.$t("tips.editSucc"),status:"success",zIndex:9999}),e.dialog=!1}else e.$XModal.message({message:e.$t("tips.editFail")+": "+l,status:"error",zIndex:9999})}))},onClickAdd:function(){var e=this,t={enterId:this.enterId,deviceid:this.deviceid,plateNum:this.plateNum,roadTransportLicense:this.roadTransportLicense,identifier:this.identifier,category:this.category,color:this.color,brand:this.brand,type:this.type,model:this.model,engineNum:this.engineNum,registrationDate:this.registrationDate,vim:this.vim,ownerType:this.ownerType,ownerName:this.ownerName,ownerID:this.ownerID,seatNum:this.seatNum,length:this.length,width:this.width,height:this.height,scope:this.scope,issuOrganization:this.issuOrganization,issuDate:this.issuDate,creater:this.userName};Object(n["v"])(t).then((function(t){0==t.status?(e.tableList.push(t),e.$XModal.message({message:e.$t("tips.addSucc"),status:"success",zIndex:9999})):e.$XModal.message({message:e.$t("tips.addFail")+": "+t.cause,status:"error",zIndex:9999})}))},handleClickAdd:function(){this.isEdit=!1,this.row=null,this.dialog=!0,this.enterId="",this.deviceid="",this.plateNum="",this.roadTransportLicense="",this.identifier="",this.category=1,this.color=1,this.brand="",this.type="",this.model="",this.engineNum="",this.registrationDate=c["a"].format(new Date,"yyyy-MM-dd"),this.vim="",this.ownerType="",this.ownerName="",this.ownerID="",this.seatNum="",this.length="",this.width="",this.height="",this.scope="",this.issuOrganization="",this.issuDate=c["a"].format(new Date,"yyyy-MM-dd")},handleEdit:function(e){var t=e.row;this.isEdit=!0,this.dialog=!0,this.row=t,this.enterId=t.enterId,this.deviceid=t.deviceid,this.plateNum=t.plateNum,this.roadTransportLicense=t.roadTransportLicense,this.identifier=t.identifier,this.category=t.category,this.color=t.color,this.brand=t.brand,this.type=t.type,this.model=t.model,this.engineNum=t.engineNum,this.registrationDate=c["a"].format(new Date(t.registrationDate),"yyyy-MM-dd"),this.vim=t.vim,this.ownerType=t.ownerType,this.ownerName=t.ownerName,this.ownerID=t.ownerID,this.seatNum=t.seatNum,this.length=t.length,this.width=t.width,this.height=t.height,this.scope=t.scope,this.issuOrganization=t.issuOrganization,this.issuDate=c["a"].format(new Date(t.issuDate),"yyyy-MM-dd")},handleDelete:function(e){var t=this,a=e.rowIndex,i={vehicles:[e.row.vehicleId]};Object(n["L"])(i).then((function(e){var i=e.status;0==i?(t.$XModal.message({message:t.$t("tips.deleteSucc"),status:"success",zIndex:9999}),t.$delete(t.tableList,a)):t.$XModal.message({message:t.$t("tips.deleteFail"),status:"success",zIndex:9999})}))},queryRecords:function(){var e=this,t={creater:this.userName,keyword:""};Object(n["Wb"])(t).then((function(t){var a=t.enters,i=[];a&&a.forEach((function(e){i.push({label:e.enterName,value:e.enterId})})),e.yongZhouEnters=i})),this.loading=!0,Object(n["Xb"])(t).then((function(t){var a=t.vehicles;e.loading=!1,a&&(e.tableList=a)}))},handleClickQuery:function(){var e=this;this.loading=!0;var t={creater:this.userName,keyword:this.searchText};Object(n["Xb"])(t).then((function(t){var a=t.vehicles;e.loading=!1,a&&(e.tableList=a)}))},formatRole:function(e){var t=e.row.fuelType,a="";switch(t){case"A":a="汽油";break;case"B":a="柴油";break;case"C":a="电";break;case"D":a="混合油";break;case"E":a="天然气";break;case"F":a="液化石油气";break;case"L":a="甲醇";break;case"M":a="乙醇";break;case"N":a="太阳能";break;case"O":a="混合动力";break;case"Y":a="无";break;case"Z":a="其他";break;default:break}return a}},mounted:function(){var e=this;this.$nextTick((function(){e.isQueryInitData&&e.queryRecords()}))}},b=h,m=(a("b793"),a("2877")),f=Object(m["a"])(b,i,l,!1,null,null,null),v=f.exports;t["default"]=v},b793:function(e,t,a){"use strict";a("2dd1")}}]);