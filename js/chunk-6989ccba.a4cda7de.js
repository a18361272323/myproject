(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6989ccba"],{"50ec":function(e,t,a){},"54f2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"device-types full"},[t("div",{staticClass:"btns"},[t("div",{staticClass:"float_left"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleClickAdd}},[e._v(e._s(e.$t("systemManage.addsimprovider")))])],1),t("div",{staticClass:"float_left"},[t("LabelWrap",{attrs:{label:e.$t("common.search")}},[t("el-input",{attrs:{type:"text",clearable:""},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)],1),t("div",[t("el-button",{attrs:{type:"primary"},on:{click:e.handleClickSearch}},[e._v(e._s(e.$t("common.search")))])],1)]),t("div",{staticClass:"device-types-table"},[t("vxe-table",{attrs:{border:"",resizable:"","show-overflow":"","highlight-current-row":"","highlight-hover-row":"",size:"mini",height:"auto",data:e.tableList},on:{"cell-dblclick":e.handleEdit}},[t("vxe-table-column",{attrs:{field:"level",title:e.$t("activeSafety.alarmLevel"),width:"70",sortable:""}}),t("vxe-table-column",{attrs:{field:"simprovidercode",title:e.$t("systemManage.simprovidercode"),sortable:""}}),t("vxe-table-column",{attrs:{field:"simprovidername",title:e.$t("systemManage.simprovidername"),sortable:""}}),t("vxe-table-column",{attrs:{field:"isUsed",title:e.$t("systemManage.isUsed"),width:"80",sortable:""}}),t("vxe-table-column",{attrs:{field:"accessurl",title:e.$t("systemManage.accessurl"),sortable:""}}),t("vxe-table-column",{attrs:{field:"updatetimeStr",title:e.$t("reportForm.updatetimeStr"),sortable:""}}),t("vxe-table-column",{attrs:{field:"remark",title:e.$t("reportForm.remarks"),sortable:""}}),t("vxe-table-column",{attrs:{title:e.$t("reportForm.action"),width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{"padding-top":"7px"}},[t("span",{staticStyle:{padding:"0px 10px 0px 0px"}},[t("img",{staticStyle:{width:"20px",cursor:"pointer"},attrs:{src:e.editIcon},on:{click:function(t){return e.handleEdit(a)}}})]),t("el-popconfirm",{attrs:{placement:"top",icon:"el-icon-info","icon-color":"red","confirm-button-text":e.$t("common.confirm"),"cancel-button-text":e.$t("common.cancel"),title:"确定删除吗？"},on:{confirm:function(t){return e.handleDelete(a)}}},[t("span",{attrs:{slot:"reference"},slot:"reference"},[t("img",{staticStyle:{width:"20px",cursor:"pointer"},attrs:{src:e.deleteIcon}})])])],1)]}}])})],1)],1),t("AddSimProvider",{ref:"packageDialog",attrs:{isEdit:e.isEdit},on:{onAction:e.handleAction},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}})],1)},i=[],r=a("5530"),l=(a("c975"),a("14d9"),a("4e82"),a("d3b7"),a("498a"),a("159b"),a("201d")),n=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.title,visible:e.value,center:"",width:"480px","close-on-click-modal":!1,"append-to-body":""},on:{close:e.handleClose}},[t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:24}},[t("LabelWrap",{attrs:{label:e.$t("activeSafety.alarmLevel"),labelWidth:"120px"}},[t("el-input",{model:{value:e.level,callback:function(t){e.level=e._n("string"===typeof t?t.trim():t)},expression:"level"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:24}},[t("LabelWrap",{attrs:{label:e.$t("systemManage.simprovidercode"),labelWidth:"120px"}},[t("el-input",{attrs:{disabled:e.isEdit},model:{value:e.simprovidercode,callback:function(t){e.simprovidercode="string"===typeof t?t.trim():t},expression:"simprovidercode"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:24}},[t("LabelWrap",{attrs:{label:e.$t("systemManage.simprovidername"),labelWidth:"120px"}},[t("el-input",{model:{value:e.simprovidername,callback:function(t){e.simprovidername="string"===typeof t?t.trim():t},expression:"simprovidername"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:24}},[t("LabelWrap",{attrs:{label:e.$t("systemManage.isUsed"),labelWidth:"120px"}},[t("div",{staticStyle:{padding:"5px 0px 0px 18px"}},[t("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1)])],1)],1),t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:24}},[t("LabelWrap",{attrs:{label:e.$t("systemManage.queryUrl"),labelWidth:"120px"}},[t("el-input",{model:{value:e.queryurl,callback:function(t){e.queryurl="string"===typeof t?t.trim():t},expression:"queryurl"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:24}},[t("LabelWrap",{attrs:{label:e.$t("systemManage.accessUrl"),labelWidth:"120px"}},[t("el-input",{model:{value:e.accessurl,callback:function(t){e.accessurl="string"===typeof t?t.trim():t},expression:"accessurl"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:24}},[t("LabelWrap",{attrs:{label:e.$t("systemManage.unifiedNumber"),labelWidth:"120px"}},[t("el-input",{model:{value:e.number,callback:function(t){e.number="string"===typeof t?t.trim():t},expression:"number"}})],1)],1)],1),t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"waper-remarks"},[t("div",{staticClass:"waper-remarks-label",domProps:{textContent:e._s(e.$t("reportForm.remarks"))}}),t("div",{staticClass:"waper-remarks-value"},[t("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.remark,callback:function(t){e.remark="string"===typeof t?t.trim():t},expression:"remark"}})],1)])])],1),t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"waper-remarks"},[t("div",{staticClass:"waper-remarks-label",staticStyle:{padding:"6px 0px"}},[e._v(e._s(e.$t("systemManage.queryUrl")))]),t("div",{staticClass:"waper-remarks-value",staticStyle:{padding:"6px 10px"}},[t("a",{attrs:{href:e.qeuryUrl,target:"_blank"}},[e._v(e._s(e.qeuryUrl))])])])])],1),t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"waper-remarks"},[t("div",{staticClass:"waper-remarks-label",staticStyle:{padding:"6px 0px"}},[e._v(e._s(e.$t("systemManage.accessUrl")))]),t("div",{staticClass:"waper-remarks-value",staticStyle:{padding:"6px 10px"}},[t("a",{attrs:{href:e.fullUrl,target:"_blank"}},[e._v(e._s(e.fullUrl))])])])])],1),e.isEdit?t("el-row",{staticStyle:{"margin-top":"20px"}},[t("el-col",{attrs:{span:8,offset:8}},[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},on:{click:e.handleEdit}},[e._v(e._s(e.$t("common.determine")))])],1)],1):t("el-row",{staticStyle:{"margin-top":"20px"}},[t("el-col",{attrs:{span:8,offset:8}},[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},on:{click:e.handleAdd}},[e._v(e._s(e.$t("common.determine")))])],1)],1)],1)},o=[],c=(a("a9e3"),a("ac1f"),a("5319"),a("b562")),d={name:"AddSimProvider",props:{value:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1}},computed:{title:function(){return this.isEdit?this.$t("systemManage.editsimprovider"):this.$t("systemManage.addsimprovider")},fullUrl:function(){var e=this.number,t=this.accessurl.replace("{number}",e);return t+"&language="+this.$i18n.locale},qeuryUrl:function(){var e=this.number,t=this.queryurl.replace("{number}",e);return t}},components:{LabelWrap:l["a"]},data:function(){return{loading:!1,simprovidername:"",simprovidercode:"",accessurl:"",queryurl:"",number:"",remark:"",level:"",checked:!1}},watch:{value:function(e){e&&0==this.isEdit&&(this.simprovidername="",this.simprovidercode="",this.accessurl="",this.remark="",this.number="",this.queryurl="",this.level="")}},methods:{handleClose:function(){this.$emit("input",!1)},handleAdd:function(){var e=this,t={simprovidername:this.simprovidername,simprovidercode:this.simprovidercode,accessurl:this.accessurl,queryurl:this.queryurl,remark:this.remark,number:this.number,enabled:this.checked?1:0,level:Number(this.level)};this.loading=!0,Object(c["g"])(t).then((function(t){var a=t.status,s=t.simprovider;e.loading=!1,0==a?(e.$emit("onAction",s),e.$XModal.message({message:e.$t("tips.addSucc"),status:"success",zIndex:9999})):e.$XModal.message({message:e.$t("tips.addFail"),status:"error",zIndex:9999})}))},setRowInfo:function(e){var t=e.row;this.row=t,this.simprovidername=t.simprovidername,this.simprovidercode=t.simprovidercode,this.accessurl=t.accessurl,this.queryurl=t.queryurl,this.remark=t.remark,this.number=t.number,this.level=Number(t.level),this.checked=1==t.enabled},handleEdit:function(){var e=this,t={simprovidername:this.simprovidername,simprovidercode:this.simprovidercode,accessurl:this.accessurl,queryurl:this.queryurl,remark:this.remark,number:this.number,level:Number(this.level),enabled:this.checked?1:0};this.loading=!0,Object(c["D"])(t).then((function(t){var a=t.status,s=t.simprovider;e.loading=!1,0==a?(e.$emit("onAction",s),e.$XModal.message({message:e.$t("tips.editSucc"),status:"success",zIndex:9999})):e.$XModal.message({message:e.$t("tips.editFail"),status:"error",zIndex:9999})}))}}},m=d,u=(a("87ec"),a("2877")),p=Object(u["a"])(m,n,o,!1,null,null,null),h=p.exports,v=a("2f62"),b=a("5101"),f=a("61fc"),g=a("e173"),y={name:"Packages",data:function(){return{editIcon:f,deleteIcon:g,searchText:"",tableList:[],dialog:!1,isEdit:!1}},computed:Object(r["a"])({},Object(v["b"])(["isZh"])),components:{LabelWrap:l["a"],AddSimProvider:h},methods:{handleAction:function(e){e.updatetimeStr=b["a"].longToLocalDateTimeStr(e.updatetime),e.isUsed=1==e.enabled?this.$t("header.yes"):this.$t("header.no"),this.isEdit?(this.tableList.forEach((function(t){e.simprovidercode==t.simprovidercode&&Object.assign(t,e)})),this.cacehList.forEach((function(t){e.simprovidercode==t.simprovidercode&&Object.assign(t,e)}))):(this.tableList.push(Object(r["a"])({},e)),this.cacehList.push(Object(r["a"])({},e))),this.tableList.sort((function(e,t){return e.level-t.level})),this.cacehList.sort((function(e,t){return e.level-t.level})),this.dialog=!1},handleEdit:function(e){this.$refs.packageDialog.setRowInfo(e),this.isEdit=!0,this.dialog=!0},handleDelete:function(e){var t=this,a=e.rowIndex,s=e.row;Object(c["u"])(Object(r["a"])({},s)).then((function(e){var i=e.status;if(0==i){t.$delete(t.tableList,a);var r=[];t.cacehList.forEach((function(e){e.simprovidercode!=s.simprovidercode&&r.push(e)})),t.cacehList=r,t.$XModal.message({message:t.$t("tips.deleteSucc"),status:"success",zIndex:9999})}else t.$XModal.message({message:t.$t("tips.deleteFail"),status:"error",zIndex:9999})}))},handleClickAdd:function(){this.isEdit=!1,this.dialog=!0},handleClickSearch:function(){var e=this.searchText.trim();e=e.toLocaleLowerCase();var t=[];this.cacehList.forEach((function(a){var s=a.packagename?a.packagename:"",i=a.packagenameen?a.packagenameen:"",r=a.remark?a.remark:"",l=a.remarken?a.remarken:"";s=s.toLocaleLowerCase(),i=i.toLocaleLowerCase(),r=r.toLocaleLowerCase(),l=l.toLocaleLowerCase(),-1==s.indexOf(e)&&-1==i.indexOf(e)&&-1==r.indexOf(e)&&-1==l.indexOf(e)||t.push(a)})),this.tableList=t},querySimProviders:function(){var e=this;Object(c["Z"])().then((function(t){var a=t.status,s=t.simproviders,i=[],l=[];0==a&&null!=s&&(s.sort((function(e,t){return e.level-t.level})),s.forEach((function(t){t.updatetimeStr=b["a"].longToLocalDateTimeStr(t.updatetime),t.isUsed=1==t.enabled?e.$t("header.yes"):e.$t("header.no"),i.push(Object(r["a"])({},t)),l.push(Object(r["a"])({},t))}))),e.cacehList=i,e.tableList=l}))}},mounted:function(){var e=this;this.cacehList=[],this.$nextTick((function(){e.querySimProviders()}))}},x=y,k=(a("716c"),Object(u["a"])(x,s,i,!1,null,null,null)),w=k.exports;t["default"]=w},"6fbc":function(e,t,a){},"716c":function(e,t,a){"use strict";a("6fbc")},"87ec":function(e,t,a){"use strict";a("50ec")}}]);