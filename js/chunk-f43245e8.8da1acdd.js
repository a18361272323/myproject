(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f43245e8"],{"6ca7":function(t,e,i){"use strict";i.r(e);i("b0c0");var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"report full"},[e("split-pane",{staticStyle:{height:"100%"},attrs:{horizontalModeShowLeft:t.horizontalModeShowLeft,mode:"horizontal",min:"200",max:"600"},on:{"on-resize":t.onResize,"on-resizing-end":t.handleMoving},model:{value:t.offsetVertical,callback:function(e){t.offsetVertical=e},expression:"offsetVertical"}},[e("div",{staticClass:"report-left",attrs:{slot:"left"},slot:"left"},[e("div",{staticClass:"report-left-search"},[e("div",{staticClass:"report-left-search-input"},[e("el-input",{staticStyle:{width:"100%"},attrs:{"prefix-icon":"el-icon-search",placeholder:t.$t("common.pleaseEnterFeatureName"),clearable:""},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1),e("div",{staticClass:"report-left-search-popup"},[e("NavView",{attrs:{navList:t.navList,height:"435px"},on:{select:t.onSelect}})],1)]),e("div",{staticClass:"report-left-tab"},[e("div",{class:["all"==t.tabActive?"tab_active":""],on:{click:function(e){t.tabActive="all"}}},[t._v(t._s(t.$t("monitor.all"))+"("+t._s(t.allCount)+")")]),e("div",{class:["stared"==t.tabActive?"tab_active":""],on:{click:function(e){t.tabActive="stared"}}},[t._v(t._s(t.$t("monitor.stared"))+"("+t._s(t.likeList.length)+")")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:"all"==t.tabActive,expression:"tabActive == 'all'"}],staticClass:"report-left-menu"},[e("div",[e("el-menu",{attrs:{"default-active":t.defaultActive,"background-color":"#ffffff","text-color":"#000","active-text-color":"#2681FF","collapse-transition":t.transition,"unique-opened":t.uniqueOpened,"default-openeds":t.defaultOpeneds},on:{select:t.onSelect}},[t._l(t.navList,(function(i){return[e("el-submenu",{key:i.key,attrs:{index:i.key}},[e("template",{slot:"title"},[e("span",{class:["icon",i.iconClass]}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(i.title)+" "),e("span",{staticStyle:{"font-size":"12px"}},[t._v(" ("+t._s(i.children.length)+")")])])]),t._l(i.children,(function(i){return e("el-menu-item",{key:i.key,attrs:{index:i.key}},[e("template",{slot:"title"},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(i.title))]),e("div",{staticClass:"from-like"},[e("div",{class:[1==i.stared?"form-like-icon":"form-like-def-icon"],attrs:{routeName:i.key},on:{click:t.onClickLike}})])])],2)}))],2)]}))],2)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:"stared"==t.tabActive,expression:"tabActive == 'stared'"}],staticClass:"report-left-menu"},[e("div",[e("el-menu",{attrs:{"default-active":t.defaultActive,"background-color":"#ffffff","text-color":"#000","active-text-color":"#2681FF"},on:{select:t.onSelect}},[t._l(t.likeList,(function(i){return[e("el-menu-item",{key:i.key,attrs:{index:i.key}},[e("template",{slot:"title"},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(i.title))]),e("div",{staticClass:"from-like",staticStyle:{"padding-top":"20px"}},[e("div",{class:[1==i.stared?"form-like-icon":"form-like-def-icon"],attrs:{routeName:i.key},on:{click:t.onClickLike}})])])],2)]}))],2)],1)])]),e("div",{staticClass:"report-content",attrs:{slot:"right"},slot:"right"},[e("div",{staticClass:"report-content-nav"},[e("NavTag",{attrs:{prefix:"bgManage",defaultActive:t.defaultActive,type:"mgrrecent"},on:{select:t.onSelect},model:{value:t.manageTagList,callback:function(e){t.manageTagList=e},expression:"manageTagList"}})],1),e("div",{staticClass:"report-content-view mytable-scrollbar"},[e("div",{staticClass:"bg-manage-view"},[e("div",{staticClass:"bg-manage-view-inner"},["bgManage"==t.$route.name?e("div",{staticClass:"full"},[e("div",{staticClass:"default-background"},[e("div"),e("p",[e("span",{staticStyle:{"margin-left":"30px"}},[t._v(t._s(t.$t("missing.pleaseSelectCategory")))])])])]):e("router-view",{ref:"routerView"})],1)])])])])],1)},s=[],n=i("5530"),l=(i("4de4"),i("caad"),i("c975"),i("14d9"),i("b64b"),i("d3b7"),i("07ac"),i("2532"),i("159b"),i("4795"),i("6e52")),c=i("632c"),o=i("243a"),r=i("adb3"),u=i("7cc3"),f=i("1c31"),d=i("2f62"),h={name:"BgManage",data:function(){return{tabActive:"all",searchText:"",offsetVertical:"300px",defaultActive:"",allCount:0,navList:[],likeList:[],defaultOpeneds:[],uniqueOpened:!0,horizontalModeShowLeft:!0,transition:!1}},components:{SplitPane:c["a"],NavView:o["a"],NavTag:r["a"]},computed:Object(n["a"])(Object(n["a"])({},Object(d["b"])(["isQueryInitData","manageDefaultRouter","manageTagList","permissionList"])),{},{userType:function(){return this.$store.state.user.userType}}),mounted:function(){null!==this.manageDefaultRouter&&this.onSelect(this.manageDefaultRouter),this.cacheNavList=[],this.isQueryInitData&&this.init()},watch:{isQueryInitData:function(t){t&&(this.defaultActive=this.$route.name,this.init())},$route:function(t){this.defaultActive=t.name},searchText:function(t){if(t=t.toLowerCase(),"all"==this.tabActive)if(""==t)this.defaultOpeneds=[],this.uniqueOpened=!0,this.navList=this.cacheNavList;else{var e=[],i={};this.uniqueOpened=!1,this.cacheNavList.forEach((function(a){if(a.title.toLowerCase().indexOf(t)>-1)i[a.key]=a.key,e.push(Object(n["a"])({},a));else{var s=[];a.children.forEach((function(e){e.title.toLowerCase().indexOf(t)>-1&&s.push(Object(n["a"])({},e))}));var l=Object(n["a"])({},a);i[l.key]=l.key,l.children=s,s.length>0&&e.push(l)}})),this.navList=e,this.defaultOpeneds=Object.keys(i)}else if(""==t)this.likeList=this.cacheLikeList;else{var a=[];this.cacheLikeList.forEach((function(e){e.title.toLowerCase().indexOf(t)>-1&&a.push(Object(n["a"])({},e))})),this.likeList=a}}},methods:Object(n["a"])(Object(n["a"])({},Object(d["c"])(["setManageDefaultRouter","setManageTagList"])),{},{init:function(){var t=this.getNavList(u["a"]),e=t.allCount,i=t.navList;this.navList=i,this.allCount=e,this.likeList=this.getLikeList(),this.cacheNavList=i,this.cacheLikeList=this.likeList},onResize:function(t){var e=this;this.horizontalModeShowLeft=t,setTimeout((function(){try{e.$refs.routerView.resize&&e.$refs.routerView.resize()}catch(t){console.log(t)}}),300)},handleMoving:function(){this.onResize()},onClickLike:function(t){var e=this;t.stopPropagation();var i=t.target,a=i.getAttribute("routeName"),s=null,n=null;this.navList.forEach((function(t,e){t.children.forEach((function(t){t.key==a&&(s=t,n=e)}))}));var c=1==s.stared,o={subaction:c?"remove":"add",favoritename:s.key,type:"mgrstared"};Object(f["y"])(o).then((function(t){var i=t.status;0==i&&(s.stared=c?0:1,e.cacheNavList[n].stared=c?0:1,l["a"].staredMgrs[s.key]=c?0:1,e.likeList=e.getLikeList(),e.cacheLikeList=e.likeList)}))},onSelect:function(t){if(t!=this.defaultActive&&(this.$router.push("/bgManage/".concat(t)),this.setManageDefaultRouter(t),0==this.manageTagList.includes(t))){var e={subaction:"add",favoritename:t,type:"mgrrecent"};Object(f["y"])(e),this.manageTagList.push(t)}},getNavList:function(t){var e=this,i=(this.userType,this.permissionList),a={},s=0,n=l["a"].staredMgrs;return t.forEach((function(t,l){var c=t.path,o=t.meta,r=o.isChildren,u=o.titleI18n,f=o.parentI18n,d=o.permissionKey;if(r){if(void 0==a[f]&&(a[f]={title:e.$t("bgManage.".concat(f)),key:f,children:[],iconClass:"".concat(f,"_icon")}),-1==i.indexOf(d))return;a[f].children.push({title:e.$t("bgManage.".concat(u)),key:c,stared:void 0==n[c]?0:n[c]}),s++}else a[c]={title:e.$t("bgManage.".concat(u)),key:c}})),{allCount:s,navList:Object.values(a).filter((function(t){return t.children.length>0}))}},getLikeList:function(){var t=[];return this.navList.forEach((function(e,i){e.children.forEach((function(e){1==e.stared&&t.push(Object(n["a"])({},e))}))})),t}})},v=h,p=(i("99fa"),i("2877")),g=Object(p["a"])(v,a,s,!1,null,null,null),m=g.exports;e["default"]=m},"99fa":function(t,e,i){"use strict";i("d00e")},d00e:function(t,e,i){}}]);