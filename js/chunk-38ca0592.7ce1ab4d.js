(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38ca0592"],{"644d":function(t,e,i){"use strict";i("fc9b")},"6b86":function(t,e,i){"use strict";i.r(e);i("b0c0");var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"access-platform full"},[e("div",{staticClass:"access-platform-header"},[e("div",{staticClass:"f_left",staticStyle:{width:"210px"}},[e("LabelWrap",{attrs:{label:"驾驶员信息"}},[e("el-input",{attrs:{"prefix-icon":"el-icon-search"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1)],1),e("div",{staticClass:"f_left"},[e("el-button",{staticStyle:{width:"90px"},attrs:{type:"primary",loading:t.loading},on:{click:t.handleClickQuery}},[t._v(t._s(t.$t("common.query")))])],1),e("div",{staticClass:"f_right"},[e("el-button",{staticStyle:{width:"90px"},attrs:{type:"success"},on:{click:t.handleClickAdd}},[t._v(t._s(t.$t("common.add")))])],1)]),e("div",{staticClass:"access-platform-content",staticStyle:{top:"39px"}},[e("vxe-table",{attrs:{border:"","auto-resize":"",resizable:"","show-overflow":"",size:"mini",height:"auto",data:t.tableList}},[e("vxe-table-column",{attrs:{title:t.$t("reportForm.action"),width:"75"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticStyle:{"padding-top":"7px"}},[e("span",{staticStyle:{padding:"0px 10px 0px 0px"}},[e("img",{staticStyle:{width:"20px",cursor:"pointer"},attrs:{src:t.editIcon},on:{click:function(e){return t.handleEdit(i)}}})]),e("el-popconfirm",{attrs:{placement:"top",icon:"el-icon-info","icon-color":"red","confirm-button-text":t.$t("common.confirm"),"cancel-button-text":t.$t("common.cancel"),title:"确定删除吗？"},on:{confirm:function(e){return t.handleDelete(i)}}},[e("span",{attrs:{slot:"reference"},slot:"reference"},[e("img",{staticStyle:{width:"20px",cursor:"pointer"},attrs:{src:t.deleteIcon}})])])],1)]}}])}),e("vxe-table-column",{attrs:{width:"90",field:"name",title:"姓名"}}),e("vxe-table-column",{attrs:{width:"100",field:"sex",title:"性别",formatter:t.formatRole}}),e("vxe-table-column",{attrs:{width:"100",field:"nationality",title:"国籍"}}),e("vxe-table-column",{attrs:{width:"140",field:"address",title:"地址"}}),e("vxe-table-column",{attrs:{width:"100",field:"phone",title:"电话"}}),e("vxe-table-column",{attrs:{width:"100",field:"idNumber",title:"身份证"}}),e("vxe-table-column",{attrs:{width:"100",field:"certificateType",title:"从业资格证类别"}}),e("vxe-table-column",{attrs:{width:"100",field:"certificateNum",title:"从业资格证号码"}}),e("vxe-table-column",{attrs:{width:"100",field:"driverType",title:"准驾车型"}}),e("vxe-table-column",{attrs:{width:"160",field:"initialDate",title:"资格证初始领证日期"}}),e("vxe-table-column",{attrs:{width:"160",field:"effectiveDate",title:"资格证有效起始日期"}}),e("vxe-table-column",{attrs:{width:"160",field:"issuOrganization",title:"核发机关"}}),e("vxe-table-column",{attrs:{width:"160",field:"relateVehicleNum",title:"驾驶车辆车牌号码"}})],1)],1),e("el-dialog",{attrs:{title:t.titleDialog,center:"",visible:t.dialog,width:"560px","append-to-body":"","close-on-click-modal":!1},on:{close:function(e){t.dialog=!1}}},[e("div",{staticStyle:{padding:"10px"}},[e("el-row",{staticClass:"margin_b12",attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("LabelWrap",{attrs:{label:"姓名"}},[e("el-input",{model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),e("el-col",{attrs:{span:12}},[e("LabelWrap",{attrs:{label:"性别 "}},[e("el-select",{model:{value:t.sex,callback:function(e){t.sex=e},expression:"sex"}},[e("el-option",{attrs:{label:"男",value:1}}),e("el-option",{attrs:{label:"女",value:2}})],1)],1)],1)],1),e("el-row",{staticClass:"margin_b12",attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("LabelWrap",{attrs:{label:"生日"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","picker-options":t.unicoPickerOptions,"value-format":"yyyy-MM-dd"},model:{value:t.brith,callback:function(e){t.brith=e},expression:"brith"}})],1)],1),e("el-col",{attrs:{span:12}},[e("LabelWrap",{attrs:{label:"国籍"}},[e("el-input",{model:{value:t.nationality,callback:function(e){t.nationality=e},expression:"nationality"}})],1)],1)],1),e("el-row",{staticClass:"margin_b12",attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("LabelWrap",{attrs:{label:"地址"}},[e("el-input",{model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)],1),e("el-col",{attrs:{span:12}},[e("LabelWrap",{attrs:{label:"电话"}},[e("el-input",{model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1)],1),e("el-row",{staticClass:"margin_b12",attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("LabelWrap",{attrs:{label:"身份证"}},[e("el-input",{model:{value:t.idNumber,callback:function(e){t.idNumber=e},expression:"idNumber"}})],1)],1),e("el-col",{attrs:{span:12}},[e("LabelWrap",{attrs:{label:"从业资格证类"}},[e("el-select",{model:{value:t.certificateType,callback:function(e){t.certificateType=e},expression:"certificateType"}},[e("el-option",{attrs:{label:"巡游出租汽车驾驶员",value:1}}),e("el-option",{attrs:{label:"网约出租汽车驾驶员",value:2}}),e("el-option",{attrs:{label:"其他",value:0}})],1)],1)],1)],1),e("el-row",{staticClass:"margin_b12",attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("LabelWrap",{attrs:{label:"从业资格证号"}},[e("el-input",{model:{value:t.certificateNum,callback:function(e){t.certificateNum=e},expression:"certificateNum"}})],1)],1),e("el-col",{attrs:{span:12}},[e("LabelWrap",{attrs:{label:"准驾车型"}},[e("el-input",{model:{value:t.driverType,callback:function(e){t.driverType=e},expression:"driverType"}})],1)],1)],1),e("el-row",{staticClass:"margin_b12",attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("LabelWrap",{attrs:{label:"初始领证日期"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":t.unicoPickerOptions,type:"date","value-format":"yyyy-MM-dd"},model:{value:t.initialDate,callback:function(e){t.initialDate=e},expression:"initialDate"}})],1)],1),e("el-col",{attrs:{span:12}},[e("LabelWrap",{attrs:{label:"有效起始日期"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":t.unicoPickerOptions,type:"date","value-format":"yyyy-MM-dd"},model:{value:t.effectiveDate,callback:function(e){t.effectiveDate=e},expression:"effectiveDate"}})],1)],1)],1),e("el-row",{staticClass:"margin_b12",attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("LabelWrap",{attrs:{label:"驾驶车辆车牌"}},[e("el-input",{model:{value:t.relateVehicleNum,callback:function(e){t.relateVehicleNum=e},expression:"relateVehicleNum"}})],1)],1),e("el-col",{attrs:{span:12}},[e("LabelWrap",{attrs:{label:"核发机关"}},[e("el-input",{model:{value:t.issuOrganization,callback:function(e){t.issuOrganization=e},expression:"issuOrganization"}})],1)],1)],1),e("el-row",[t.isEdit?e("el-col",{attrs:{span:8,offset:8}},[e("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.onClickEdit}},[t._v(t._s(t.$t("common.determine")))])],1):e("el-col",{attrs:{span:8,offset:8}},[e("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.onClickAdd}},[t._v(t._s(t.$t("common.determine")))])],1)],1)],1)])],1)},s=[],l=i("5530"),r=(i("14d9"),i("2f62")),n=i("e285"),c=i("201d"),o=i("5101"),d=i("5867"),u=i("61fc"),p=i("e173"),h={name:"YongZhouDriver",data:function(){return{editIcon:u,deleteIcon:p,isEdit:!1,loading:!1,searchText:"",tableList:[],dialog:!1,name:"",sex:1,brith:new Date,nationality:"中国",address:"",phone:"",idNumber:"",certificateType:1,certificateNum:"",driverType:"",initialDate:new Date,effectiveDate:new Date,issuOrganization:"",relateVehicleNum:""}},mixins:[d["a"]],components:{LabelWrap:c["a"]},computed:Object(l["a"])(Object(l["a"])({},Object(r["b"])(["userName","isQueryInitData"])),{},{titleDialog:function(){return this.isEdit?"编辑企业信息":"新增企业信息"}}),watch:{isQueryInitData:function(t){t&&this.queryRecords()}},methods:{onClickEdit:function(){var t=this,e={creater:this.userName,name:this.name,sex:this.sex,brith:this.brith,nationality:this.nationality,address:this.address,phone:this.phone,idNumber:this.idNumber,certificateType:this.certificateType,certificateNum:this.certificateNum,driverType:this.driverType,initialDate:this.initialDate,effectiveDate:this.effectiveDate,issuOrganization:this.issuOrganization,relateVehicleNum:this.relateVehicleNum,driverId:this.row.driverId};Object(n["W"])(e).then((function(i){var a=i.status;if(0==a){for(var s in e)t.row[s]=e[s];t.$XModal.message({message:t.$t("tips.editSucc"),status:"success",zIndex:9999}),t.dialog=!1}else t.$XModal.message({message:t.$t("tips.editFail"),status:"error",zIndex:9999})}))},onClickAdd:function(){var t=this,e={creater:this.userName,name:this.name,sex:this.sex,brith:this.brith,nationality:this.nationality,address:this.address,phone:this.phone,idNumber:this.idNumber,certificateType:this.certificateType,certificateNum:this.certificateNum,driverType:this.driverType,initialDate:this.initialDate,effectiveDate:this.effectiveDate,issuOrganization:this.issuOrganization,relateVehicleNum:this.relateVehicleNum};Object(n["t"])(e).then((function(e){0==e.status?(t.tableList.push(e),t.$XModal.message({message:t.$t("tips.addSucc"),status:"success",zIndex:9999}),t.dialog=!1):t.$XModal.message({message:t.$t("tips.addFail")+": "+e.cause,status:"error",zIndex:9999})}))},handleClickAdd:function(){this.isEdit=!1,this.row=null,this.dialog=!0,this.name="",this.sex=1,this.brith=o["a"].format(new Date,"yyyy-MM-dd"),this.nationality="中国",this.address="",this.phone="",this.idNumber="",this.certificateType=1,this.certificateNum="",this.driverType="",this.initialDate=o["a"].format(new Date,"yyyy-MM-dd"),this.effectiveDate=o["a"].format(new Date,"yyyy-MM-dd"),this.issuOrganization="",this.relateVehicleNum=""},handleEdit:function(t){var e=t.row;this.isEdit=!0,this.dialog=!0,this.row=e,this.name=e.name,this.sex=e.sex,this.brith=e.brith,this.nationality=e.nationality,this.address=e.address,this.phone=e.phone,this.idNumber=e.idNumber,this.certificateType=e.certificateType,this.certificateNum=e.certificateNum,this.driverType=e.driverType,this.initialDate=e.initialDate,this.effectiveDate=e.effectiveDate,this.issuOrganization=e.issuOrganization,this.relateVehicleNum=e.relateVehicleNum},handleDelete:function(t){var e=this,i=t.rowIndex,a={drivers:[t.row.driverId]};Object(n["J"])(a).then((function(t){var a=t.status;0==a?(e.$XModal.message({message:e.$t("tips.deleteSucc"),status:"success",zIndex:9999}),e.$delete(e.tableList,i)):e.$XModal.message({message:e.$t("tips.deleteFail"),status:"success",zIndex:9999})}))},queryRecords:function(){var t=this;this.loading=!0;var e={creater:this.userName,keyword:this.searchText};Object(n["Vb"])(e).then((function(e){var i=e.drivers;t.loading=!1;var a=[];i&&(a=i),t.tableList=a}))},handleClickQuery:function(){this.queryRecords()},formatRole:function(t){var e=t.row.sex,i="";switch(e){case 1:i="男";break;case 2:i="女";break}return i}},mounted:function(){var t=this;this.$nextTick((function(){t.isQueryInitData&&t.queryRecords()}))}},m=h,f=(i("644d"),i("2877")),b=Object(f["a"])(m,a,s,!1,null,null,null),v=b.exports;e["default"]=v},fc9b:function(t,e,i){}}]);