(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a7a68d1"],{"271ae":function(t,e,o){},"2ddc":function(t,e,o){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"multi-choice",style:t.warpStyle},[e("div",{staticClass:"multi-choice-input"},["daterange"==t.dateType?e("div",[e("el-date-picker",{attrs:{type:t.dateType,"picker-options":t.pickerOptions,"range-separator":"-",align:"center","unlink-panels":"",clearable:!1,"start-placeholder":t.$t("device.driverinitialdate"),"end-placeholder":t.$t("device.drivereffectivedate")},on:{change:t.onChange},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1):t._e(),"date"==t.dateType?e("div",[e("el-date-picker",{attrs:{type:"date","picker-options":t.datePickerOptions},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1):t._e(),"datetimerange"==t.dateType?e("div",{staticClass:"datetimerange"},[e("el-date-picker",{attrs:{type:t.dateType,"range-separator":"-","picker-options":t.pickerOptionsTime,align:"center","unlink-panels":"",clearable:!1,"start-placeholder":t.$t("device.driverinitialdate"),"end-placeholder":t.$t("device.drivereffectivedate"),"default-time":["00:00:00","23:59:59"]},on:{change:t.onChange},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1):t._e(),"month"==t.dateType?e("div",[e("el-date-picker",{attrs:{type:"month"},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1):t._e()])])},i=[],r=(o("99af"),o("5101")),n=o("5867"),l={name:"SelectDate",props:{value:{type:Array|Date,default:function(){return[]}},dateType:{type:String,default:"daterange"},label:{type:String,default:function(){return this.$t("common.selectTime")}}},computed:{isDaterange:function(){return"daterange"==this.dateType},warpStyle:function(){var t=200;switch(this.dateType){case"date":t=120;break;case"daterange":t=230;break;case"datetimerange":t=310;break}return{width:"".concat(t,"px")}}},mixins:[n["a"]],data:function(){var t=864e5;return{dateRange:[],date:new Date,month:new Date,pickerOptions:{shortcuts:[{text:this.$t("reportForm.toDay"),onClick:function(t){var e=new Date;t.$emit("pick",[e,e])}},{text:this.$t("reportForm.yesterDay"),onClick:function(e){var o=new Date;o.setTime(o.getTime()-t),e.$emit("pick",[o,o])}},{text:this.$t("missing.theWeek"),onClick:function(e){var o=new Date,a=new Date,i=o.getDay();o.setTime(o.getTime()-t*(i-1)),a.setTime(o.getTime()+6*t),e.$emit("pick",[o,a])}},{text:this.$t("missing.lastWeek"),onClick:function(e){var o=new Date,a=new Date,i=o.getDay(),r=o.getTime()-t*(i-1);o.setTime(r-7*t),a.setTime(r-t),e.$emit("pick",[o,a])}},{text:this.$t("missing.thisMonth"),onClick:function(t){var e=new Date,o=e.getFullYear(),a=e.getMonth()+1,i=new Date("".concat(o,"-").concat(a,"-01")),r=new Date("".concat(o,"-").concat(a,"-01 00:00:00"));r.setMonth(r.getMonth()+1),r=new Date(r.getTime()-1e3),t.$emit("pick",[i,r])}},{text:this.$t("missing.lastMonth"),onClick:function(t){var e=new Date;e.setMonth(e.getMonth()-1);var o=e.getFullYear(),a=e.getMonth()+1,i=new Date(new Date(o,a,1)-1).getDate(),r=new Date("".concat(o,"-").concat(a,"-01")),n=new Date("".concat(o,"-").concat(a,"-").concat(i));t.$emit("pick",[r,n])}}]},pickerOptionsTime:{shortcuts:[{text:this.$t("reportForm.toDay"),onClick:function(t){var e=new Date(r["a"].format(new Date,"yyyy-MM-dd")+" 00:00:00"),o=new Date(r["a"].format(new Date,"yyyy-MM-dd")+" 23:59:59");t.$emit("pick",[e,o])}},{text:this.$t("reportForm.yesterDay"),onClick:function(e){var o=new Date;o.setTime(o.getTime()-t),e.$emit("pick",[new Date(r["a"].format(o,"yyyy-MM-dd")+" 00:00:00"),new Date(r["a"].format(o,"yyyy-MM-dd")+" 23:59:59")])}},{text:this.$t("missing.theWeek"),onClick:function(e){var o=new Date,a=new Date,i=o.getDay();o.setTime(o.getTime()-t*(i-1)),a.setTime(o.getTime()+6*t),e.$emit("pick",[new Date(r["a"].format(o,"yyyy-MM-dd")+" 00:00:00"),new Date(r["a"].format(a,"yyyy-MM-dd")+" 23:59:59")])}},{text:this.$t("missing.lastWeek"),onClick:function(e){var o=new Date,a=new Date,i=o.getDay(),n=o.getTime()-t*(i-1);o.setTime(n-7*t),a.setTime(n-t),e.$emit("pick",[new Date(r["a"].format(o,"yyyy-MM-dd")+" 00:00:00"),new Date(r["a"].format(a,"yyyy-MM-dd")+" 23:59:59")])}},{text:this.$t("missing.thisMonth"),onClick:function(t){var e=new Date,o=e.getFullYear(),a=e.getMonth()+1,i=new Date("".concat(o,"-").concat(a,"-01")),n=new Date("".concat(o,"-").concat(a,"-01 00:00:00"));n.setMonth(n.getMonth()+1),n=new Date(n.getTime()-1e3),t.$emit("pick",[new Date(r["a"].format(i,"yyyy-MM-dd")+" 00:00:00"),new Date(r["a"].format(n,"yyyy-MM-dd")+" 23:59:59")])}},{text:this.$t("missing.lastMonth"),onClick:function(t){var e=new Date;e.setMonth(e.getMonth()-1);var o=e.getFullYear(),a=e.getMonth()+1,i=new Date(new Date(o,a,1)-1).getDate(),n=new Date("".concat(o,"-").concat(a,"-01")),l=new Date("".concat(o,"-").concat(a,"-").concat(i));t.$emit("pick",[new Date(r["a"].format(n,"yyyy-MM-dd")+" 00:00:00"),new Date(r["a"].format(l,"yyyy-MM-dd")+" 23:59:59")])}}]}}},watch:{dateRange:function(t){null==t?this.$emit("input",[]):this.$emit("input",t)},value:function(t){this.dateRange=t},date:function(t){this.$emit("input",t)},month:function(t){this.$emit("input",t)}},methods:{onChange:function(t){this.$emit("input",t)}},mounted:function(){"date"==this.dateType?this.date=this.value:"month"==this.dateType?this.month=this.value:this.dateRange=this.value}},s=l,c=(o("e716"),o("2877")),d=Object(c["a"])(s,a,i,!1,null,"5dbb8594",null);e["a"]=d.exports},"33c7":function(t,e,o){},"4c3c":function(t,e,o){"use strict";o("4e82");e["a"]={data:function(){return{sortConfig:{sortMethod:function(t){var e=t.data,o=t.sortList,a=o[0],i=a.property,r=a.order,n=[];return n="desc"===r?e.sort((function(t,e){var o=t[i],a=e[i];if(isNaN(o)&&!isNaN(Date.parse(o))&&isNaN(a)&&!isNaN(Date.parse(a)))return Date.parse(a)-Date.parse(o);if(o=parseFloat(o),a=parseFloat(a),isNaN(o)||isNaN(a)){var r=e[i]+"";return r.localeCompare(t[i])}return a-o})):"asc"===r?e.sort((function(t,e){var o=t[i],a=e[i];if(isNaN(o)&&!isNaN(Date.parse(o))&&isNaN(a)&&!isNaN(Date.parse(a)))return Date.parse(o)-Date.parse(a);if(o=parseFloat(t[i]),a=parseFloat(e[i]),isNaN(o)||isNaN(a)){var r=t[i]+"";return r.localeCompare(e[i])}return o-a})):e.sort(),n}}}}}},"651b":function(t,e,o){"use strict";o("33c7")},"938a":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"report-form full oil-month-summary"},[e("div",{staticClass:"report-form-inner"},[e("div",{staticClass:"report-form-inner-header",staticStyle:{height:"35px"}},[e("div",{staticClass:"f_left"},[e("MultiChoiceVehicle",{on:{onSelectDevice:t.onSelectDevice}})],1),e("div",{staticClass:"f_left"},[e("SelectDate",{attrs:{dateType:"month"},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1),e("div",{staticClass:"f_left"},[e("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.handleQuery}},[t._v(t._s(t.$t("common.query")))])],1),e("div",{staticClass:"f_left"},[e("el-button",{attrs:{type:"primary",loading:t.exportLoading1},on:{click:t.exportData}},[t._v(t._s(t.$t("common.export")))])],1),e("div",{staticClass:"f_left",staticStyle:{flex:"1"}}),e("div",{staticClass:"f_right_desc"},[e("span",{staticStyle:{"background-color":"#31B16C"}}),e("b",[t._v(t._s(t.$t("reportForm.refuel"))+" ")]),e("span",{staticStyle:{"background-color":"#FF0000"}}),e("b",[t._v(t._s(t.$t("reportForm.leak")))]),e("span",{staticStyle:{"background-color":"#242424"}}),e("b",[t._v(t._s(t.$t("home.normal")))])])]),e("div",{staticClass:"report-form-inner-content",staticStyle:{top:"39px"}},[e("vxe-table",{ref:"xTable",staticClass:"mytable-scrollbar",attrs:{"sort-config":t.sortConfig,"menu-config":t.tableMenu,border:"",resizable:"","auto-resize":"","show-overflow":"","highlight-hover-row":"",height:"auto",data:t.totalList},on:{"menu-click":t.handleClickTableMenu,"cell-dblclick":t.onCellDblClick}},[e("vxe-table-column",{attrs:{type:"seq",width:"60",title:t.$t("reportForm.index"),fixed:"left"}}),e("vxe-table-column",{attrs:{field:"devicename",sortable:"",width:"140",title:t.$t("alarm.devName"),fixed:"left"}}),e("vxe-table-column",{attrs:{field:"deviceid",sortable:"",width:"140",title:t.$t("alarm.devNum")}}),e("vxe-table-column",{attrs:{field:"avgrunoilper100km",align:"right",formatter:t.numberToFixed2,sortable:"",width:"150",title:t.$t("reportForm.avgrunoilper100km")}}),e("vxe-table-column",{attrs:{field:"avgoilper100km",align:"right",formatter:t.numberToFixed2,sortable:"",width:"150",title:t.$t("reportForm.avgoilper100km")}}),e("vxe-table-column",{attrs:{field:"totaldistance",align:"right",formatter:t.numberToFixed2,sortable:"",width:"120",title:t.$t("reportForm.totalMileage")}}),e("vxe-table-column",{attrs:{field:"totaloil",align:"right",formatter:t.numberToFixed2,sortable:"",width:"130",title:t.$t("reportForm.totalrunconsumption")}}),e("vxe-table-column",{attrs:{field:"currenttotaloil",align:"right",formatter:t.numberToFixed2,sortable:"",width:"100",title:t.$t("reportForm.currentTotaloil")}}),e("vxe-table-column",{attrs:{field:"totaladdoil",align:"right",formatter:t.numberToFixed2,sortable:"",width:"100",title:t.$t("reportForm.totalAddOil")}}),e("vxe-table-column",{attrs:{field:"totalleakoil",align:"right",formatter:t.numberToFixed2,sortable:"",width:"100",title:t.$t("reportForm.totalLeakOil")}}),e("vxe-table-column",{attrs:{field:"totalidleoil",align:"right",formatter:t.numberToFixed2,sortable:"",width:"110",title:t.$t("reportForm.totalIdleFuel")}}),e("vxe-table-column",{attrs:{field:"totalidle",align:"right",formatter:t.numberToFixed2,sortable:"",width:"120",title:t.$t("reportForm.totalIdleTime")+"(h)"}}),e("vxe-table-column",{attrs:{field:"totalnotrunningad",align:"right",formatter:t.numberToFixed2,sortable:"",width:"120",title:t.$t("reportForm.totalnotrunningad")}}),e("vxe-table-column",{attrs:{field:"avgoilperhour",align:"right",formatter:t.numberToFixed2,sortable:"",width:"150",title:t.$t("reportForm.fuelConsumptionHour")}}),e("vxe-table-column",{attrs:{field:"totalacc",align:"right",formatter:t.numberToFixed2,sortable:"",width:"110",title:t.$t("reportForm.totalManHours")+"(h)"}}),t._l(t.dayList,(function(o,a){return[e("vxe-table-column",{key:o.deviceid,attrs:{title:o.label,width:"100"},scopedSlots:t._u([{key:"default",fn:function(o){return["-"!==o.row["day".concat(a+1)]?e("div",[e("el-popover",{attrs:{placement:"bottom",width:"200",trigger:"hover","append-to-body":!1,"popper-options":{boundariesElement:"body",gpuAcceleration:!0,positionFixed:!0,preventOverflow:!0}}},[e("div",{staticClass:"ztree-drapdown",staticStyle:{height:"256px",width:"100%",overflow:"hidden"}},[e("div",[t._v(t._s(t.$t("common.totalMileage"))+": "+t._s(o.row["dis".concat(a+1)]))]),e("div",[t._v(t._s(t.$t("common.oilConsumption"))+": "+t._s(o.row["oil".concat(a+1)]))]),e("div",[t._v(t._s(t.$t("reportForm.fuelVolume"))+": "+t._s(o.row["record".concat(a+1)]?o.row["record".concat(a+1)].addoil:0)+"L")]),e("div",[t._v(t._s(t.$t("reportForm.oilLeakage"))+": "+t._s(o.row["record".concat(a+1)]?o.row["record".concat(a+1)].leakoil:0)+"L")]),e("div",[t._v(t._s(t.$t("reportForm.runoilper100km"))+": "+t._s(o.row["record".concat(a+1)]?o.row["record".concat(a+1)].runoilper100km:0)+"L")]),e("div",[t._v(t._s(t.$t("reportForm.fuelConsumption100km"))+": "+t._s(o.row["record".concat(a+1)]?o.row["record".concat(a+1)].oilper100km:0)+"L")]),e("div",[t._v(t._s(t.$t("reportForm.idleOil"))+": "+t._s(o.row["record".concat(a+1)]?o.row["record".concat(a+1)].leakoil:0)+"L")]),e("div",[t._v(t._s(t.$t("reportForm.idleDuration"))+": "+t._s(o.row["record".concat(a+1)]?o.row["record".concat(a+1)].totalidleStr:0)+"H")]),e("div",[t._v(t._s(t.$t("reportForm.fuelConsumptionHour"))+": "+t._s(o.row["record".concat(a+1)]?o.row["record".concat(a+1)].oilperhour:0)+"L")]),e("div",[t._v(t._s(t.$t("reportForm.workingDuration"))+": "+t._s(o.row["record".concat(a+1)]?o.row["record".concat(a+1)].totalaccStr:0)+"H")]),e("div",[t._v(t._s(t.$t("reportForm.avgSpeed"))+": "+t._s(o.row["record".concat(a+1)]?o.row["record".concat(a+1)].avgspeed:0)+"km/h")]),e("div",[t._v(t._s(t.$t("reportForm.addnotrunningad"))+": "+t._s(o.row["record".concat(a+1)]?o.row["record".concat(a+1)].addnotrunningad:0)+"L")]),e("div",[t._v(t._s(t.$t("reportForm.leaknotrunningad"))+": "+t._s(o.row["record".concat(a+1)]?o.row["record".concat(a+1)].leaknotrunningad:0)+"L")])]),e("div",{attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"column-oil"},[e("div",{staticClass:"full",style:o.row["color".concat(a+1)]},[e("div",{staticStyle:{"text-align":"center"},domProps:{innerHTML:t._s(o.row["dis".concat(a+1)])}}),e("div",{staticStyle:{"text-align":"center"},domProps:{innerHTML:t._s(o.row["oil".concat(a+1)])}})])])])])],1):t._e()]}}],null,!0)})]}))],2)],1),e("el-dialog",{attrs:{title:t.$t("reportForm.oilMonthSummary")+"-"+t.deviceName,center:"",visible:t.show,width:"860px","append-to-body":"","close-on-click-modal":!1},on:{close:function(e){t.show=!1}}},[e("vxe-table",{ref:"xTableDetaile",staticClass:"mytable-scrollbar",attrs:{"sort-config":t.sortConfig,"menu-config":t.tableMenu,border:"",resizable:"","show-overflow":"","highlight-hover-row":"",height:"430",data:t.detaileList,size:"mini"},on:{"menu-click":t.handleClickTableMenu,"cell-dblclick":t.cellDblClick}},[e("vxe-table-column",{attrs:{type:"seq",width:"60",title:t.$t("reportForm.index"),fixed:"left"}}),e("vxe-table-column",{attrs:{field:"statisticsday",align:"right",formatter:t.numberToFixed2,width:"120",title:t.$t("reportForm.date"),fixed:"left"}}),e("vxe-table-column",{attrs:{field:"runoilper100km",align:"right",formatter:t.numberToFixed2,width:"120",title:t.$t("reportForm.runoilper100km")}}),e("vxe-table-column",{attrs:{field:"oilper100km",align:"right",formatter:t.numberToFixed2,width:"120",title:t.$t("reportForm.fuelConsumption100km")}}),e("vxe-table-column",{attrs:{field:"totaldistance",align:"right",formatter:t.numberToFixed2,width:"120",title:t.$t("reportForm.mileage")}}),e("vxe-table-column",{attrs:{field:"totaloil",align:"right",formatter:t.numberToFixed2,width:"120",title:t.$t("reportForm.oilConsumption")}}),e("vxe-table-column",{attrs:{field:"addoil",align:"right",formatter:t.numberToFixed2,width:"120",title:t.$t("reportForm.fuelVolume")}}),e("vxe-table-column",{attrs:{field:"leakoil",align:"right",formatter:t.numberToFixed2,width:"120",title:t.$t("reportForm.oilLeakage")}}),e("vxe-table-column",{attrs:{field:"idleoil",align:"right",formatter:t.numberToFixed2,width:"120",title:t.$t("reportForm.idleOil")}}),e("vxe-table-column",{attrs:{field:"totalnotrunningad",align:"right",formatter:t.numberToFixed2,width:"155",title:t.$t("reportForm.totalnotrunningad")}}),e("vxe-table-column",{attrs:{field:"addnotrunningad",align:"right",formatter:t.numberToFixed2,width:"155",title:t.$t("reportForm.addnotrunningad")}}),e("vxe-table-column",{attrs:{field:"leaknotrunningad",align:"right",formatter:t.numberToFixed2,width:"155",title:t.$t("reportForm.leaknotrunningad")}}),e("vxe-table-column",{attrs:{field:"totalidleStr",align:"right",formatter:t.numberToFixed2,width:"140",title:t.$t("home.idleDuration")}}),e("vxe-table-column",{attrs:{field:"totalaccStr",align:"right",formatter:t.numberToFixed2,width:"140",title:t.$t("reportForm.workingDuration")}}),e("vxe-table-column",{attrs:{field:"oilperhour",align:"right",formatter:t.numberToFixed2,width:"140",title:t.$t("reportForm.fuelConsumptionHour")}}),e("vxe-table-column",{attrs:{field:"avgspeed",align:"right",formatter:t.numberToFixed2,width:"140",title:t.$t("reportForm.avgSpeed")}})],1),e("div",{staticStyle:{"margin-top":"10px","text-align":"center"}},[e("el-button",{staticStyle:{width:"240px"},attrs:{type:"primary",loading:t.exportLoading2},on:{click:t.exportDataDeitailes}},[t._v(t._s(t.$t("common.export")))])],1)],1)],1)])},i=[],r=o("5530"),n=(o("14d9"),o("a9e3"),o("b680"),o("d3b7"),o("159b"),o("5101")),l=o("e561"),s=o("d462"),c=o("6e52"),d=o("1c31"),m=o("c276"),u=o("2f62"),h=o("4c3c"),p=o("a05b"),g={name:"oilMonthSummary",data:function(){return{show:!1,loading:!1,exportLoading1:!1,exportLoading2:!1,month:new Date,totalList:[],detaileList:[],dayList:[],deviceName:""}},components:{MultiChoiceVehicle:l["a"],SelectDate:s["a"]},watch:{month:function(){this.loading||this.handleQuery()}},mixins:[h["a"],p["a"]],computed:Object(r["a"])({},Object(u["b"])(["isZh"])),methods:Object(r["a"])(Object(r["a"])({},Object(u["c"])(["setSingleDeviceid","setJumpOilReportDate"])),{},{numberToFixed2:m["nb"],cellDblClick:function(t){var e=this,o=t.row,a=o.deviceid,i=o.statisticsday;this.$confirm(this.$t("missing.jumpToTimeOilReport"),{title:this.$t("bgManage.tip"),center:!0,customClass:"MessageBox_confirm"}).then((function(t){"confirm"==t&&(e.show=!1,e.setSingleDeviceid(a),e.setJumpOilReportDate(i),e.$router.push("/reportForm/timeOil"))})).catch((function(t){}))},onCellDblClick:function(t){var e=t.row;this.deviceName=e.devicename,this.show=!0,this.selectRow=e;for(var o=[],a=1;a<=31;a++){var i=e["record".concat(a)];if(!i)break;o.push(i)}this.detaileList=o},onSelectDevice:function(t){this.deviceids=t},handleClickRow:function(t){console.log(t)},handleQuery:function(){var t=this,e=this.deviceids;if(0!=e.length){this.dayList=this.getDayList();var o=this.dayList.length,a=n["a"].format(this.month,"yyyy-MM"),i=a.split("-"),r=this.month.getFullYear(),l=this.month.getMonth()+1,s={year:r,month:l,offset:n["a"].getOffset(),deviceids:e};this.loading=!0,Object(d["bb"])(s).then((function(e){var a=e.devices;t.loading=!1,a.forEach((function(e,a){e.index=a+1;var r=e.deviceid,n=c["a"].deviceInfos[r].devicename,s=e.records;delete e.records;for(var d=0,u=0,h=0,p=0,g=0,f=0,v=0;v<o;v++){var b=s[v];if(b){b.devicename=n,b.deviceid=r,b.addoil=b.addoil/100,b.leakoil=b.leakoil/100,b.totaloil=b.totaloil/100,b.totalnotrunningad=b.totalnotrunningad/100,b.idleoil=b.idleoil/100,b.leaknotrunningad=b.leaknotrunningad/100,b.addnotrunningad=b.addnotrunningad/100;var y=b.statisticsday.split("-")[2],w=b.totaldistance;d+=w,e["day"+String(parseInt(y))]=0==w?w+"km":(1*w/1e3).toFixed(2)+"km",e["day"+String(parseInt(y))+"oil"]=Object(m["nb"])(b.totaloil),u+=b.totaloil,h+=b.totalnotrunningad,p+=b.addoil,g+=b.leakoil,f+=b.idleoil,e["dis"+Number(y)]=e["day"+String(parseInt(y))],e["oil"+Number(y)]=e["day"+String(parseInt(y))+"oil"]+"L",b.yearmonth=i[0]+"-"+i[1],b.runoilper100km>0&&(b.runoilper100km),b.oilper100km>0&&(b.oilper100km),b.totalidleStr=b.totalidle/1e3/3600,b.totalaccStr=b.totalacc/1e3/3600,e["color".concat(Number(y))]=t.getDayColor(b),b.totaldistance=b.totaldistance/1e3,e["record".concat(Number(y))]=b}}for(var k=0;k<o;k++){y="day"+(k+1);e[y]||(e[y]="-")}e.avgrunoilper100km=e.avgrunoilper100km,e.avgoilper100km=e.avgoilper100km,e.totaloil=u,e.totalidleoil=e.totalidleoil/100,e.totalnotrunningad=h,e.avgoilperhour=e.avgoilperhour,e.currenttotaloil=e.currenttotaloil/100,e.totaladdoil=p,e.totalleakoil=g,e.idleoil=f,e.month=l,e.devicename=n,e.deviceid=r,e.totalacc=e.totalacc/1e3/3600,e.totalidle=e.totalidle/1e3/3600,e.totaldistance=1*d/1e3})),t.totalList=a})).catch((function(e){console.log(e),t.loading=!1}))}else this.$XModal.message({message:this.$t("tips.selectDevice"),status:"error",zIndex:9999})},getDayColor:function(t){var e={backgroundColor:"#ffffff",color:"#000000 !important"};return t&&(t.leakoil>0?e={backgroundColor:"#DB2121",color:"#ffffff"}:t&&t.addoil>0&&(e={backgroundColor:"#31B16C",color:"#ffffff"})),e},exportData:function(){for(var t=n["a"].format(this.month,"yyyy_MM"),e=this.dayList.length,o=[[this.$t("reportForm.index"),this.$t("alarm.devName"),this.$t("alarm.devNum"),this.$t("reportForm.avgrunoilper100km")+"(L)",this.$t("reportForm.avgoilper100km")+"(L)",this.$t("reportForm.totalMileage"),this.$t("reportForm.totalrunconsumption")+"(L)",this.$t("reportForm.currentTotaloil")+"(L)",this.$t("reportForm.totalAddOil")+"(L)",this.$t("reportForm.totalLeakOil")+"(L)",this.$t("reportForm.totalIdleFuel"),this.$t("reportForm.totalIdleTime")+"(h)",this.$t("reportForm.totalnotrunningad")+"(L)",this.$t("reportForm.fuelConsumptionHour")+"(L)",this.$t("reportForm.totalManHours")+"(h)"]],a=0;a<e;a++)o[0].push(a+1);if(0!=this.totalList.length){var i=this.$refs.xTable.getTableData().visibleData;i.forEach((function(t,a){var i=[];i.push(a+1),i.push(t.devicename),i.push(t.deviceid),i.push(t.avgrunoilper100km),i.push(t.avgoilper100km),i.push(t.totaldistance),i.push(t.totaloil),i.push(t.currenttotaloil),i.push(t.totaladdoil),i.push(t.totalleakoil),i.push(t.totalidleoil),i.push(t.totalidle),i.push(t.totalnotrunningad),i.push(t.avgoilperhour),i.push(t.totalacc);for(var r=0;r<e;r++){var n="dis"+(r+1),l="oil"+(r+1);void 0!=t[n]?i.push(t[n]+"/"+t[l]):i.push("")}o.push(i)}));var r={title:this.$t("reportForm.oilMonthSummary")+"_"+t,data:o};this.exportLoading1=!0,new ExcelCls(r).exportExcel(this)}},exportDataDeitailes:function(){var t=this.selectRow,e=n["a"].format(this.month,"yyyy_MM"),o=[[this.$t("reportForm.index"),this.$t("reportForm.date"),this.$t("alarm.devName"),this.$t("alarm.devNum"),this.$t("reportForm.runoilper100km"),this.$t("reportForm.fuelConsumption100km"),this.$t("reportForm.mileage"),this.$t("reportForm.oilConsumption"),this.$t("reportForm.fuelVolume"),this.$t("reportForm.oilLeakage"),this.$t("reportForm.idleOil"),this.$t("reportForm.totalnotrunningad"),this.$t("reportForm.addnotrunningad"),this.$t("reportForm.leaknotrunningad"),this.$t("reportForm.workingDuration"),this.$t("reportForm.fuelConsumptionHour"),this.$t("reportForm.avgSpeed")]],a=0,i=0,r=0;if(0!=this.detaileList.length){var l=this.$refs.xTableDetaile.getTableData().visibleData;l.forEach((function(t,e){a+=t.totalnotrunningad,i+=t.addnotrunningad,r+=t.leaknotrunningad;var n=[];n.push(e+1),n.push(t.statisticsday),n.push(t.devicename),n.push(t.deviceid),n.push(Object(m["nb"])(t.runoilper100km)),n.push(Object(m["nb"])(t.oilper100km)),n.push(Object(m["nb"])(t.totaldistance)),n.push(Object(m["nb"])(t.totaloil)),n.push(Object(m["nb"])(t.addoil)),n.push(Object(m["nb"])(t.leakoil)),n.push(Object(m["nb"])(t.idleoil)),n.push(Object(m["nb"])(t.totalnotrunningad)),n.push(Object(m["nb"])(t.addnotrunningad)),n.push(Object(m["nb"])(t.leaknotrunningad)),n.push(Object(m["nb"])(t.totalaccStr)),n.push(Object(m["nb"])(t.oilperhour)),n.push(Object(m["nb"])(t.avgspeed)),o.push(n)}));var s=[];s.push(""),s.push(""),s.push(""),s.push(""),s.push(t.avgrunoilper100km),s.push(t.avgoilper100km),s.push(t.totaldistance),s.push(t.totaloil),s.push(t.totaladdoil),s.push(t.totalleakoil),s.push(t.totalidleoil),s.push(a),s.push(i),s.push(r),s.push(t.totalacc),s.push(t.avgoilperhour),t.totalacc>0?s.push((t.totaldistance/t.totalacc).toFixed(2)):s.push(0),o.push(s);var c={title:this.$t("reportForm.oilMonthSummary")+"_"+this.deviceName+"_"+e,data:o};this.exportLoading2=!0,new ExcelCls(c).exportExcel(this)}},getTheMonthDays:function(t){var e=t.getFullYear(),o=t.getMonth()+1;return new Date(new Date(e,o,1)-1).getDate()},getDayList:function(){for(var t=[],e=this.getTheMonthDays(this.month),o=1;o<=e;o++)t.push({label:String(o),value:"day".concat(o)});return t}}),mounted:function(){var t=this;this.deviceids=[],this.$nextTick((function(){t.dayList=t.getDayList()}))}},f=g,v=(o("651b"),o("2877")),b=Object(v["a"])(f,a,i,!1,null,null,null),y=b.exports;e["default"]=y},d462:function(t,e,o){"use strict";var a=o("2ddc");e["a"]=a["a"]},e561:function(t,e,o){"use strict";var a=o("ea22");e["a"]=a["a"]},e716:function(t,e,o){"use strict";o("271ae")}}]);