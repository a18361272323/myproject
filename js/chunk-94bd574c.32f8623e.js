(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-94bd574c"],{"2e3b":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"report-form full checkRefuel"},[e("div",{staticClass:"report-form-inner"},[e("div",{staticClass:"report-form-inner-header",staticStyle:{height:"35px"}},[e("div",{staticClass:"f_left"},[e("SingleChoiceVehicle",{attrs:{disableShare:"",placeholder:this.$t("tips.selectSingleDevice"),width:"230px"},model:{value:t.deviceid,callback:function(e){t.deviceid=e},expression:"deviceid"}})],1),e("div",{staticClass:"f_left"},[e("SelectDate",{attrs:{dateType:"daterange"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),e("div",{staticClass:"f_left"},[e("div",{staticStyle:{padding:"4px 10px 0px 10px"}},[e("el-checkbox",{model:{value:t.isAll,callback:function(e){t.isAll=e},expression:"isAll"}},[t._v(t._s(t.$t("monitor.all")))])],1)]),e("div",{staticClass:"f_left"},[e("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.handleQuery}},[t._v(t._s(t.$t("common.query")))])],1),e("div",{staticClass:"f_left"},[e("el-button",{attrs:{type:"primary"},on:{click:t.batchSetOilRecords}},[t._v(t._s(t.$t("common.batchSettingOil")))])],1),e("div",{staticClass:"f_right",staticStyle:{position:"relative",top:"-1px"}},[e("el-button",{attrs:{type:"primary",loading:t.exportLoading2},on:{click:t.exportDetailData}},[t._v(t._s(t.$t("common.export")))])],1)]),e("div",{staticStyle:{"line-height":"40px","text-align":"center"}},[e("b",{domProps:{textContent:t._s(t.deviceNameTitle)}})]),e("OilRecordDialog",{ref:"oilRecord",on:{onSucc:t.onEditOilRecordSucc,onDelete:t.onDeleteOilRecord},model:{value:t.oilRecordDialog,callback:function(e){t.oilRecordDialog=e},expression:"oilRecordDialog"}}),e("BatchSetOilRecordDialog",{ref:"oilBatchRecord",model:{value:t.oilBatchRecordDialog,callback:function(e){t.oilBatchRecordDialog=e},expression:"oilBatchRecordDialog"}}),e("div",{staticClass:"report-form-inner-content",staticStyle:{top:"75px"}},[e("div",[e("div",[e("vxe-table",{ref:"xTable",attrs:{"row-class-name":t.rowClassName,"cell-class-name":t.headerCellClassName,"auto-resize":"",border:"",resizable:"","show-overflow":"","highlight-current-row":"","highlight-hover-row":"",height:"auto",data:t.totalList,size:"mini"},on:{"cell-click":t.handleClickRow}},[e("vxe-table-column",{attrs:{type:"seq",width:"55",title:t.$t("reportForm.index"),fixed:"left"}}),e("vxe-table-column",{attrs:{title:t.$t("reportForm.action"),width:"44"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticStyle:{"padding-top":"7px"}},[e("span",{staticStyle:{padding:"0px 11px 0px 0px"}},[e("img",{staticStyle:{width:"17px",cursor:"pointer"},attrs:{src:t.editIcon},on:{click:function(e){return t.handleEditSingle(i)}}})])])]}}])}),e("vxe-table-column",{attrs:{field:"statisticsday",width:"300",title:t.$t("reportForm.time")}}),e("vxe-table-column",{attrs:{field:"oilIndexStr",width:"80",title:t.$t("reportForm.oilIndex")}}),e("vxe-table-column",{attrs:{field:"oilStatus",sortable:"",width:"70",title:t.$t("reportForm.status")}}),e("vxe-table-column",{attrs:{field:"oil",sortable:"",width:"80",title:t.$t("reportForm.oil")}}),e("vxe-table-column",{attrs:{field:"soil",width:"80",title:t.$t("reportForm.startOil")}}),e("vxe-table-column",{attrs:{field:"eoil",width:"80",title:t.$t("reportForm.endOil")}}),e("vxe-table-column",{attrs:{field:"marker",sortable:"",title:t.$t("reportForm.remarks")}}),e("vxe-table-column",{attrs:{field:"address",title:t.$t("reportForm.address")}})],1)],1),e("div",[e("div",{staticClass:"fuel-leak-oil-month-map"},[e("ReportMap",{ref:"mapIns"})],1),e("div",{staticClass:"fuel-leak-oil-month-echarts"},[e("FuelLeakOilEcharts",{ref:"echartsIns",on:{"select-index":t.onSelectIndex}})],1)])])])],1)])},o=[],s=i("5530"),l=(i("99af"),i("14d9"),i("4e82"),i("e9c4"),i("a9e3"),i("b680"),i("b64b"),i("d3b7"),i("159b"),i("4795"),i("d462")),r=i("d03a"),n=i("80f4"),c=i("945e"),d=i("4258"),m=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:t.title,center:"",visible:t.value,width:"720px","append-to-body":"","close-on-click-modal":!1},on:{close:function(e){return t.$emit("input",!1)}}},[e("vxe-table",{ref:"xTable",attrs:{"auto-resize":"",border:"",resizable:"","show-overflow":"","highlight-hover-row":"",height:"300",data:t.tableData,size:"mini"}},[e("vxe-table-column",{attrs:{type:"seq",width:"55",title:t.$t("reportForm.index"),fixed:"left"}}),e("vxe-table-column",{attrs:{field:"status",width:"80",title:t.$t("reportForm.checkResult")}}),e("vxe-table-column",{attrs:{field:"statisticsday",width:"270",title:t.$t("reportForm.time")}}),e("vxe-table-column",{attrs:{field:"oilIndexStr",width:"80",title:t.$t("reportForm.oilIndex")}}),e("vxe-table-column",{attrs:{field:"oilStatus",type:"html",width:"70",title:t.$t("reportForm.status")}}),e("vxe-table-column",{attrs:{field:"beforeOil",title:t.$t("bgManage.beforeAdjustment")}}),e("vxe-table-column",{attrs:{field:"afterOil",title:t.$t("bgManage.afterAdjustment")}})],1),e("div",{staticStyle:{height:"40px","line-height":"40px"}},[e("el-row",[e("el-col",{attrs:{span:24}},[e("span",{domProps:{textContent:t._s(t.$t("bgManage.beforeAdjustment"))}}),t._v(": "),e("span",{domProps:{textContent:t._s(t.beforeTotalOil)}})])],1)],1),e("div",{staticStyle:{height:"30px","line-height":"30px"}},[e("el-row",[e("el-col",{attrs:{span:24}},[e("span",{domProps:{textContent:t._s(t.$t("bgManage.afterAdjustment"))}}),t._v(": "),e("span",{domProps:{textContent:t._s(t.afterTotalOil)}})])],1)],1),e("div",{staticStyle:{"margin-top":"10px"}},[e("el-row",[e("el-col",{attrs:{span:12}},[e("el-radio",{attrs:{label:1},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v(t._s(t.$t("bgManage.percentage")))]),e("el-input",{staticStyle:{width:"100px"},attrs:{disabled:1!=t.radio},model:{value:t.percentage,callback:function(e){t.percentage=t._n(e)},expression:"percentage"}}),e("span",{staticStyle:{"padding-left":"4px"}},[t._v("%")])],1),e("el-col",{attrs:{span:12}},[e("el-radio",{attrs:{label:2},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v(t._s(t.$t("bgManage.value")))]),e("el-input",{staticStyle:{width:"100px"},attrs:{disabled:2!=t.radio},model:{value:t.numericalValue,callback:function(e){t.numericalValue=t._n(e)},expression:"numericalValue"}}),e("span",{staticStyle:{"padding-left":"4px"}},[t._v("L")])],1)],1)],1),e("div",{staticStyle:{height:"40px","line-height":"40px","text-align":"center"}},[e("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary",loading:t.loading},on:{click:t.handleBatchEdit}},[t._v(t._s(t.$t("common.submit")))])],1)],1)},h=[],u=(i("d81d"),i("201d")),p=i("1c31"),f=i("2f62"),b={name:"OilRecordDialog",props:{value:{type:Boolean,default:!1}},data:function(){return{loading:!1,title:"",beforeTotalOil:"",afterTotalOil:"",radio:1,percentage:"",numericalValue:"",tableData:[]}},computed:Object(s["a"])({},Object(f["b"])(["isZh"])),components:{LabelWrap:u["a"]},watch:{percentage:function(t){if(isNaN(t))this.$XModal.message({message:this.$t("tips.inputNumber"),status:"error",zIndex:9999});else{var e=0,i=0;this.tableData.forEach((function(a){a.afterOil=Number((Number(a.beforeOil)*((100+t)/100)).toFixed(2)),-1==a.oilstate?i+=Number(a.afterOil):1==a.oilstate&&(Number(a.afterOil)<0&&(a.afterOil=0),e+=Number(a.afterOil))})),e=Number(e.toFixed(2)),i=Number(i.toFixed(2)),this.afterTotalOil="".concat(this.$t("reportForm.totalFuelVolume"),":").concat(e,"L ").concat(this.$t("reportForm.totalLeakVolume"),":").concat(i,"L")}},numericalValue:function(t){if(isNaN(t))this.$XModal.message({message:this.$t("tips.inputNumber"),status:"error",zIndex:9999});else{var e=0,i=0;this.tableData.forEach((function(a){a.afterOil=Number((Number(a.beforeOil)+t).toFixed(2)),-1==a.oilstate?i+=Number(a.afterOil):1==a.oilstate&&(Number(a.afterOil)<0&&(a.afterOil=0),e+=Number(a.afterOil))})),e=Number(e.toFixed(2)),i=Number(i.toFixed(2)),this.afterTotalOil="".concat(this.$t("reportForm.totalFuelVolume"),":").concat(e,"L ").concat(this.$t("reportForm.totalLeakVolume"),":").concat(i,"L")}}},methods:{setOilRecordInfo:function(t){var e=t.title,i=t.records,a=t.beforeTotalOil,o=t.afterTotalOil;this.title=e,this.beforeTotalOil=a,this.afterTotalOil=o,this.records=i,this.tableData=i.map((function(t){return{status:"-",statisticsday:t.statisticsday,oilIndexStr:t.oilIndexStr,oilStatus:t.oilStatus,oilstate:t.oilstate,beforeOil:t.oil,afterOil:t.oil}}))},handleBatchEdit:function(){var t=this,e=this.radio,i=this.records,a=JSON.parse(JSON.stringify(i)),o=this.percentage,s=this.numericalValue;if(1==e){if(""==o||isNaN(o))return void this.$XModal.message({message:this.$t("tips.inputNumber"),status:"error",zIndex:9999});a.map((function(t){return t.oil=Number((Number(t.oil)*((100-o)/100)).toFixed(2)),t.eoil=Number((t.soil+t.oil).toFixed(2)),t.oil*=100,t.soil*=100,t.eoil*=100,t}))}else{if(""==s||isNaN(s))return void this.$XModal.message({message:this.$t("tips.inputNumber"),status:"error",zIndex:9999});a.map((function(t){return t.oil=Number((t.oil+s).toFixed(2)),t.eoil=Number((t.soil+t.oil).toFixed(2)),t.oil*=100,t.soil*=100,t.eoil*=100,t}))}this.loading=!0;var l=this.tableData,r=this.$parent;Object(p["j"])({oilrecords:a}).then((function(a){t.loading=!1;var n=a.records;if(0==a.status){n.forEach((function(t){var a=t.cause,r=t.oilrecordid,n=t.status;i.forEach((function(t,i){r==t.oilrecordid&&(0==n?(l[i].status=a,1==e?(t.oil=Number((Number(t.oil)*((100-o)/100)).toFixed(2)),t.eoil=Number((t.soil+t.oil).toFixed(2))):(t.oil=Number((t.oil+s).toFixed(2)),t.eoil=Number((t.soil+t.oil).toFixed(2)))):l[i].status=a)}))}));var c=0,d=0;i.forEach((function(t){1==t.oilstate?c+=Number(t.oil):-1==t.oilstate&&(d+=Math.abs(Number(t.oil)))})),c=Number(c.toFixed(2)),d=Number(d.toFixed(2)),r.deviceNameTitle=t.title+" "+"".concat(t.$t("reportForm.totalFuelVolume"),":").concat(c,"L ").concat(t.$t("reportForm.totalLeakVolume"),":").concat(d,"L"),t.$XModal.message({message:t.$t("tips.editSucc"),status:"success",zIndex:9999})}else t.$XModal.message({message:t.$t("tips.editFail"),status:"error",zIndex:9999})}))}}},v=b,g=i("2877"),x=Object(g["a"])(v,m,h,!1,null,null,null),y=x.exports,$=i("7cf8"),O=i("5101"),F=i("c276"),k=i("6e52"),S=i("61fc"),N={name:"CheckRefuel",data:function(){return{editIcon:S,deviceid:"",deviceNameTitle:"",tableTitle:"",dateRange:[new Date,new Date],exportLoading2:!1,isAll:!1,loading:!1,oilRecordDialog:!1,oilBatchRecordDialog:!1,totalList:[],oilindex:"0",oilstate:99,oilIndexList:[{label:this.$t("reportForm.totalDriving"),value:"0"},{label:this.$t("reportForm.tank1"),value:"1"},{label:this.$t("reportForm.tank2"),value:"2"},{label:this.$t("reportForm.tank3"),value:"3"},{label:this.$t("reportForm.tank4"),value:"4"},{label:this.$t("reportForm.totalNotRun"),value:"99"}]}},components:{SingleChoiceVehicle:r["a"],SelectDate:l["a"],ReportMap:n["a"],FuelLeakOilEcharts:c["a"],OilRecordDialog:d["a"],BatchSetOilRecordDialog:y},watch:{deviceid:function(t){this.setSingleDeviceid(t)},month:function(){this.loading||this.handleQuery()}},computed:Object(s["a"])({},Object(f["b"])(["singleDeviceid"])),methods:Object(s["a"])(Object(s["a"])({},Object(f["c"])(["setSingleDeviceid"])),{},{rowClassName:function(t){var e=t.row;t.rowIndex;return e.isSelected?"row--current":1==e.maunedit?"row-yellow":""},headerCellClassName:function(t){var e=t.column,i=t.row;if("oilStatus"===e.field){var a=i.oilstate,o="";switch(a){case-1:o="red-font";break}return o}return null},handleEditSingle:function(t){var e=t.row,i=t.rowIndex,a=JSON.parse(JSON.stringify(e));a.soil*=100,a.eoil*=100,a.dateStr=O["a"].longToLocalDateTimeStr(a.endtime),this.$refs.oilRecord.setOilRecordInfo(a),this.oilRecordDialog=!0,this.selectRow=e,this.rowIndex=i},onEditOilRecordSucc:function(t){var e=this.selectRow;e.soil=t.soil/100,e.eoil=t.eoil/100,e.oil=Number((e.eoil-e.soil).toFixed(2)),e.maunedit=1,e.marker=t.marker,this.handleClickRow({row:e})},onDeleteOilRecord:function(){this.$delete(this.totalList,this.rowIndex),this.$refs.mapIns.markersAndLineLayerToMap([]),this.$refs.echartsIns.updateChartsOption([]);var t=0,e=0,i="",a="";this.totalList.forEach((function(o){i=o.devicename,a=o.deviceid,-1==o.oilstate?e+=Number(o.oil):1==o.oilstate&&(t+=Number(o.oil))})),this.deviceNameTitle=i+"-"+a+" (".concat(this.totalList.length,") ").concat(this.$t("reportForm.totalFuelVolume"),":").concat(t.toFixed(2),"L ").concat(this.$t("reportForm.totalLeakVolume"),":").concat(e.toFixed(2),"L")},batchSetOilRecords:function(){if(this.totalList.length>0){var t=0,e=0,i="",a="";this.totalList.forEach((function(o){i=o.devicename,a=o.deviceid,-1==o.oilstate?e+=Number(o.oil):1==o.oilstate&&(t+=Number(o.oil))})),t=t.toFixed(2),e=e.toFixed(2);var o={title:"".concat(i," - ").concat(a," (").concat(this.totalList.length,")"),beforeTotalOil:"".concat(this.$t("reportForm.totalFuelVolume"),":").concat(t,"L ").concat(this.$t("reportForm.totalLeakVolume"),":").concat(e,"L"),afterTotalOil:"".concat(this.$t("reportForm.totalFuelVolume"),":").concat(t,"L ").concat(this.$t("reportForm.totalLeakVolume"),":").concat(e,"L"),records:this.totalList};this.$refs.oilBatchRecord.setOilRecordInfo(o),this.oilBatchRecordDialog=!0}else this.$XModal.message({message:this.$t("tips.noRecordsPleaseCheck"),status:"error",zIndex:9999})},onSelectIndex:function(t){this.$refs.mapIns.moveingCarMarker(t)},handleClickRow:function(t){var e=this,i=t.row,a=O["a"].longToLocalDateTimeStr(i.begintime-6e5),o=O["a"].longToLocalDateTimeStr(i.endtime+6e5),s={deviceid:i.deviceid,begintime:a,endtime:o,timezone:O["a"].getOffset()};Object($["X"])(s).then((function(t){var a=t.records;a&&a.length?(e.$refs.mapIns.carMarkersAndLineLayerToMap(a,i),e.$refs.echartsIns.updateChartsOption(a,[i])):(e.$XModal.message({message:e.$t("device.dataEmptyTips"),status:"error",zIndex:9999}),e.$refs.mapIns.markersAndLineLayerToMap([]),e.$refs.echartsIns.updateChartsOption([]))}))},handleQuery:function(){var t=this,e=this,i=this.deviceid,a=this.dateRange;if(i){var o=null,s=null;this.isAll?(o=O["a"].format(new Date(Date.now()-63072e6),"yyyy-MM-dd"),s=O["a"].format(new Date,"yyyy-MM-dd")):(o=O["a"].format(a[0],"yyyy-MM-dd"),s=O["a"].format(a[1],"yyyy-MM-dd"));var l={startday:o,endday:s,oilstate:this.oilstate,oilindex:Number(this.oilindex),deviceids:[i],offset:O["a"].getOffset()};this.loading=!0,Object(p["eb"])(l).then((function(i){var a=i.records,l=i.addressmap;t.addressmap=l,t.loading=!1;var r=[],n="";a&&a.length&&a.forEach((function(e){var i=e.deviceid,a=k["a"].deviceInfos[i],c=a.devicename,d=a.creater,m=a.groupname,h=e.records,u=0,p=0;e.devicename=c,n=c+"-"+i,h.sort((function(t,e){return e.begintime-t.begintime})),h.forEach((function(e){e.devicename=c,e.deviceid=i,e.creater=d,e.groupname=m,e.soil=e.soil/100,e.eoil=e.eoil/100;var a=Number(Math.abs(e.eoil-e.soil).toFixed(2)),o="";-1==e.oilstate?(o=t.$t("reportForm.leak"),p+=Number(a),e.oil=Number("-"+a)):1==e.oilstate&&(o=t.$t("reportForm.refuel"),u+=Number(a),e.oil=a),e.devicename=c,e.deviceid=i,e.oilIndexStr=Object(F["V"])(e.oilindex),e.oilStatus=o,e.statisticsday=O["a"].longToLocalDateTimeStr(e.begintime)+" - "+O["a"].longToLocalDateTimeStr(e.endtime);var s=Object(F["M"])(l,e.slat,e.slon);e.address=s||"-"})),h.length>0?(e.begintimeStr=O["a"].longToLocalDateTimeStr(h[0].begintime),e.endtimeStr=O["a"].longToLocalDateTimeStr(h[h.length-1].endtime)):(e.begintimeStr=o+" 00:00:00",e.endtimeStr=s+" 23:59:59"),n+=" (".concat(h.length,") ").concat(t.$t("reportForm.totalFuelVolume"),":").concat(u.toFixed(2),"L ").concat(t.$t("reportForm.totalLeakVolume"),":").concat(p.toFixed(2),"L"),r=h})),t.deviceNameTitle=n,t.totalList=r,r.length>0&&setTimeout((function(){e.$refs.xTable.setCurrentRow(r[0],!0),e.handleClickRow({row:r[0]})}),400)})).catch((function(t){console.log(t)}))}else this.$XModal.message({message:this.$t("tips.selectDevice"),status:"error",zIndex:9999})},exportDetailData:function(){var t=this;if(this.totalList.length>0){var e=[[this.$t("reportForm.index"),this.$t("alarm.devName"),this.$t("alarm.devNum"),this.$t("reportForm.creater"),this.$t("reportForm.groupName"),this.$t("reportForm.time"),this.$t("reportForm.oilIndex"),this.$t("reportForm.status"),this.$t("reportForm.oil"),this.$t("reportForm.startOil"),this.$t("reportForm.endOil"),this.$t("reportForm.address")]];this.totalList.forEach((function(i,a){var o=[];o.push(a+1),o.push(i.devicename),o.push(i.deviceid),o.push(i.creater),o.push(i.groupname),o.push(i.statisticsday),o.push(i.oilIndexStr),-1==i.oilstate?o.push(t.$t("reportForm.leak")):1==i.oilstate&&o.push(t.$t("reportForm.refuel")),o.push(i.oil),o.push(i.soil),o.push(i.eoil),o.push(i.address),e.push(o)}));var i={title:this.$t("bgManage.checkRefuel"),data:e};this.exportLoading2=!0,new ExcelCls(i).exportExcel(this)}}}),mounted:function(){this.singleDeviceid&&(this.deviceid=this.singleDeviceid)}},w=N,D=(i("df6c"),Object(g["a"])(w,a,o,!1,null,null,null)),L=D.exports;e["default"]=L},"7f6d":function(t,e,i){},"80f4":function(t,e,i){"use strict";var a=i("32eb");e["a"]=a["a"]},"945e":function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{ref:"chartId",staticClass:"full"})},o=[],s=i("ade3"),l=i("5530"),r=(i("14d9"),i("b0c0"),i("e9c4"),i("a9e3"),i("b680"),i("b64b"),i("d3b7"),i("159b"),i("43c8")),n=i.n(r),c=i("2f62"),d=i("c276"),m=i("5101"),h=i("5aff"),u={name:"FuelLeakOilEcharts",computed:Object(l["a"])({},Object(c["b"])(["isZh"])),methods:{initChart:function(){var t=this;this.distance=[],this.recvtime=[],this.veo=[],this.totalad=[],this.notRunOil=[],this.oil1=[],this.oil2=[],this.oil3=[],this.oil4=[],this.devStates=[],this.devReissue=[],this.markPointData=[],this.markPointDataOil1=[],this.markPointDataOil2=[],this.markPointDataOil3=[],this.markPointDataOil4=[],this.markPointDataOil99=[],this.disMin=0,this.totalDistanceMin=0;var e=this.$t("reportForm.oil2"),i=this.$t("reportForm.oil3"),a=this.$t("reportForm.oil4");this.selectedLegend=Object(s["a"])(Object(s["a"])(Object(s["a"])({},e,!1),i,!1),a,!1),this.chartsIns=n.a.init(this.$refs.chartId),this.chartsIns.setOption(this.getChartsOption(),!0),this.chartsIns.getZr().on("click",(function(e){var i=[e.offsetX,e.offsetY];if(t.chartsIns.containPixel("grid",i)&&t.recvtime.length){var a=t.chartsIns.convertFromPixel({seriesIndex:0},[e.offsetX,e.offsetY])[0];t.$emit("select-index",a)}}))},updateChartsOption:function(t,e){var i=this,a=[],o=[],s=[],l=[],r=[],n=[],c=[],h=[],u=[],p=[],f=[],b=0;t.forEach((function(t,e){t.totaldistance=t.totaldistance/1e3,t.totalad=t.totalad/100,t.ad0=t.ad0/100,t.ad1=t.ad1/100,t.ad2=t.ad2/100,t.ad3=t.ad3/100,0==e&&(b=t.totaldistance),n.push(t.ad0),c.push(t.ad1),h.push(t.ad2),u.push(t.ad3),p.push(t.strstatus),f.push(0==t.reissue?i.$t("header.no"):i.$t("header.yes")),l.push(t.totalad),r.push(t.totalnotrunningad),o.push(m["a"].longToLocalDateTimeStr(t.updatetime)),s.push(Number((t.speed/1e3).toFixed(0))),a.push(Number((t.totaldistance-b).toFixed(3)))})),this.distance=a,this.recvtime=o,this.veo=s,this.totalad=l,this.notRunOil=r,this.oil1=n,this.oil2=c,this.oil3=h,this.oil4=u,this.devStates=p,this.devReissue=f,e&&(e=JSON.parse(JSON.stringify(e)),e.forEach((function(t){t.eoil=100*t.eoil,t.soil=100*t.soil}))),this.markPointData=Object(d["a"])(t,e,0),this.totalDistanceMin=b,this.chartsIns.setOption(this.getChartsOption(),!0),this.chartsIns.resize()},resize:function(){this.chartsIns.resize()},getChartsOption:function(){var t=this.$t("reportForm.totalOil"),e=this.$t("reportForm.notRunTotalad"),i=this.$t("reportForm.speed"),a=this.$t("reportForm.mileage"),o=this.$t("reportForm.time"),s=this.$t("reportForm.oil1"),r=this.$t("reportForm.oil2"),n=this.$t("reportForm.oil3"),c=this.$t("reportForm.oil4"),m=this.$t("reportForm.status"),u=this.$t("reportForm.reissue");this.totalDistanceMin;return{grid:{top:40,left:60,right:60,bottom:20},tooltip:Object(l["a"])(Object(l["a"])({trigger:"axis"},h["a"]),{},{formatter:function(l){var m="<div>".concat(l[0].name,"</div>");for(var u in l){var p=l[u].seriesName,f=l[u].value;p&&p!=o&&(m+=p==a?Object(d["i"])(h["b"],p,f,"km"):p==i?Object(d["i"])(h["h"],p,f,"km/h"):p==t?Object(d["i"])(h["k"],p,f,"L"):p==e?Object(d["i"])(h["c"],p,f,"L"):p==s?Object(d["i"])(h["d"],p,f,""):p==r?Object(d["i"])(h["e"],p,f,""):p==n?Object(d["i"])(h["f"],p,f,""):p==c?Object(d["i"])(h["g"],p,f,""):Object(d["i"])(h["m"],p,f,""))}return'<div style="width:230px">'.concat(m,"</div>")}}),legend:{data:[i,a,t,e,s,r,n,c],selected:this.selectedLegend,x:"left"},xAxis:[{type:"category",boundaryGap:!1,axisLine:{onZero:!1},data:this.recvtime}],yAxis:[{name:this.$t("reportForm.oil"),type:"value",nameTextStyle:10,nameGap:5,axisLabel:{formatter:"{value} L"}},{name:a,type:"value",nameTextStyle:10,nameGap:2,min:this.disMin,axisLabel:{formatter:"{value} km"},axisTick:{show:!1}}],series:[{name:o,type:"line",symbol:"none",yAxisIndex:1,color:"#F0805A",smooth:!0,data:this.recvtime},{name:i,type:"line",symbol:"none",yAxisIndex:1,smooth:!0,color:h["h"],data:this.veo},{name:a,type:"line",symbol:"none",yAxisIndex:1,color:h["b"],smooth:!0,data:this.distance},{smooth:!0,name:t,type:"line",symbol:"none",color:h["k"],data:this.totalad,markPoint:{data:this.markPointData,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:e,type:"line",symbol:"none",color:h["c"],data:this.notRunOil,markPoint:{data:this.markPointDataOil99,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:s,type:"line",symbol:"none",color:h["d"],data:this.oil1,markPoint:{data:this.markPointDataOil1,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:r,type:"line",symbol:"none",color:h["e"],data:this.oil2,markPoint:{data:this.markPointDataOil2,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:n,type:"line",symbol:"none",color:h["f"],data:this.oil3,markPoint:{data:this.markPointDataOil3,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:c,type:"line",symbol:"none",color:h["g"],data:this.oil4,markPoint:{data:this.markPointDataOil4,symbolSize:36,symbolKeepAspect:!0}},{smooth:!0,name:m,type:"line",symbol:"none",color:h["m"],data:this.devStates},{smooth:!0,name:u,type:"line",symbol:"none",color:h["m"],data:this.devReissue}]}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))}},p=u,f=i("2877"),b=Object(f["a"])(p,a,o,!1,null,null,null);e["a"]=b.exports},d03a:function(t,e,i){"use strict";var a=i("26c6");e["a"]=a["a"]},d462:function(t,e,i){"use strict";var a=i("2ddc");e["a"]=a["a"]},df6c:function(t,e,i){"use strict";i("7f6d")}}]);